/*! For license information please see main.82106ce5.js.LICENSE.txt */
!function(){var e={569:function(e,t,n){e.exports=n(36)},381:function(e,t,n){"use strict";var r=n(589),i=n(297),a=n(301),s=n(774),o=n(804),u=n(145),l=n(411),c=n(789),d=n(531),h=n(795),f=n(261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+_)}var x=o(e.baseURL,e.url);function w(){if(k){var r="getAllResponseHeaders"in k?u(k.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=w:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(w)},k.onabort=function(){k&&(n(new d("Request aborted",d.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var N=(e.withCredentials||l(x))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;N&&(m[e.xsrfHeaderName]=N)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var S=f(x);S&&-1===["http","https","file"].indexOf(S)?n(new d("Unsupported protocol "+S+":",d.ERR_BAD_REQUEST,e)):k.send(v)}))}},36:function(e,t,n){"use strict";var r=n(589),i=n(49),a=n(773),s=n(777);var o=function e(t){var n=new a(t),o=i(a.prototype.request,n);return r.extend(o,a.prototype,n),r.extend(o,n),o.create=function(n){return e(s(t,n))},o}(n(709));o.Axios=a,o.CanceledError=n(795),o.CancelToken=n(857),o.isCancel=n(517),o.VERSION=n(600).version,o.toFormData=n(397),o.AxiosError=n(531),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(89),o.isAxiosError=n(580),e.exports=o,e.exports.default=o},857:function(e,t,n){"use strict";var r=n(795);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},795:function(e,t,n){"use strict";var r=n(531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},773:function(e,t,n){"use strict";var r=n(589),i=n(774),a=n(470),s=n(733),o=n(777),u=n(804),l=n(835),c=l.validators;function d(e){this.defaults=e,this.interceptors={request:new a,response:new a}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),a=Promise.resolve(t);d.length;)a=a.then(d.shift(),d.shift());return a}for(var h=t;r.length;){var f=r.shift(),p=r.shift();try{h=f(h)}catch(v){p(v);break}}try{a=s(h)}catch(v){return Promise.reject(v)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},d.prototype.getUri=function(e){e=o(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(o(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},531:function(e,t,n){"use strict";var r=n(589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,s,o,u){var l=Object.create(a);return r.toFlatObject(e,l,(function(e){return e!==Error.prototype})),i.call(l,e.message,t,n,s,o),l.name=e.name,u&&Object.assign(l,u),l},e.exports=i},470:function(e,t,n){"use strict";var r=n(589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},804:function(e,t,n){"use strict";var r=n(44),i=n(549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},733:function(e,t,n){"use strict";var r=n(589),i=n(693),a=n(517),s=n(709),o=n(795);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},297:function(e,t,n){"use strict";var r=n(531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},693:function(e,t,n){"use strict";var r=n(589),i=n(709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},709:function(e,t,n){"use strict";var r=n(589),i=n(341),a=n(531),s=n(789),o=n(397),u={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:s,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===s){var u=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,u&&new u)}return a||"application/json"===s?(l(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw a.from(o,a.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(35)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(u)})),e.exports=c},789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},600:function(e){e.exports={version:"0.27.2"}},49:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},774:function(e,t,n){"use strict";var r=n(589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},301:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},44:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},580:function(e,t,n){"use strict";var r=n(589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},411:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},341:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},35:function(e){e.exports=null},145:function(e,t,n){"use strict";var r=n(589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,s={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},89:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},397:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,s){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+s);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var o,u=s?s+"."+a:a;if(n&&!s&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(o=r.toArray(n)))return void o.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(s,i(a))}(e),t}},835:function(e,t,n){"use strict";var r=n(600).version,i=n(531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var s=r[a],o=t[s];if(o){var u=e[s],l=void 0===u||o(u,s,e);if(!0!==l)throw new i("option "+s+" must be "+l,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:a}},589:function(e,t,n){"use strict";var r,i=n(49),a=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function u(e){return Array.isArray(e)}function l(e){return"undefined"===typeof e}var c=o("ArrayBuffer");function d(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=o("Date"),p=o("File"),v=o("Blob"),m=o("FileList");function y(e){return"[object Function]"===a.call(e)}var g=o("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,_=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:d,isPlainObject:h,isUndefined:l,isDate:f,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return d(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,s={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)s[a=r[i]]||(t[a]=e[a],s[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:o,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:m}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function u(e){return r.isMemo(e)?s:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=c(n);d&&(s=s.concat(d(n)));for(var o=u(t),v=u(n),m=0;m<s.length;++m){var y=s[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!o||!o[y])){var g=h(n,y);try{l(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return _(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=o,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||_(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===o||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},309:function(e,t,n){"use strict";e.exports=n(746)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?f(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function _(e,t){var n,r,i,a=k.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=m(t)),l(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)l(i=t[r=k[n]])||(e[r]=i);return e}function x(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function w(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function N(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,s,u=[],l=arguments.length;for(a=0;a<l;a++){if(i="","object"===typeof arguments[a]){for(s in i+="\n["+a+"] ",arguments[0])o(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}N(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(N(t),I[e]=!0)}function T(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)o(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(e,t){var n,r=f({},e);for(n in t)o(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&s(e[n])&&(r[n]=f({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function A(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function O(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=T(r[i])?r[i].call(t,e):r[i];return a}}function B(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||H(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,n-=1;return e}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function K(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)o(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function se(e,t){ae[e]=t}function oe(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function de(e,t){return function(n){return null!=n?(fe(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return T(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=oe(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,xe=/\d\d?/,we=/\d\d\d\d?/,Ne=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Ee=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Te=/[+-]?\d+/,De=/Z|[+-]\d\d:?\d\d/gi,je=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ae(e,t,n){me[e]=T(t)?t:function(e,r){return e&&n?n:t}}function Oe(e,t){return o(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&o(Fe,e)&&Fe[e](t,n._a,n,e)}var He,Be=0,We=1,qe=2,Ye=3,Ge=4,Ke=5,Qe=6,$e=7,Xe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}He=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),se("month",8),Ae("M",xe),Ae("MM",xe,ge),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=ce(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function st(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ot(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=He.call(this._shortMonthsParse,s))?i:null:-1!==(i=He.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=He.call(this._shortMonthsParse,s))||-1!==(i=He.call(this._longMonthsParse,s))?i:null:-1!==(i=He.call(this._longMonthsParse,s))||-1!==(i=He.call(this._shortMonthsParse,s))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return ot.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function dt(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(o(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(o(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Me(r[t]),i[t]=Me(i[t]);for(t=0;t<24;t++)a[t]=Me(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),se("year",1),Ae("Y",Te),Ae("YY",xe,ge),Ae("YYYY",Ee,be),Ae("YYYYY",Ie,_e),Ae("YYYYYY",Ie,_e),Ue(["YYYYY","YYYYYY"],Be),Ue("YYYY",(function(e,t){t[Be]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Ue("YY",(function(e,t){t[Be]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[Be]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var mt=de("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,a,s),o}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var a,s,o=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return o<=0?s=vt(a=e-1)+o:o>vt(e)?(a=e+1,s=o-vt(e)):(a=e,s=o),{year:a,dayOfYear:s}}function xt(e,t,n){var r,i,a=bt(e.year(),t,n),s=Math.floor((e.dayOfYear()-a-1)/7)+1;return s<1?r=s+wt(i=e.year()-1,t,n):s>wt(e.year(),t,n)?(r=s-wt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function wt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function Nt(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),se("week",5),se("isoWeek",5),Ae("w",xe),Ae("ww",xe,ge),Ae("W",xe),Ae("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var St={dow:0,doy:6};function Et(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Tt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Dt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function jt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),se("day",11),se("weekday",11),se("isoWeekday",11),Ae("d",xe),Ae("e",xe),Ae("E",xe),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),At="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,Mt=Pe,Ft=Pe;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=He.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=He.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=He.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=He.call(this._weekdaysParse,s))||-1!==(i=He.call(this._shortWeekdaysParse,s))||-1!==(i=He.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=He.call(this._shortWeekdaysParse,s))||-1!==(i=He.call(this._weekdaysParse,s))||-1!==(i=He.call(this._minWeekdaysParse,s))?i:null:-1!==(i=He.call(this._minWeekdaysParse,s))||-1!==(i=He.call(this._weekdaysParse,s))||-1!==(i=He.call(this._shortWeekdaysParse,s))?i:null}function Bt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Ht.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Dt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=jt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,s=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Me(this.weekdaysMin(n,"")),i=Me(this.weekdaysShort(n,"")),a=Me(this.weekdays(n,"")),s.push(r),o.push(i),u.push(a),l.push(r),l.push(i),l.push(a);s.sort(e),o.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+Xt.apply(this)+O(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),se("hour",13),Ae("a",en),Ae("A",en),Ae("H",xe),Ae("h",xe),Ae("k",xe),Ae("HH",xe,ge),Ae("hh",xe,ge),Ae("kk",xe,ge),Ae("hmm",we),Ae("hmmss",Ne),Ae("Hmm",we),Ae("Hmmss",Ne),Ue(["H","HH"],Ye),Ue(["k","kk"],(function(e,t,n){var r=ce(e);t[Ye]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ye]=ce(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r,2)),t[Ke]=ce(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r,2)),t[Ke]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,on={calendar:P,longDateFormat:q,invalidDate:G,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:St,weekdays:Pt,weekdaysMin:Ot,weekdaysShort:At,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=dn(e[a]).split("-")).length,n=(n=dn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}a++}return sn}function fn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&fn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=l(t)?gn(e):mn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function mn(e,t){if(null!==t){var n,r=on;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new R(j(r,t)),ln[e]&&ln[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=on;null!=un[e]&&null!=un[e].parentLocale?un[e].set(j(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=j(i,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return E(un)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[qe]<1||n[qe]>Ze(n[Be],n[We])?qe:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[Ge]||0!==n[Ke]||0!==n[Qe])?Ye:n[Ge]<0||n[Ge]>59?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<Be||t>qe)&&(t=qe),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Xe),m(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,Nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(e){var t,n,r,i,a,s,o=e._i,u=_n.exec(o)||xn.exec(o),l=Nn.length,c=Sn.length;if(u){for(m(e).iso=!0,t=0,n=l;t<n;t++)if(Nn[t][1].exec(u[1])){i=Nn[t][0],r=!1!==Nn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[3])){a=(u[2]||" ")+Sn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!wn.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(a||"")+(s||""),zn(e)}else e._isValid=!1}function Dn(e,t,n,r,i,a){var s=[jn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function jn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||At.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function An(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function On(e){var t,n=In.exec(Rn(e._i));if(n){if(t=Dn(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=An(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=En.exec(e._i);null===t?(Tn(e),!1===e._isValid&&(delete e._isValid,On(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Mn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,s=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[qe]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Mn(e._a[Be],r[Be]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[qe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?kt:gt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,s,o,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,s=4,n=Mn(t.GG,e._a[Be],xt(Qn(),1,4).year),r=Mn(t.W,1),((i=Mn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,l=xt(Qn(),a,s),n=Mn(t.gg,e._a[Be],l.year),r=Mn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>wt(n,a,s)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(o=_t(n,r,i,a,s),e._a[Be]=o.year,e._dayOfYear=o.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,s,o,u,l=""+e._i,c=l.length,d=0;for(u=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)a=i[t],(n=(l.match(Oe(a,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&m(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),d+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-d,l.length>0&&m(e).unusedInput.push(l),e._a[Ye]<=12&&!0===m(e).bigHour&&e._a[Ye]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ye]=Hn(e._locale,e._a[Ye],e._meridiem),null!==(o=m(e).era)&&(e._a[Be]=e._locale.erasConvertYear(o,e._a[Be])),Un(e),bn(e)}else On(e);else Tn(e)}function Hn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,a,s,o=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,s=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(s=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,o?a<r&&(r=a,n=t):(null==r||a<r||s)&&(r=a,n=t,s&&(o=!0));f(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function qn(e){var t=new x(bn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new x(bn(t)):(d(t)?e._d=t:a(n)?Bn(e):n?zn(e):Gn(e),y(e)||(e._d=null),e))}function Gn(e){var t=e._i;l(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):s(t)?Wn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,qn(o)}function Qn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Xn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(o(e,t)&&(-1===He.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function sr(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*o*60*60,this._days=+s+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function or(e){return e instanceof sr}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&s++;return s+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Ae("Z",je),Ae("ZZ",je),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(je,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||d(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(je,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Pr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(De,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wr(){return!!this.isValid()&&!this._isUTC}function Nr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,s=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Er.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:ce(s[qe])*n,h:ce(s[Ye])*n,m:ce(s[Ge])*n,s:ce(s[Ke])*n,ms:ce(ur(1e3*s[Qe]))*n}):(s=Ir.exec(e))?(n="-"===s[1]?-1:1,a={y:Tr(s[2],n),M:Tr(s[3],n),w:Tr(s[4],n),d:Tr(s[5],n),h:Tr(s[6],n),m:Tr(s[7],n),s:Tr(s[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=jr(Qn(a.from),Qn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new sr(a),or(e)&&o(e,"_locale")&&(r._locale=e._locale),or(e)&&o(e,"_isValid")&&(r._isValid=e._isValid),r}function Tr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Dr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jr(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Dr(e,t):((n=Dr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Cr(n,r),e),this}}function Pr(e,t,n,i){var a=t._milliseconds,s=ur(t._days),o=ur(t._months);e.isValid()&&(i=null==i||i,o&&lt(e,he(e,"Month")+o*n),s&&fe(e,"Date",he(e,"Date")+s*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,s||o))}Cr.fn=sr.prototype,Cr.invalid=ar;var Ar=Rr(1,"add"),Or=Rr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Mr(e){return w(e)||d(e)||Lr(e)||c(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=s(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=a.length;for(t=0;t<l;t+=1)n=a[t],i=i||o(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=s(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||o(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hr(e,t){1===arguments.length&&(arguments[0]?Mr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=fr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",s=t&&(T(t[a])?t[a].call(this,n):t[a]);return this.format(s||this.localeData().calendar(a,this,Qn(n)))}function Br(){return new x(this)}function Wr(e,t){var n=w(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function qr(e,t){var n=w(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=w(e)?e:Qn(e),a=w(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Gr(e,t){var n,r=w(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Xr(this,r)/12;break;case"month":a=Xr(this,r);break;case"quarter":a=Xr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:le(a)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(w(e)&&e.isValid()||Qn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(w(e)&&e.isValid()||Qn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Qn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var li=1e3,ci=60*li,di=60*ci,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ci),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ci);break;case"second":t=this._d.valueOf(),t-=fi(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ci),di)-1;break;case"minute":t=this._d.valueOf(),t+=ci-fi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=li-fi(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function Ni(){return y(this)}function Si(){return f({},m(this))}function Ei(){return m(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,s=this._eras||gn("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"===typeof s[n].since&&(a=r(s[n].since).startOf("day"),s[n].since=a.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":a=r(s[n].until).startOf("day").valueOf(),s[n].until=a.valueOf()}return s}function Ti(e,t,n){var r,i,a,s,o,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),o=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(o===e)return u[r]}else if([a,s,o].indexOf(e)>=0)return u[r]}function Di(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function ji(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ai(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Oi(e){return o(this,"_erasNameRegex")||Hi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return o(this,"_erasAbbrRegex")||Hi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mi(e){return o(this,"_erasNarrowRegex")||Hi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function Hi(){var e,t,n=[],r=[],i=[],a=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(Me(s[e].name)),n.push(Me(s[e].abbr)),i.push(Me(s[e].narrow)),a.push(Me(s[e].name)),a.push(Me(s[e].abbr)),a.push(Me(s[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return wt(this.year(),1,4)}function Gi(){return wt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return wt(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return wt(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=wt(e,r,i))&&(t=a),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var a=_t(e,t,n,r,i),s=kt(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Ae("N",Fi),Ae("NN",Fi),Ae("NNN",Fi),Ae("NNNN",Ui),Ae("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Ae("y",Ce),Ae("yy",Ce),Ae("yyy",Ce),Ae("yyyy",Ce),Ae("yo",zi),Ue(["y","yy","yyy","yyyy"],Be),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Be]=n._locale.eraYearOrdinalParse(e,i):t[Be]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),se("weekYear",1),se("isoWeekYear",1),Ae("G",Te),Ae("g",Te),Ae("GG",xe,ge),Ae("gg",xe,ge),Ae("GGGG",Ee,be),Ae("gggg",Ee,be),Ae("GGGGG",Ie,_e),Ae("ggggg",Ie,_e),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),se("quarter",7),Ae("Q",ye),Ue("Q",(function(e,t){t[We]=3*(ce(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),se("date",9),Ae("D",xe),Ae("DD",xe,ge),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],qe),Ue("Do",(function(e,t){t[qe]=ce(e.match(xe)[0])}));var Zi=de("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),se("dayOfYear",4),Ae("DDD",Se),Ae("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),se("minute",14),Ae("m",xe),Ae("mm",xe,ge),Ue(["m","mm"],Ge);var ta=de("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),se("second",15),Ae("s",xe),Ae("ss",xe,ge),Ue(["s","ss"],Ke);var na,ra,ia=de("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),se("millisecond",16),Ae("S",Se,ye),Ae("SS",Se,ge),Ae("SSS",Se,ke),na="SSSS";na.length<=9;na+="S")Ae(na,Ce);function aa(e,t){t[Qe]=ce(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function sa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}ra=de("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=x.prototype;function la(e){return Qn(1e3*e)}function ca(){return Qn.apply(null,arguments).parseZone()}function da(e){return e}ua.add=Ar,ua.calendar=Hr,ua.clone=Br,ua.diff=$r,ua.endOf=yi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ei,ua.isAfter=Wr,ua.isBefore=qr,ua.isBetween=Yr,ua.isSame=Gr,ua.isSameOrAfter=Kr,ua.isSameOrBefore=Qr,ua.isValid=Ni,ua.lang=oi,ua.locale=si,ua.localeData=ui,ua.max=Xn,ua.min=$n,ua.parsingFlags=Si,ua.set=ve,ua.startOf=mi,ua.subtract=Or,ua.toArray=_i,ua.toObject=xi,ua.toDate=bi,ua.toISOString=Zr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=wi,ua.toString=Jr,ua.unix=ki,ua.valueOf=gi,ua.creationData=Ii,ua.eraName=ji,ua.eraNarrow=Ri,ua.eraAbbr=Pi,ua.eraYear=Ai,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=Wi,ua.isoWeekYear=qi,ua.quarter=ua.quarters=Ji,ua.month=ct,ua.daysInMonth=dt,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=Tt,ua.weeksInYear=Ki,ua.weeksInWeekYear=Qi,ua.isoWeeksInYear=Yi,ua.isoWeeksInISOWeekYear=Gi,ua.date=Zi,ua.day=ua.days=Wt,ua.weekday=qt,ua.isoWeekday=Yt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=yr,ua.local=gr,ua.parseZone=kr,ua.hasAlignedHourOffset=br,ua.isDST=_r,ua.isLocal=wr,ua.isUtcOffset=Nr,ua.isUtc=Sr,ua.isUTC=Sr,ua.zoneAbbr=sa,ua.zoneName=oa,ua.dates=S("dates accessor is deprecated. Use date instead.",Zi),ua.months=S("months accessor is deprecated. Use month instead",ct),ua.years=S("years accessor is deprecated. Use year instead",mt),ua.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ha=R.prototype;function fa(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return fa(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fa(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),s=e?a._week.dow:0,o=[];if(null!=n)return fa(t,(n+s)%7,r,"day");for(i=0;i<7;i++)o[i]=fa(t,(i+s)%7,r,"day");return o}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=A,ha.longDateFormat=Y,ha.invalidDate=K,ha.ordinal=X,ha.preparse=da,ha.postformat=da,ha.relativeTime=Z,ha.pastFuture=ee,ha.set=D,ha.eras=Ci,ha.erasParse=Ti,ha.erasConvertYear=Di,ha.erasAbbrRegex=Li,ha.erasNameRegex=Oi,ha.erasNarrowRegex=Mi,ha.months=at,ha.monthsShort=st,ha.monthsParse=ut,ha.monthsRegex=ft,ha.monthsShortRegex=ht,ha.week=Nt,ha.firstDayOfYear=It,ha.firstDayOfWeek=Et,ha.weekdays=Ut,ha.weekdaysMin=zt,ha.weekdaysShort=Vt,ha.weekdaysParse=Bt,ha.weekdaysRegex=Gt,ha.weekdaysShortRegex=Kt,ha.weekdaysMinRegex=Qt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",gn);var _a=Math.abs;function xa(){var e=this._data;return this._milliseconds=_a(this._milliseconds),this._days=_a(this._days),this._months=_a(this._months),e.milliseconds=_a(e.milliseconds),e.seconds=_a(e.seconds),e.minutes=_a(e.minutes),e.hours=_a(e.hours),e.months=_a(e.months),e.years=_a(e.years),this}function wa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Na(e,t){return wa(this,e,t,1)}function Sa(e,t){return wa(this,e,t,-1)}function Ea(e){return e<0?Math.floor(e):Math.ceil(e)}function Ia(){var e,t,n,r,i,a=this._milliseconds,s=this._days,o=this._months,u=this._data;return a>=0&&s>=0&&o>=0||a<=0&&s<=0&&o<=0||(a+=864e5*Ea(Ta(o)+s),s=0,o=0),u.milliseconds=a%1e3,e=le(a/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,s+=le(n/24),o+=i=le(Ca(s)),s-=Ea(Ta(i)),r=le(o/12),o%=12,u.days=s,u.months=o,u.years=r,this}function Ca(e){return 4800*e/146097}function Ta(e){return 146097*e/4800}function Da(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ta(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ja(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Ra(e){return function(){return this.as(e)}}var Pa=Ra("ms"),Aa=Ra("s"),Oa=Ra("m"),La=Ra("h"),Ma=Ra("d"),Fa=Ra("w"),Ua=Ra("M"),Va=Ra("Q"),za=Ra("y");function Ha(){return Cr(this)}function Ba(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var qa=Wa("milliseconds"),Ya=Wa("seconds"),Ga=Wa("minutes"),Ka=Wa("hours"),Qa=Wa("days"),$a=Wa("months"),Xa=Wa("years");function Ja(){return le(this.days()/7)}var Za=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ts(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ns(e,t,n,r){var i=Cr(e).abs(),a=Za(i.as("s")),s=Za(i.as("m")),o=Za(i.as("h")),u=Za(i.as("d")),l=Za(i.as("M")),c=Za(i.as("w")),d=Za(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,ts.apply(null,h)}function rs(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function is(e,t){return void 0!==es[e]&&(void 0===t?es[e]:(es[e]=t,"s"===e&&(es.ss=t-1),!0))}function as(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=es;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},es,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=ns(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ss=Math.abs;function os(e){return(e>0)-(e<0)||+e}function us(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,s,o,u=ss(this._milliseconds)/1e3,l=ss(this._days),c=ss(this._months),d=this.asSeconds();return d?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",a=os(this._months)!==os(d)?"-":"",s=os(this._days)!==os(d)?"-":"",o=os(this._milliseconds)!==os(d)?"-":"",i+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(l?s+l+"D":"")+(t||e||u?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(u?o+r+"S":"")):"P0D"}var ls=sr.prototype;return ls.isValid=ir,ls.abs=xa,ls.add=Na,ls.subtract=Sa,ls.as=Da,ls.asMilliseconds=Pa,ls.asSeconds=Aa,ls.asMinutes=Oa,ls.asHours=La,ls.asDays=Ma,ls.asWeeks=Fa,ls.asMonths=Ua,ls.asQuarters=Va,ls.asYears=za,ls.valueOf=ja,ls._bubble=Ia,ls.clone=Ha,ls.get=Ba,ls.milliseconds=qa,ls.seconds=Ya,ls.minutes=Ga,ls.hours=Ka,ls.days=Qa,ls.weeks=Ja,ls.months=$a,ls.years=Xa,ls.humanize=as,ls.toISOString=us,ls.toString=us,ls.toJSON=us,ls.locale=si,ls.localeData=ui,ls.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),ls.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Ae("x",Te),Ae("X",Re),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.4",i(Qn),r.fn=ua,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=la,r.months=ma,r.isDate=d,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=w,r.weekdays=ga,r.parseZone=ca,r.localeData=gn,r.isDuration=or,r.monthsShort=ya,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=rs,r.relativeTimeThreshold=is,r.calendarFormat=zr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case x:return"Portal";case S:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,we=null,Ne=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ee(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ie(){if(we){var e=we,t=Ne;if(Ne=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var De=!1;function je(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==we||null!==Ne)&&(Te(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){Pe=!1}function Oe(e,t,n,r,i,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,s,o,u){Le=!1,Me=null,Oe.apply(Ve,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,wt,Nt,St,Et=!1,It=[],Ct=null,Tt=null,Dt=null,jt=new Map,Rt=new Map,Pt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Dt&&Ft(Dt)&&(Dt=null),jt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ht(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Tt&&zt(Tt,e),null!==Dt&&zt(Dt,e),jt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Yt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Lt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=gi(e=_e(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=M({},ln,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,on=e.screenY-un.screenY):on=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),vn=an(M({},fn,{dataTransfer:0})),mn=an(M({},dn,{relatedTarget:0})),yn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return Nn}var En=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Cn=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(jn),Pn=[9,13,27,32],An=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Ln=c&&"TextEvent"in window&&!On,Mn=c&&(!An||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Yr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Kn(e){Fr(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];qn(t,Gn,e,_e(e)),je(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},wr={},Nr={};function Sr(e){if(wr[e])return wr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return wr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Tr=Sr("transitionend"),Dr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Dr.set(e,t),u(t,[e])}for(var Pr=0;Pr<jr.length;Pr++){var Ar=jr[Pr];Rr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,u,l){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,o,l),a=u}else for(s=0;s<r.length;s++){if(u=(o=r[s]).instance,l=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,o,l),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Yt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=gi(o)))return;if(5===(u=s.tag)||6===u){r=a=s;continue e}o=o.parentNode}}r=r.return}je((function(){var r=a,i=_e(n),s=[];e:{var o=Dr.get(e);if(void 0!==o){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Er:case Ir:case Cr:u=yn;break;case Tr:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==h&&(null!=(v=Re(p,h))&&c.push(qr(p,v,f)))),d)break;p=p.return}0<c.length&&(o=new u(o,l,null,n,i),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(d=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?o:bi(u),f=null==l?o:bi(l),(o=new c(v,p+"leave",u,n,i)).target=d,o.relatedTarget=f,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=f,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Gr(f))p++;for(f=0,v=h;v;v=Gr(v))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Kr(s,o,u,c,!1),null!==l&&null!==d&&Kr(s,d,l,c,!0)}if("select"===(u=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var m=$n;else if(Wn(o))if(Xn)m=sr;else{m=ir;var y=rr}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(s,m,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(s,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(y=Yr(r,k)).length&&(k=new bn(k,e,null,n,i),s.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!An&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=g))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Re(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(null!==u&&u===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(u=Re(n,a))&&s.unshift(qr(n,u,o)):i||null!=(u=Re(n,a))&&s.push(qr(n,u,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[fi]||null}var xi=[],wi=-1;function Ni(e){return{current:e}}function Si(e){0>wi||(e.current=xi[wi],xi[wi]=null,wi--)}function Ei(e,t){wi++,xi[wi]=e.current,e.current=t}var Ii={},Ci=Ni(Ii),Ti=Ni(!1),Di=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ti),Si(Ci)}function Ai(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ei(Ci,t),Ei(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=Ci.current,Ei(Ci,e),Ei(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ci),Ei(Ci,e)):Si(Ti),Ei(Ti,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Hi),i}finally{kt=t,Vi=!1}}return null}var Bi=[],Wi=0,qi=null,Yi=0,Gi=[],Ki=0,Qi=null,$i=1,Xi="";function Ji(e,t){Bi[Wi++]=Yi,Bi[Wi++]=qi,qi=e,Yi=t}function Zi(e,t,n){Gi[Ki++]=$i,Gi[Ki++]=Xi,Gi[Ki++]=Qi,Qi=e;var r=$i;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===qi;)qi=Bi[--Wi],Bi[Wi]=null,Yi=Bi[--Wi],Bi[Wi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,$i=Gi[--Ki],Gi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ni(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var u=o,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(s=0,c=l=u=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=f,u=d):c=c.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=s,e.lanes=s,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(nl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(nl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Aa(e,i,r))&&(nl(t,e,r,n),Oa(t,e,r))}};function Ha(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ba(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Di:Ci.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Al(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Al(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case x:return(t=Fl(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,o,u){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<o.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=f(i,d,o[v],u);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=s(y,a,v),null===c?l=y:c.sibling=y,c=y,d=m}if(v===o.length)return n(i,d),ia&&Ji(i,v),l;if(null===d){for(;v<o.length;v++)null!==(d=h(i,o[v],u))&&(a=s(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Ji(i,v),l}for(d=r(i,d);v<o.length;v++)null!==(m=p(d,i,v,o[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=s(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,o,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,v=o,m=o=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=f(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),o=s(k,o,m),null===d?c=k:d.sibling=k,d=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(o=s(g,o,m),null===d?c=g:d.sibling=g,d=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),o=s(g,o,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,s,u){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var l=s.key,c=a;null!==c;){if(c.key===l){if((l=s.type)===w){if(7===c.tag){n(r,c.sibling),(a=i(c,s.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Ka(l)===c.type){n(r,c.sibling),(a=i(c,s.props)).ref=Ya(r,c,s),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===w?((a=Ol(s.props.children,r.mode,u,s.key)).return=r,r=a):((u=Al(s.type,s.key,s.props,null,r.mode,u)).ref=Ya(r,a,s),u.return=r,r=u)}return o(r);case x:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(s,r.mode,u)).return=r,r=a}return o(r);case R:return e(r,a,(c=s._init)(s._payload),u)}if(te(s))return v(r,a,s,u);if(O(s))return m(r,a,s,u);Ga(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Ml(s,r.mode,u)).return=r,r=a),o(r)):n(r,a)}}var $a=Qa(!0),Xa=Qa(!1),Ja={},Za=Ni(Ja),es=Ni(Ja),ts=Ni(Ja);function ns(e){if(e===Ja)throw Error(a(174));return e}function rs(e,t){switch(Ei(ts,t),Ei(es,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function is(){Si(Za),Si(es),Si(ts)}function as(e){ns(ts.current);var t=ns(Za.current),n=ue(t,e.type);t!==n&&(Ei(es,e),Ei(Za,n))}function ss(e){es.current===e&&(Si(Za),Si(es))}var os=Ni(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function cs(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var ds=b.ReactCurrentDispatcher,hs=b.ReactCurrentBatchConfig,fs=0,ps=null,vs=null,ms=null,ys=!1,gs=!1,ks=0,bs=0;function _s(){throw Error(a(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ws(e,t,n,r,i,s){if(fs=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),gs){s=0;do{if(gs=!1,ks=0,25<=s)throw Error(a(301));s+=1,ms=vs=null,t.updateQueue=null,ds.current=uo,e=n(r,i)}while(gs)}if(ds.current=ao,t=null!==vs&&null!==vs.next,fs=0,ms=vs=ps=null,ys=!1,t)throw Error(a(300));return e}function Ns(){var e=0!==ks;return ks=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function Es(){if(null===vs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function Is(e,t){return"function"===typeof t?t(e):t}function Cs(e){var t=Es(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=o=null,l=null,c=s;do{var d=c.lane;if((fs&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,o=r):l=l.next=h,ps.lanes|=d,Lu|=d}c=c.next}while(null!==c&&c!==s);null===l?o=r:l.next=u,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ps.lanes|=s,Lu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ts(e){var t=Es(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ds(){}function js(e,t){var n=ps,r=Es(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,Bs(As.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Fs(9,Ps.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&fs)||Rs(n,t,i)}return i}function Rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ps(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&Ls(e)}function As(e,t,n){return n((function(){Os(t)&&Ls(e)}))}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ls(e){var t=Ta(e,1);null!==t&&nl(t,e,1,-1)}function Ms(e){var t=Ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Es().memoizedState}function Vs(e,t,n,r){var i=Ss();ps.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function zs(e,t,n,r){var i=Es();r=void 0===r?null:r;var a=void 0;if(null!==vs){var s=vs.memoizedState;if(a=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Fs(t,n,a,r))}ps.flags|=e,i.memoizedState=Fs(1|t,n,a,r)}function Hs(e,t){return Vs(8390656,8,e,t)}function Bs(e,t){return zs(2048,8,e,t)}function Ws(e,t){return zs(4,2,e,t)}function qs(e,t){return zs(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Ys.bind(null,t,e),n)}function Ks(){}function Qs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=vt(),ps.lanes|=n,Lu|=n,e.baseState=!0),t)}function Js(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=hs.transition;hs.transition={};try{e(!1),t()}finally{kt=n,hs.transition=r}}function Zs(){return Es().memoizedState}function eo(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ca(e,t,n,r))){nl(n,e,r,el()),io(n,t,r)}}function to(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(nl(n,e,r,i=el()),io(n,t,r))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ro(e,t){gs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ao={readContext:Sa,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},so={readContext:Sa,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:Ms,useDebugValue:Ks,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Js.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,i=Ss();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&fs)||Rs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(As.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Ps.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Tu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Sa,useCallback:Qs,useContext:Sa,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:$s,useReducer:Cs,useRef:Us,useState:function(){return Cs(Is)},useDebugValue:Ks,useDeferredValue:function(e){return Xs(Es(),vs.memoizedState,e)},useTransition:function(){return[Cs(Is)[0],Es().memoizedState]},useMutableSource:Ds,useSyncExternalStore:js,useId:Zs,unstable_isNewReconciler:!1},uo={readContext:Sa,useCallback:Qs,useContext:Sa,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:$s,useReducer:Ts,useRef:Us,useState:function(){return Ts(Is)},useDebugValue:Ks,useDeferredValue:function(e){var t=Es();return null===vs?t.memoizedState=e:Xs(t,vs.memoizedState,e)},useTransition:function(){return[Ts(Is)[0],Es().memoizedState]},useMutableSource:Ds,useSyncExternalStore:js,useId:Zs,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,qu=r),ho(0,t)},n}function vo(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Aa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=b.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var a=t.ref;return Na(t,i),r=ws(e,t,n,r,a,i),n=Ns(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function wo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Al(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Pu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Pu,Ru),Ru|=r;return _o(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,i){var a=Ri(n)?Di:Ci.current;return a=ji(t,a),Na(t,i),n=ws(e,t,n,r,a,i),r=Ns(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Co(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Na(t,i),null===t.stateNode)Bo(e,t),Ba(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=ji(t,l=Ri(n)?Di:Ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||u!==l)&&Wa(t,s,r,l),Da=!1;var h=t.memoizedState;s.state=h,Ma(t,r,s,i),u=t.memoizedState,o!==r||h!==u||Ti.current||Da?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(o=Da||Ha(t,n,o,r,h,u,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ra(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:ma(t.type,o),s.props=l,d=t.pendingProps,h=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=ji(t,u=Ri(n)?Di:Ci.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==u)&&Wa(t,s,r,u),Da=!1,h=t.memoizedState,s.state=h,Ma(t,r,s,i);var p=t.memoizedState;o!==d||h!==p||Ti.current||Da?("function"===typeof f&&(Va(t,n,f,r),p=t.memoizedState),(l=Da||Ha(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,a,i)}function To(e,t,n,r,i,a){Eo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),Wo(e,t,a);r=t.stateNode,ko.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,o,a)):_o(e,t,o,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),rs(e,t.containerInfo)}function jo(e,t,n,r,i){return fa(),pa(i),t.flags|=256,_o(e,t,n,r),t.child}var Ro,Po,Ao,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(os,1&s),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,o?(i=t.mode,o=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Ll(u,i,0,null),e=Ol(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(s=Ol(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Uo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(u=0!==(o&e.childLanes),bo||u){if(null!==(r=Tu)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ta(e,i),nl(r,e,i,-1))}return vl(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Ki++]=$i,Gi[Ki++]=Xi,Gi[Ki++]=Qi,$i=e.id,Xi=e.overflow,Qi=t),(t=Fo(t,r.children)).flags|=4096,t)}(e,t,u,i,r,s,n);if(o){o=i.fallback,u=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Pl(r,o):(o=Ol(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,u=null===(u=e.child.memoizedState)?Lo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Pl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function zo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Yo(t),null;case 3:return r=t.stateNode,is(),Si(Ti),Si(Ci),cs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Yo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yo(t),null}if(e=ns(Za.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var u in ge(n,s),i=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":Y(r),Z(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[fi]=r,Ro(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ge(n,i),l=i)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Ur("scroll",e):null!=c&&k(e,s,c,u))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Ao(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Yo(t),null;case 13:if(Si(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),s=!1}else null!==aa&&(sl(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Au&&(Au=3):vl())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return is(),null===e&&Hr(t.stateNode.containerInfo),Yo(t),null;case 10:return xa(t.type._context),Yo(t),null;case 19:if(Si(os),null===(s=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)qo(s,!1);else{if(0!==Au||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=us(e))){for(t.flags|=128,qo(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Hu&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!ia)return Yo(t),null}else 2*Xe()-s.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=os.current,Ei(os,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Si(Ti),Si(Ci),cs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Si(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(os),null;case 4:return is(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns(Za.current);var a,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ao=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,$o=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Nl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||Zo(n,t);case 6:var r=cu,i=du;cu=null,hu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ht(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,hu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&eu(n,t,s),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$o&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nl(n,t,o)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,hu(e,t,n),$o=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(a(160));fu(s,o,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Nl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Nl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Nl(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Nl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===s.type&&null!=s.name&&X(i,s),ke(u,o);var c=ke(u,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):k(i,d,h,c)}switch(u){case"input":J(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Nl(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Nl(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Nl(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(c=$o)||d,vu(t,e),$o=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Zo(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Nl(r,n,m)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_u(h);continue}}null!==p?(p.return=f,Jo=p):_u(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=h.stateNode,o=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",o))}catch(m){Nl(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Nl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,ou(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;uu(e,ou(e),s);break;default:throw Error(a(161))}}catch(o){Nl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Jo=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qo;if(!s){var o=i.alternate,u=null!==o&&null!==o.memoizedState||$o;o=Qo;var l=$o;if(Qo=s,($o=u)&&!l)for(Jo=i;null!==Jo;)u=(s=Jo).child,22===s.tag&&null!==s.memoizedState?xu(i):null!==u?(u.return=s,Jo=u):xu(i);for(;null!==a;)Jo=a,ku(a,t,n),a=a.sibling;Jo=i,Qo=o,$o=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Jo=a):bu(e)}}function bu(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}$o||512&t.flags&&iu(t)}catch(f){Nl(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function _u(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function xu(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Nl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Nl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Nl(t,a,u)}break;case 5:var s=t.return;try{iu(t)}catch(u){Nl(t,s,u)}}}catch(u){Nl(t,t.return,u)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var wu,Nu=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Cu=0,Tu=null,Du=null,ju=0,Ru=0,Pu=Ni(0),Au=0,Ou=null,Lu=0,Mu=0,Fu=0,Uu=null,Vu=null,zu=0,Hu=1/0,Bu=null,Wu=!1,qu=null,Yu=null,Gu=!1,Ku=null,Qu=0,$u=0,Xu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Cu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==ju?ju&-ju:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Tu||(e===Tu&&(0===(2&Cu)&&(Mu|=n),4===Au&&ol(e,ju)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Hu=Xe()+500,Ui&&Hi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,u=i[s];-1===u?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Tu?ju:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),si((function(){0===(6&Cu)&&Hi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?ju:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Cu;Cu|=2;var s=pl();for(Tu===e&&ju===t||(Bu=null,Hu=Xe()+500,hl(e,t));;)try{gl();break}catch(u){fl(e,u)}_a(),Su.current=s,Cu=i,null!==Du?t=0:(Tu=null,ju=0,t=Au)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ou,hl(e,0),ol(e,r),rl(e,Xe()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(s=pt(e))&&(r=s,t=al(e,s))),1===t))throw n=Ou,hl(e,0),ol(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Vu,Bu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),t);break}_l(e,Vu,Bu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),r);break}_l(e,Vu,Bu);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Vu,Vu=n,null!==t&&sl(t)),e}function sl(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function ol(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(a(327));xl();var t=ht(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ou,hl(e,0),ol(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vu,Bu),rl(e,Xe()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Hu=Xe()+500,Ui&&Hi())}}function cl(e){null!==Ku&&0===Ku.tag&&0===(6&Cu)&&xl();var t=Cu;Cu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Cu=t))&&Hi()}}function dl(){Ru=Pu.current,Si(Pu)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:is(),Si(Ti),Si(Ci),cs();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Si(os);break;case 10:xa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Tu=e,Du=e=Pl(e.current,null),ju=Ru=t,Au=0,Ou=null,Fu=Mu=Lu=0,Vu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Ea=null}return e}function fl(e,t){for(;;){var n=Du;try{if(_a(),ds.current=ao,ys){for(var r=ps.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(fs=0,ms=vs=ps=null,gs=!1,ks=0,Eu.current=null,null===n||null===n.return){Au=1,Ou=t,Du=null;break}e:{var s=e,o=n.return,u=n,l=t;if(t=ju,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,go(p,o,u,0,t),1&p.mode&&mo(s,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mo(s,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),go(y,o,u,0,t),pa(lo(l,u));break e}}s=l=lo(l,u),4!==Au&&(Au=2),null===Uu?Uu=[s]:Uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,La(s,po(0,l,t));break e;case 1:u=l;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Yu||!Yu.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,La(s,vo(s,u,t));break e}}s=s.return}while(null!==s)}bl(n)}catch(b){t=b,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=ao,null===e?ao:e}function vl(){0!==Au&&3!==Au&&2!==Au||(Au=4),null===Tu||0===(268435455&Lu)&&0===(268435455&Mu)||ol(Tu,ju)}function ml(e,t){var n=Cu;Cu|=2;var r=pl();for(Tu===e&&ju===t||(Bu=null,hl(e,t));;)try{yl();break}catch(i){fl(e,i)}if(_a(),Cu=n,Su.current=r,null!==Du)throw Error(a(261));return Tu=null,ju=0,Au}function yl(){for(;null!==Du;)kl(Du)}function gl(){for(;null!==Du&&!Qe();)kl(Du)}function kl(e){var t=wu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bl(e):Du=t,Eu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ru)))return void(Du=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Au=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Au&&(Au=5)}function _l(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{xl()}while(null!==Ku);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Tu&&(Du=Tu=null,ju=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Tl(tt,(function(){return xl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Iu.transition,Iu.transition=null;var o=kt;kt=1;var u=Cu;Cu|=4,Eu.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var o=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=o+i),h!==s||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(u=o),f===s&&++d===r&&(l=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Nl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Cu=u,kt=o,Iu.transition=s}else e.current=n;if(Gu&&(Gu=!1,Ku=e,Qu=i),0===(s=e.pendingLanes)&&(Yu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=qu,qu=null,e;0!==(1&Qu)&&0!==e.tag&&xl(),0!==(1&(s=e.pendingLanes))?e===Xu?$u++:($u=0,Xu=e):$u=0,Hi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function xl(){if(null!==Ku){var e=bt(Qu),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!==(16&Jo.flags)){var u=s.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Jo=c;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nu(8,d,s)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(au(d),d===c){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var v=s.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Jo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:nu(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Jo=g;break e}Jo=s.return}}var k=e.current;for(Jo=k;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=k;null!==Jo;){if(0!==(2048&(u=Jo).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Nl(u,u.return,x)}if(u===o){Jo=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Jo=_;break e}Jo=u.return}}if(Cu=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function wl(e,t,n){e=Aa(e,t=po(0,t=lo(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Nl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Aa(t,e=vo(t,e=lo(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(ju&n)===n&&(4===Au||3===Au&&(130023424&ju)===ju&&500>Xe()-zu?hl(e,0):Fu|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ta(e,t))&&(yt(e,t,n),rl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function Tl(e,t){return Ge(e,t)}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Dl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Rl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Ol(n.children,i,s,t);case N:o=8,i|=8;break;case S:return(e=jl(12,n,t,2|i)).elementType=S,e.lanes=s,e;case T:return(e=jl(13,n,t,i)).elementType=T,e.lanes=s,e;case D:return(e=jl(19,n,t,i)).elementType=D,e.lanes=s,e;case P:return Ll(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case I:o=9;break e;case C:o=11;break e;case j:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jl(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ol(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=jl(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,s,o,u){return e=new Ul(e,t,n,o,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hl(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function Bl(e,t,n,r,i,a,s,o,u){return(e=Vl(n,r,!0,e,0,a,0,o,u)).context=Hl(null),n=e.current,(a=Pa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Aa(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Wl(e,t,n,r){var i=t.current,a=el(),s=tl(i);return n=Hl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Aa(i,t,s))&&(nl(e,i,s,a),Oa(e,i,s)),s}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fa();break;case 5:as(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ei(os,1&os.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ei(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=ji(t,Ci.current);Na(t,n),i=ws(null,t,r,e,i,n);var s=Ns();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=za,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=To(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Io(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=jo(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Wo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&la(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Eo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&la(t),null;case 13:return Mo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ei(ya,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ti.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){o=s.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Pa(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),wa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Na(t,n),r=r(i=Sa(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),wo(e,t,r,i=ma(r.type,i),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Na(t,n),Ba(t,r,i),qa(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=ql(s);o.call(e)}}Wl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=ql(s);a.call(e)}}var s=Bl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Hr(8===e.nodeType?e.parentNode:e),cl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=ql(u);o.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Hr(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return ql(s)}$l.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},$l.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Xe()),0===(6&Cu)&&(Hu=Xe()+500,Hi()))}break;case 13:cl((function(){var t=Ta(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},wt=function(e){if(13===e.tag){var t=tl(e),n=Ta(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Nt=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Te=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,_i,Ee,Ie,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,w={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===a?"."+C(u,0):a,_(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(u=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+C(o=e[l],l);u+=T(o,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)u+=T(o=o.value,t,i,c=a+C(o,l++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!N.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,u=e[o],l=o+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[o]=n,r=o);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,P(x);else{var t=r(c);null!==t&&A(_,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=f;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var d=r(c);null!==d&&A(_,d.startTime-n),u=!1}return u}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,N=!1,S=null,E=-1,I=5,C=-1;function T(){return!(t.unstable_now()-C<I)}function D(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?w():(N=!1,S=null)}}else N=!1}if("function"===typeof k)w=function(){k(D)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=D,w=function(){R.postMessage(null)}}else w=function(){y(D,0)};function P(e){S=e,N||(N=!0,w())}function A(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(E),E=-1):m=!0,A(_,a-s))):(e.sortIndex=o,n(l,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},n.d(a,s),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Le},SDK_VERSION:function(){return an},_DEFAULT_ENTRY_NAME:function(){return qt},_addComponent:function(){return Qt},_addOrOverwriteComponent:function(){return $t},_apps:function(){return Gt},_clearComponents:function(){return en},_components:function(){return Kt},_getProvider:function(){return Jt},_registerComponent:function(){return Xt},_removeServiceInstance:function(){return Zt},deleteApp:function(){return ln},getApp:function(){return on},getApps:function(){return un},initializeApp:function(){return sn},onLog:function(){return hn},registerVersion:function(){return dn},setLogLevel:function(){return fn}});var t,r=n(791),i=n.t(r,2),a=n(250);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(u){o=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var c=function(e){return e};var d="beforeunload",h="popstate";function f(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,s=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var g=(0,r.createContext)(null);var k=(0,r.createContext)(null);var b=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,s=0;null==a&&s<i.length;++s)a=I(i[s],r);return a}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var s=j([r,a.relativePath]),o=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),w(e.children,t,o,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:o})})),t}var N=/^:\w+$/,S=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",a=[],s=0;s<n.length;++s){var o=n[s],u=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=C({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=o.route;a.push({params:r,pathname:j([i,c.pathname]),pathnameBase:R(j([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(uo){return e}}(c[n]||""),e}),{}),pathname:o,pathnameBase:l,pattern:e}}function T(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var s=t.length-1;if(a.startsWith("..")){for(var o=a.split("/");".."===o[0];)o.shift(),s-=1;i.pathname=o.join("/")}r=s>=0?t[s]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,s=n.hash,o=void 0===s?"":s,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(a),hash:A(o)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},A=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function O(e){L()||_(!1);var t=(0,r.useContext)(g),n=t.basename,i=t.navigator,a=U(e),s=a.hash,o=a.pathname,u=a.search,l=o;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),d=null!=c&&c.endsWith("/");l="/"===o?n+(d?"/":""):j([n,o])}return i.createHref({pathname:l,search:u,hash:s})}function L(){return null!=(0,r.useContext)(k)}function M(){return L()||_(!1),(0,r.useContext)(k).location}function F(){L()||_(!1);var e=(0,r.useContext)(g),t=e.basename,n=e.navigator,i=(0,r.useContext)(b).matches,a=M().pathname,s=JSON.stringify(i.map((function(e){return e.pathnameBase}))),o=(0,r.useRef)(!1);(0,r.useEffect)((function(){o.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var i=T(e,JSON.parse(s),a);"/"!==t&&(i.pathname=j([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,s,a]);return u}function U(e){var t=(0,r.useContext)(b).matches,n=M().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return T(e,JSON.parse(i),n)}),[e,i,n])}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){_(!1)}function H(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,s=void 0===a?null:a,o=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,d=e.static,h=void 0!==d&&d;L()&&_(!1);var f=R(i),p=(0,r.useMemo)((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,b=void 0===m?"/":m,x=v.search,w=void 0===x?"":x,N=v.hash,S=void 0===N?"":N,E=v.state,I=void 0===E?null:E,C=v.key,T=void 0===C?"default":C,j=(0,r.useMemo)((function(){var e=D(b,f);return null==e?null:{pathname:e,search:w,hash:S,state:I,key:T}}),[f,b,w,S,I,T]);return null==j?null:(0,r.createElement)(g.Provider,{value:p},(0,r.createElement)(k.Provider,{children:s,value:{location:j,navigationType:l}}))}function B(e){var t=e.children,n=e.location;return function(e,t){L()||_(!1);var n,i=(0,r.useContext)(b).matches,a=i[i.length-1],s=a?a.params:{},o=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,M());if(t){var l,c="string"===typeof t?y(t):t;"/"===o||(null==(l=c.pathname)?void 0:l.startsWith(o))||_(!1),n=c}else n=u;var d=n.pathname||"/",h=x(e,{pathname:"/"===o?d:d.slice(o.length)||"/"});return V(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:j([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:j([o,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function K(e){var n=e.basename,i=e.children,a=e.window,s=(0,r.useRef)();null==s.current&&(s.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,s=i.state||{};return[s.idx,c({pathname:t,search:n,hash:a,state:s.usr||null,key:s.key||"default"})]}var s=null;r.addEventListener(h,(function(){if(s)_.call(s),s=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(_.length){if(null!=r){var o=g-r;o&&(s={action:e,location:i,retry:function(){I(-1*o)}},I(o))}}else E(e)}}));var o=t.Pop,u=a(),g=u[0],k=u[1],b=p(),_=p();function x(e){return"string"===typeof e?e:m(e)}function w(e,t){return void 0===t&&(t=null),c(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function N(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function S(e,t,n){return!_.length||(_.call({action:e,location:t,retry:n}),!1)}function E(e){o=e;var t=a();g=t[0],k=t[1],b.call({action:o,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(l({},i.state,{idx:g}),""));var C={get action(){return o},get location(){return k},createHref:x,push:function e(n,a){var s=t.Push,o=w(n,a);if(S(s,o,(function(){e(n,a)}))){var u=N(o,g+1),l=u[0],c=u[1];try{i.pushState(l,"",c)}catch(uo){r.location.assign(c)}E(s)}},replace:function e(n,r){var a=t.Replace,s=w(n,r);if(S(a,s,(function(){e(n,r)}))){var o=N(s,g),u=o[0],l=o[1];i.replaceState(u,"",l),E(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&r.addEventListener(d,f),function(){t(),_.length||r.removeEventListener(d,f)}}};return C}({window:a}));var o=s.current,g=u((0,r.useState)({action:o.action,location:o.location}),2),k=g[0],b=g[1];return(0,r.useLayoutEffect)((function(){return o.listen(b)}),[o]),(0,r.createElement)(H,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:o})}var Q=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,s=void 0!==a&&a,o=e.state,u=e.target,l=e.to,c=Y(e,G),d=O(l),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,s=n.state,o=F(),u=M(),l=U(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(l);o(e,{replace:n,state:s})}}),[u,o,l,a,s,i,e])}(l,{replace:s,state:o,target:u});return(0,r.createElement)("a",q({},c,{href:d,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:u}))}));function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(E){o=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new w(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=b(s,n);if(o){if(o===c)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,s),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var c={};function d(){}function h(){}function f(){}var p={};o(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(N([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=f.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,s,o){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==$(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,o)}))}o(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=f,o(y,"constructor",f),o(f,"constructor",h),h.displayName=o(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),o(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(y),o(y,s,"Generator"),o(y,i,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(o&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function J(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(uo){return void n(uo)}o.done?t(u):Promise.resolve(u).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){J(a,r,i,s,o,"next",e)}function o(e){J(a,r,i,s,o,"throw",e)}s(void 0)}))}}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function ne(){return ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=te(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ne.apply(this,arguments)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oe(e,t){if(t&&("object"===$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}function ue(e){var t=se();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oe(this,n)}}function le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t,n){return ve=se()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ie(i,n.prototype),i},ve.apply(null,arguments)}function me(e){var t="function"===typeof Map?new Map:void 0;return me=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ve(e,arguments,ee(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ie(n,e)},me(e)}var ye=!1,ge=!1,ke="${JSCORE_VERSION}",be=function(e,t){if(!e)throw _e(t)},_e=function(e){return new Error("Firebase Database ("+ke+") INTERNAL ASSERT FAILED: "+e)},xe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],s=i+1<e.length,o=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,d=(3&a)<<4|o>>4,h=(15&o)<<2|l>>6,f=63&l;u||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{var o=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,o=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==s||null==o||null==u)throw Error();var l=a<<2|s>>4;if(r.push(l),64!==o){var c=s<<4&240|o>>2;if(r.push(c),64!==u){var d=o<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ne=function(e){var t=xe(e);return we.encodeByteArray(t,!0)},Se=function(e){return Ne(e).replace(/\./g,"")},Ee=function(e){try{return we.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ie(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ie(e[n],t[n]));return e}var Ce=function(){function e(){var t=this;ce(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return he(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Te(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(a)),""].join(".")}function De(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Re(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Pe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ae(){var e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Oe(){return!0===ye||!0===ge}var Le=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(re(a),Me.prototype.create),a}return he(n)}(me(Error)),Me=function(){function e(t,n,r){ce(this,e),this.service=t,this.serviceName=n,this.errors=r}return he(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Fe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),s=new Le(n,a,t);return s}}]),e}();function Fe(e,t){return e.replace(Ue,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ue=/\{\$([^}]+)}/g;function Ve(e){return JSON.parse(e)}function ze(e){return JSON.stringify(e)}var He=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ve(Ee(a[0])||""),n=Ve(Ee(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function Be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function qe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ye(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ge(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var s=a[i];if(!r.includes(s))return!1;var o=e[s],u=t[s];if(Ke(o)&&Ke(u)){if(!Ge(o,u))return!1}else if(o!==u)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function Ke(e){return null!==e&&"object"===typeof e}function Qe(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $e(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Je=function(){function e(){ce(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return he(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var s=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(s<<1|s>>>31)}for(var o,u,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p=0;p<80;p++){p<40?p<20?(o=h^c&(d^h),u=1518500249):(o=c^d^h,u=1859775393):p<60?(o=c&d|h&(c|d),u=2400959708):(o=c^d^h,u=3395469782);var v=(l<<5|l>>>27)+o+f+u+n[p]&4294967295;f=h,h=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ze(e,t){var n=new et(e,t);return n.subscribe.bind(n)}var et=function(){function e(t,n){var r=this;ce(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return he(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=le(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function tt(){}var nt=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function rt(e,t){return"".concat(e," failed: ").concat(t," argument ")}function it(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(rt(e,t)+"must be a valid function.")}function at(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(rt(e,t)+"must be a valid context object.")}var st=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ot(e){return e&&e._delegate?e._delegate:e}var ut=function(){function e(t,n,r){ce(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return he(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),lt="[DEFAULT]",ct=function(){function e(t,n){ce(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return he(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ce;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(l){}var t,n=le(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var o=this.getOrInitializeService({instanceIdentifier:s});a.resolve(o)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(fe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),fe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=le(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var o=u(i.value,2),l=o[0],c=o[1],d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(HN){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dt(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(HN){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function dt(e){return e===lt?void 0:e}var ht,ft,pt=function(){function e(t){ce(this,e),this.name=t,this.providers=new Map}return he(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ct(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),vt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ft||(ft={}));var mt={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},yt=ft.INFO,gt=(pe(ht={},ft.DEBUG,"log"),pe(ht,ft.VERBOSE,"log"),pe(ht,ft.INFO,"info"),pe(ht,ft.WARN,"warn"),pe(ht,ft.ERROR,"error"),ht),kt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=gt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(s))}},bt=function(){function e(t){ce(this,e),this.name=t,this._logLevel=yt,this._logHandler=kt,this._userLogHandler=null,vt.push(this)}return he(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ft))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?mt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.DEBUG].concat(t)),this._logHandler.apply(this,[this,ft.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ft.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.INFO].concat(t)),this._logHandler.apply(this,[this,ft.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.WARN].concat(t)),this._logHandler.apply(this,[this,ft.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.ERROR].concat(t)),this._logHandler.apply(this,[this,ft.ERROR].concat(t))}}]),e}();function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt,Nt;var St=new WeakMap,Et=new WeakMap,It=new WeakMap,Ct=new WeakMap,Tt=new WeakMap;var Dt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||It.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(At(this),n),Pt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(At(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[At(this),t].concat(r));return It.set(a,t.sort?t.sort():[t]),Pt(a)}}function Rt(e){return"function"===typeof e?jt(e):(e instanceof IDBTransaction&&function(e){if(!Et.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Et.set(e,t)}}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Dt):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Pt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&St.set(t,e)})).catch((function(){})),Tt.set(t,e),t}(e);if(Ct.has(e))return Ct.get(e);var t=Rt(e);return t!==e&&(Ct.set(e,t),Tt.set(t,e)),t}var At=function(e){return Tt.get(e)};var Ot,Lt,Mt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Ut=new Map;function Vt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ut.get(t))return Ut.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ft.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mt.includes(n))){var a=function(){var e=Z(X().mark((function e(t){var a,s,o,u,l,c,d=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),o=s.store,u=d.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=d[c];return r&&(o=o.index(l.shift())),e.next=6,Promise.all([(a=o)[n].apply(a,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ut.set(t,a),a}}}Dt=function(e){return xt(xt({},e),{},{get:function(t,n,r){return Vt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Vt(t,n)||e.has(t,n)}})}(Dt);var zt=function(){function e(t){ce(this,e),this.container=t}return he(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ht="@firebase/app",Bt="0.7.28",Wt=new bt("@firebase/app"),qt="[DEFAULT]",Yt=(pe(Ot={},Ht,"fire-core"),pe(Ot,"@firebase/app-compat","fire-core-compat"),pe(Ot,"@firebase/analytics","fire-analytics"),pe(Ot,"@firebase/analytics-compat","fire-analytics-compat"),pe(Ot,"@firebase/app-check","fire-app-check"),pe(Ot,"@firebase/app-check-compat","fire-app-check-compat"),pe(Ot,"@firebase/auth","fire-auth"),pe(Ot,"@firebase/auth-compat","fire-auth-compat"),pe(Ot,"@firebase/database","fire-rtdb"),pe(Ot,"@firebase/database-compat","fire-rtdb-compat"),pe(Ot,"@firebase/functions","fire-fn"),pe(Ot,"@firebase/functions-compat","fire-fn-compat"),pe(Ot,"@firebase/installations","fire-iid"),pe(Ot,"@firebase/installations-compat","fire-iid-compat"),pe(Ot,"@firebase/messaging","fire-fcm"),pe(Ot,"@firebase/messaging-compat","fire-fcm-compat"),pe(Ot,"@firebase/performance","fire-perf"),pe(Ot,"@firebase/performance-compat","fire-perf-compat"),pe(Ot,"@firebase/remote-config","fire-rc"),pe(Ot,"@firebase/remote-config-compat","fire-rc-compat"),pe(Ot,"@firebase/storage","fire-gcs"),pe(Ot,"@firebase/storage-compat","fire-gcs-compat"),pe(Ot,"@firebase/firestore","fire-fst"),pe(Ot,"@firebase/firestore-compat","fire-fst-compat"),pe(Ot,"fire-js","fire-js"),pe(Ot,"firebase","fire-js-all"),Ot),Gt=new Map,Kt=new Map;function Qt(e,t){try{e.container.addComponent(t)}catch(n){Wt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $t(e,t){e.container.addOrOverwriteComponent(t)}function Xt(e){var t=e.name;if(Kt.has(t))return Wt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Kt.set(t,e);var n,r=le(Gt.values());try{for(r.s();!(n=r.n()).done;){Qt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Jt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt;Jt(e,t).clearInstance(n)}function en(){Kt.clear()}var tn=(pe(Lt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),pe(Lt,"bad-app-name","Illegal App name: '{$appName}"),pe(Lt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),pe(Lt,"app-deleted","Firebase App named '{$appName}' already deleted"),pe(Lt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pe(Lt,"invalid-log-argument","First argument to `onLog` must be null or a function."),pe(Lt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),pe(Lt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),pe(Lt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),pe(Lt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Lt),nn=new Me("app","Firebase",tn),rn=function(){function e(t,n,r){var i=this;ce(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",(function(){return i}),"PUBLIC"))}return he(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}]),e}(),an="9.9.0";function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:qt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw nn.create("bad-app-name",{appName:String(i)});var a=Gt.get(i);if(a){if(Ge(e,a.options)&&Ge(r,a.config))return a;throw nn.create("duplicate-app",{appName:i})}var s,o=new pt(i),u=le(Kt.values());try{for(u.s();!(s=u.n()).done;){var l=s.value;o.addComponent(l)}}catch(d){u.e(d)}finally{u.f()}var c=new rn(e,r,o);return Gt.set(i,c),c}function on(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=Gt.get(e);if(!t)throw nn.create("no-app",{appName:e});return t}function un(){return Array.from(Gt.values())}function ln(e){return cn.apply(this,arguments)}function cn(){return cn=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Gt.has(n)){e.next=6;break}return Gt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}function dn(e,t,n){var r,i=null!==(r=Yt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wt.warn(o.join(" "))}Xt(new ut("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function hn(e,t){if(null!==e&&"function"!==typeof e)throw nn.create("invalid-log-argument");!function(e,t){var n,r=le(vt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=mt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var o=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ft[n].toLowerCase(),message:o,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fn(e){var t;t=e,vt.forEach((function(e){e.setLogLevel(t)}))}var pn="firebase-heartbeat-store",vn=null;function mn(){return vn||(vn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,s=n.terminated,o=indexedDB.open(e,t),u=Pt(o);return i&&o.addEventListener("upgradeneeded",(function(e){i(Pt(o.result),e.oldVersion,e.newVersion,Pt(o.transaction))})),r&&o.addEventListener("blocked",(function(){return r()})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pn)}}).catch((function(e){throw nn.create("storage-open",{originalErrorMessage:e.message})}))),vn}function yn(e){return gn.apply(this,arguments)}function gn(){return gn=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mn();case 3:return r=e.sent,e.abrupt("return",r.transaction(pn).objectStore(pn).get(_n(t)));case 7:throw e.prev=7,e.t0=e.catch(0),nn.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),gn.apply(this,arguments)}function kn(e,t){return bn.apply(this,arguments)}function bn(){return bn=Z(X().mark((function e(t,n){var r,i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mn();case 3:return i=e.sent,a=i.transaction(pn,"readwrite"),s=a.objectStore(pn),e.next=8,s.put(n,_n(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),nn.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),bn.apply(this,arguments)}function _n(e){return"".concat(e.name,"!").concat(e.options.appId)}var xn=function(){function e(t){var n=this;ce(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new En(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return he(e,[{key:"triggerHeartbeat",value:function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wn(),n=Nn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Se(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wn(){return(new Date).toISOString().substring(0,10)}function Nn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=le(e);try{var s=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),In(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),In(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var o=s();if("break"===o)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Sn,En=function(){function e(t){ce(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return he(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(uo){t(uo)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,yn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(fe(r.heartbeats),fe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function In(e){return Se(JSON.stringify({version:2,heartbeats:e})).length}Sn="",Xt(new ut("platform-logger",(function(e){return new zt(e)}),"PRIVATE")),Xt(new ut("heartbeat",(function(e){return new xn(e)}),"PRIVATE")),dn(Ht,Bt,Sn),dn(Ht,Bt,"esm2017"),dn("fire-js","");function Cn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Tn;Object.create;function Dn(){return pe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var jn=Dn,Rn=new Me("auth","Firebase",Dn()),Pn=new bt("@firebase/auth");function An(e){if(Pn.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pn.error.apply(Pn,["Auth (".concat(an,"): ").concat(e)].concat(n))}}function On(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Fn.apply(void 0,[e].concat(n))}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fn.apply(void 0,[e].concat(n))}function Mn(e,t,n){var r=Object.assign(Object.assign({},jn()),pe({},t,n));return new Me("auth","Firebase",r).create(t,{appName:e.name})}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],s=fe(n.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(fe(s)))}return Rn.create.apply(Rn,[e].concat(n))}function Un(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Fn.apply(void 0,[t].concat(r))}}function Vn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw An(t),new Error(t)}function zn(e,t){e||Vn(t)}var Hn=new Map;function Bn(e){zn(e instanceof Function,"Expected a class definition");var t=Hn.get(e);return t?(zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hn.set(e,t),t)}function Wn(e,t){var n=Jt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ge(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;On(r,"already-initialized")}return n.initialize({options:t})}function qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yn(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Kn=function(){function e(t,n){ce(this,e),this.shortDelay=t,this.longDelay=n,zn(n>t,"Short delay should be less than long delay!"),this.isMobile=je()||Pe()}return he(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yn()||Re()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qn(e,t){zn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $n=function(){function e(){ce(this,e)}return he(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Xn=(pe(Tn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),pe(Tn,"MISSING_CUSTOM_TOKEN","internal-error"),pe(Tn,"INVALID_IDENTIFIER","invalid-email"),pe(Tn,"MISSING_CONTINUE_URI","internal-error"),pe(Tn,"INVALID_PASSWORD","wrong-password"),pe(Tn,"MISSING_PASSWORD","internal-error"),pe(Tn,"EMAIL_EXISTS","email-already-in-use"),pe(Tn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),pe(Tn,"INVALID_IDP_RESPONSE","invalid-credential"),pe(Tn,"INVALID_PENDING_TOKEN","invalid-credential"),pe(Tn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),pe(Tn,"MISSING_REQ_TYPE","internal-error"),pe(Tn,"EMAIL_NOT_FOUND","user-not-found"),pe(Tn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),pe(Tn,"EXPIRED_OOB_CODE","expired-action-code"),pe(Tn,"INVALID_OOB_CODE","invalid-action-code"),pe(Tn,"MISSING_OOB_CODE","internal-error"),pe(Tn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),pe(Tn,"INVALID_ID_TOKEN","invalid-user-token"),pe(Tn,"TOKEN_EXPIRED","user-token-expired"),pe(Tn,"USER_NOT_FOUND","user-token-expired"),pe(Tn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),pe(Tn,"INVALID_CODE","invalid-verification-code"),pe(Tn,"INVALID_SESSION_INFO","invalid-verification-id"),pe(Tn,"INVALID_TEMPORARY_PROOF","invalid-credential"),pe(Tn,"MISSING_SESSION_INFO","missing-verification-id"),pe(Tn,"SESSION_EXPIRED","code-expired"),pe(Tn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),pe(Tn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),pe(Tn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),pe(Tn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),pe(Tn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),pe(Tn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),pe(Tn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),pe(Tn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),pe(Tn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),pe(Tn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),pe(Tn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Tn),Jn=new Kn(3e4,6e4);function Zn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function er(e,t,n,r){return tr.apply(this,arguments)}function tr(){return tr=Z(X().mark((function e(t,n,r,i){var a,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",nr(t,a,Z(X().mark((function e(){var a,s,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},i&&("GET"===n?s=i:a={body:JSON.stringify(i)}),o=Qe(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$n.fetch()(sr(t,t.config.apiHost,r,o),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function nr(e,t,n){return rr.apply(this,arguments)}function rr(){return rr=Z(X().mark((function e(t,n,r){var i,a,s,o,l,c,d,h,f,p;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Xn),n),e.prev=2,a=new or(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw ur(t,"account-exists-with-different-credential",o);case 13:if(!s.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(l=s.ok?o.errorMessage:o.error.message,c=l.split(" : "),d=u(c,2),h=d[0],f=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ur(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ur(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ur(t,"user-disabled",o);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw Mn(t,p,f);case 34:On(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Le)){e.next=41;break}throw e.t0;case 41:On(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),rr.apply(this,arguments)}function ir(e,t,n,r){return ar.apply(this,arguments)}function ar(){return ar=Z(X().mark((function e(t,n,r,i){var a,s,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,er(t,n,r,i,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&On(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function sr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var or=function(){function e(t){var n=this;ce(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ln(n.auth,"network-request-failed"))}),Jn.get())}))}return he(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ur(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ln(e,t,r);return i.customData._tokenResponse=n,i}function lr(e,t){return cr.apply(this,arguments)}function cr(){return cr=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function dr(e,t){return hr.apply(this,arguments)}function hr(){return hr=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function fr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function pr(){return pr=Z(X().mark((function e(t){var n,r,i,a,s,o,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Un((a=mr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:fr(vr(a.auth_time)),issuedAtTime:fr(vr(a.iat)),expirationTime:fr(vr(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function vr(e){return 1e3*Number(e)}function mr(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return An("JWT malformed, contained fewer than 3 sections"),null;try{var s=Ee(i);return s?JSON.parse(s):(An("Failed to decode base64 JWT payload"),null)}catch(o){return An("Caught error parsing JWT payload as JSON",null===(t=o)||void 0===t?void 0:t.toString()),null}}function yr(e,t){return gr.apply(this,arguments)}function gr(){return gr=Z(X().mark((function e(t,n){var r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Le&&kr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gr.apply(this,arguments)}function kr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var br=function(){function e(t){ce(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return he(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),_r=function(){function e(t,n){ce(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return he(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function xr(e){return wr.apply(this,arguments)}function wr(){return wr=Z(X().mark((function e(t){var n,r,i,a,s,o,u,l,c,d,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,yr(t,dr(r,{idToken:i}));case 6:Un(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),s=a.users[0],t._notifyReloadListener(s),o=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?Er(s.providerUserInfo):[],u=Sr(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new _r(s.createdAt,s.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function Nr(){return(Nr=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ot(t),e.next=3,xr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(fe(n),fe(t))}function Er(e){return e.map((function(e){var t=e.providerId,n=Cn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ir(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(t,{},Z(X().mark((function e(){var r,i,a,s,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,s=i.apiKey,o=sr(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$n.fetch()(o,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}var Tr=function(){function e(){ce(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return he(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Un(e.idToken,"internal-error"),Un("undefined"!==typeof e.idToken,"internal-error"),Un("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=mr(e);return Un(t,"internal-error"),Un("undefined"!==typeof t.exp,"internal-error"),Un("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Z(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Un(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Z(X().mark((function e(t,n){var r,i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Vn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,s=new e;return r&&(Un("string"===typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(Un("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),a&&(Un("number"===typeof a,"internal-error",{appName:t}),s.expirationTime=a),s}}]),e}();function Dr(e,t){Un("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jr=function(){function e(t){ce(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Cn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?fe(a.providerData):[],this.metadata=new _r(a.createdAt||void 0,a.lastLoginAt||void 0)}return he(e,[{key:"getIdToken",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Un(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return pr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Nr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Z(X().mark((function e(t){var n,r,i=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,xr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,yr(this,lr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,s,o,u,l,c,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,x=n.providerData,w=n.stsTokenManager;Un(k&&w,t,"internal-error");var N=Tr.fromJSON(this.name,w);Un("string"===typeof k,t,"internal-error"),Dr(d,t.name),Dr(h,t.name),Un("boolean"===typeof b,t,"internal-error"),Un("boolean"===typeof _,t,"internal-error"),Dr(f,t.name),Dr(p,t.name),Dr(v,t.name),Dr(m,t.name),Dr(y,t.name),Dr(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:d,isAnonymous:_,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:N,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Z(X().mark((function t(n,r){var i,a,s,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(a=new Tr).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,xr(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Rr=function(){function e(){ce(this,e),this.type="NONE",this.storage={}}return he(e,[{key:"_isAvailable",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Rr.type="NONE";var Pr=Rr;function Ar(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Or=function(){function e(t,n,r){ce(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,s=i.name;this.fullUserKey=Ar(this.userKey,a.apiKey,s),this.fullPersistenceKey=Ar("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return he(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Z(X().mark((function t(n,r){var i,a,s,o,u,l,c,d,h,f,p,v=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Bn(Pr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||Bn(Pr),o=Ar(i,n.config.apiKey,n.name),u=null,l=le(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return d=c.value,t.prev=14,t.next=17,d._get(o);case 17:if(!(h=t.sent)){t.next=23;break}return f=jr._fromJSON(n,h),d!==s&&(u=f),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(s,n,i));case 40:if(s=p[0],!u){t.next=44;break}return t.next=44,s._set(o,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hr(t))return"Blackberry";if(Br(t))return"Webos";if(Fr(t))return"Safari";if((t.includes("chrome/")||Ur(t))&&!t.includes("edge/"))return"Chrome";if(zr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/firefox\//i.test(e)}function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/crios\//i.test(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/iemobile/i.test(e)}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/android/i.test(e)}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/blackberry/i.test(e)}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/webos/i.test(e)}function Wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return Wr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Yr(){return Ae()&&10===document.documentMode}function Gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return Wr(e)||zr(e)||Br(e)||Hr(e)||/windows phone/i.test(e)||Vr(e)}function Kr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lr(De());break;case"Worker":t="".concat(Lr(De()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(an,"/").concat(r)}var Qr=function(){function e(t){ce(this,e),this.auth=t,this.queue=[]}return he(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Z(X().mark((function e(t){var n,r,i,a,s,o,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=le(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return s=a.value,e.next=11,s(t);case 11:s.onAbort&&r.push(s.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),o=le(r);try{for(o.s();!(u=o.n()).done;){l=u.value;try{l()}catch(c){}}}catch(d){o.e(d)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$r=function(){function e(t,n,r){ce(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jr(this),this.idTokenSubscription=new Jr(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return he(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Bn(t)),this._initializationPromise=this.queue(Z(X().mark((function r(){var i,a;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Or.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Z(X().mark((function e(t){var n,r,i,a,s,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,s&&s!==o||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Un(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ot(t):null)&&Un(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Z(X().mark((function e(t){var n,r=this,i=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Un(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Z(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Bn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Me("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Un(n=t&&Bn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Or.create(this,[Bn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Z(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Un(s,this,"internal-error"),s.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Un(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xr(e){return ot(e)}var Jr=function(){function e(t){var n=this;ce(this,e),this.auth=t,this.observer=null,this.addObserver=Ze((function(e){return n.observer=e}))}return he(e,[{key:"next",get:function(){return Un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Zr=function(){function e(t,n){ce(this,e),this.providerId=t,this.signInMethod=n}return he(e,[{key:"toJSON",value:function(){return Vn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Vn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Vn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Vn("not implemented")}}]),e}();function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithPassword",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:sendOobCode",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function si(e,t){return oi.apply(this,arguments)}function oi(){return oi=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,n));case 1:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function ui(e,t){return li.apply(this,arguments)}function li(){return li=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithEmailLink",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function ci(e,t){return di.apply(this,arguments)}function di(){return di=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithEmailLink",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}var hi=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ce(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=s,a}return he(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ni(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ui(t,{email:this._email,oobCode:this._password}));case 5:On(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ei(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ci(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:On(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Zr);function fi(e,t){return pi.apply(this,arguments)}function pi(){return pi=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithIdp",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}var vi=function(e){ae(n,e);var t=ue(n);function n(){var e;return ce(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return he(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Cn(t,["providerId","signInMethod"]);if(!r||!i)return null;var s=new n(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}}]),n}(Zr);function mi(e,t){return yi.apply(this,arguments)}function yi(){return yi=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,"POST","/v1/accounts:sendVerificationCode",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function gi(){return gi=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Zn(t,n)));case 1:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(){return ki=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Zn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ur(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=pe({},"USER_NOT_FOUND","user-not-found");function _i(){return _i=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Zn(t,r),bi));case 2:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}var xi=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this,"phone","phone")).params=e,r}return he(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return gi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ki.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _i.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,s=t.temporaryProof;return i||r||a||s?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:s}):null}}]),n}(Zr);var wi=function(){function e(t){var n,r,i,a,s,o;ce(this,e);var u=$e(Xe(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Un(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}return he(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$e(Xe(e)).link,n=t?$e(Xe(t)).deep_link_id:null,r=$e(Xe(e)).deep_link_id;return(r?$e(Xe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(HN){return null}}}]),e}();var Ni=function(){function e(){ce(this,e),this.providerId=e.PROVIDER_ID}return he(e,null,[{key:"credential",value:function(e,t){return hi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wi.parseLink(t);return Un(n,"argument-error"),hi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ni.PROVIDER_ID="password",Ni.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ni.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Si=function(){function e(t){ce(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return he(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ei=function(e){ae(n,e);var t=ue(n);function n(){var e;return ce(this,n),(e=t.apply(this,arguments)).scopes=[],e}return he(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return fe(this.scopes)}}]),n}(Si),Ii=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.call(this,"facebook.com")}return he(n,null,[{key:"credential",value:function(e){return vi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HN){return null}}}]),n}(Ei);Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ii.PROVIDER_ID="facebook.com";var Ci=function(e){ae(n,e);var t=ue(n);function n(){var e;return ce(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return he(n,null,[{key:"credential",value:function(e,t){return vi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(HN){return null}}}]),n}(Ei);Ci.GOOGLE_SIGN_IN_METHOD="google.com",Ci.PROVIDER_ID="google.com";var Ti=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.call(this,"github.com")}return he(n,null,[{key:"credential",value:function(e){return vi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HN){return null}}}]),n}(Ei);Ti.GITHUB_SIGN_IN_METHOD="github.com",Ti.PROVIDER_ID="github.com";var Di=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.call(this,"twitter.com")}return he(n,null,[{key:"credential",value:function(e,t){return vi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(HN){return null}}}]),n}(Ei);Di.TWITTER_SIGN_IN_METHOD="twitter.com",Di.PROVIDER_ID="twitter.com";var ji=function(){function e(t){ce(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return he(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Z(X().mark((function t(n,r,i){var a,s,o,u,l=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,jr._fromIdTokenResponse(n,i,a);case 3:return s=t.sent,o=Ri(i),u=new e({user:s,providerId:o,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Z(X().mark((function t(n,r,i){var a;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ri(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ri(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Pi=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a){var s,o;return ce(this,n),(s=t.call(this,r.code,r.message)).operationType=i,s.user=a,Object.setPrototypeOf(re(s),n.prototype),s.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i},s}return he(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Le);function Ai(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Pi._fromErrorAndOperation(e,n,t,r);throw n}))}function Oi(e,t){return Li.apply(this,arguments)}function Li(){return Li=Z(X().mark((function e(t,n){var r,i,a=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=yr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ji._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Mi(e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=Z(X().mark((function e(t,n){var r,i,a,s,o,u,l,c=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,s="reauthenticate",e.prev=3,e.next=6,yr(t,Ai(a,s,n,t),r);case 6:return Un((o=e.sent).idToken,a,"internal-error"),Un(u=mr(o.idToken),a,"internal-error"),l=u.sub,Un(t.uid===l,a,"user-mismatch"),e.abrupt("return",ji._forOperation(t,s,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&On(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Fi.apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=Z(X().mark((function e(t,n){var r,i,a,s,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i="signIn",e.next=4,Ai(t,i,n);case 4:return a=e.sent,e.next=7,ji._fromIdTokenResponse(t,i,a);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function zi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ui(Xr(t),n));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Bi(e,t,n){var r;Un((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Un("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Un(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Un(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wi(){return Wi=Z(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),a={requestType:"PASSWORD_RESET",email:n},r&&Bi(i,a,r),e.next=5,si(i,a);case 5:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function qi(e,t){return er(e,"POST","/v2/accounts/mfaEnrollment:start",Zn(e,t))}new WeakMap;var Yi="__sak",Gi=function(){function e(t,n){ce(this,e),this.storageRetriever=t,this.type=n}return he(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch(HN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ki=function(e){ae(n,e);var t=ue(n);function n(){var e;return ce(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=De();return Fr(e)||Wr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Gr(),e._shouldAllowMigration=!0,e}return he(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},s=this.storage.getItem(r);Yr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Z(X().mark((function e(t,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Gi);Ki.type="LOCAL";var Qi=Ki,$i=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return he(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Gi);$i.type="SESSION";var Xi=$i;function Ji(e){return Promise.all(e.map(function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Zi=function(){function e(t){ce(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return he(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Z(X().mark((function e(t){var n,r,i,a,s,o,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,s=r.data,null===(o=this.handlersMap[a])||void 0===o?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(o).map(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ji(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ea(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zi.receivers=[];var ta=function(){function e(t){ce(this,e),this.target=t,this.handlers=new Set}return he(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Z(X().mark((function e(t,n){var r,i,a,s,o=this,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=ea("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);s={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},o.handlers.add(s),i.port1.addEventListener("message",s.onMessage),o.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){s&&o.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function na(){return window}function ra(){return"undefined"!==typeof na().WorkerGlobalScope&&"function"===typeof na().importScripts}function ia(){return aa.apply(this,arguments)}function aa(){return(aa=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var oa="firebaseLocalStorageDb",ua="firebaseLocalStorage",la="fbase_key",ca=function(){function e(t){ce(this,e),this.request=t}return he(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function da(e,t){return e.transaction([ua],t?"readwrite":"readonly").objectStore(ua)}function ha(){var e=indexedDB.deleteDatabase(oa);return new ca(e).toPromise()}function fa(){var e=indexedDB.open(oa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ua,{keyPath:la})}catch(r){n(r)}})),e.addEventListener("success",Z(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ua)){n.next=12;break}return r.close(),n.next=5,ha();case 5:return n.t0=t,n.next=8,fa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function pa(e,t,n){return va.apply(this,arguments)}function va(){return va=Z(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=da(t,!0).put((pe(i={},la,n),pe(i,"value",r),i)),e.abrupt("return",new ca(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return ya=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=da(t,!1).get(n),e.next=3,new ca(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(e,t){var n=da(e,!0).delete(t);return new ca(n).toPromise()}var ka=function(){function e(){ce(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return he(e,[{key:"_openDb",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Z(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Zi._getInstance(ra()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Z(X().mark((function e(n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ta(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fa();case 5:return t=e.sent,e.next=8,pa(t,Yi,"1");case 8:return e.next=10,ga(t,Yi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Z(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return pa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ma(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ga(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a,s,o,u,l,c,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=da(e,!1).getAll();return new ca(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=le(t);try{for(i.s();!(a=i.n()).done;)s=a.value,o=s.fbase_key,u=s.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)d=c[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ka.type="LOCAL";var ba=ka;function _a(e,t){return er(e,"POST","/v2/accounts/mfaSignIn:start",Zn(e,t))}function xa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ln("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}wa("rcb"),new Kn(3e4,6e4);var Na="recaptcha";function Sa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return Ea=Z(X().mark((function e(t,n,r){var i,a,s,o,u,l,c,d,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Un("string"===typeof a,t,"argument-error"),Un(r.type===Na,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(o=s.session,!("phoneNumber"in s)){e.next=17;break}return Un("enroll"===o.type,t,"internal-error"),e.next=13,qi(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Un("signin"===o.type,t,"internal-error"),Un(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_a(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,mi(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ea.apply(this,arguments)}var Ia=function(){function e(t){ce(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xr(t)}return he(e,[{key:"verifyPhoneNumber",value:function(e,t){return Sa(this.auth,e,ot(t))}}],[{key:"credential",value:function(e,t){return xi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?xi._fromTokenResponse(n,r):null}}]),e}();function Ca(e,t){return t?Bn(t):(Un(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ia.PROVIDER_ID="phone",Ia.PHONE_SIGN_IN_METHOD="phone";var Ta=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this,"custom","custom")).params=e,r}return he(n,[{key:"_getIdTokenResponse",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Zr);function Da(e){return Ui(e.auth,new Ta(e),e.bypassAuthState)}function ja(e){var t=e.auth,n=e.user;return Un(n,t,"internal-error"),Mi(n,new Ta(e),e.bypassAuthState)}function Ra(e){return Pa.apply(this,arguments)}function Pa(){return Pa=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Un(r=t.user,n,"internal-error"),e.abrupt("return",Oi(r,new Ta(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}var Aa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ce(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return he(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Z(X().mark((function t(n,r){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Z(X().mark((function e(t){var n,r,i,a,s,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,s=t.error,o=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Da;case"linkViaPopup":case"linkViaRedirect":return Ra;case"reauthViaPopup":case"reauthViaRedirect":return ja;default:On(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Oa=new Kn(2e3,1e4);var La=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a,s){var o;return ce(this,n),(o=t.call(this,e,r,a,s)).provider=i,o.authWindow=null,o.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=re(o),o}return he(n,[{key:"executeNotNull",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Un(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Z(X().mark((function e(){var t,n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zn(1===this.filter.length,"Popup operations only handle one event"),t=ea(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ln(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ln(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ln(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Oa.get())}()}}]),n}(Aa);La.currentPopupAction=null;var Ma=new Map,Fa=function(e){ae(n,e);var t=ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ce(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return he(n,[{key:"execute",value:function(){var e=Z(X().mark((function e(){var t,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ma.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ua(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ne(ee(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ma.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ma.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Z(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Aa);function Ua(e,t){return Va.apply(this,arguments)}function Va(){return Va=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ba(n),i=Ha(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e,t){Ma.set(e._key(),t)}function Ha(e){return Bn(e._redirectPersistence)}function Ba(e){return Ar("pendingRedirect",e.config.apiKey,e.name)}function Wa(e,t){return qa.apply(this,arguments)}function qa(){return qa=Z(X().mark((function e(t,n){var r,i,a,s,o,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Xr(t),a=Ca(i,n),s=new Fa(i,a,r),e.next=6,s.execute();case 6:if(!(o=e.sent)||r){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}var Ya=function(){function e(t){ce(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return he(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ka(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ka(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ln(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ga(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ga(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ka(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Qa(e){return $a.apply(this,arguments)}function $a(){return $a=Z(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",er(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;function Za(){return Za=Z(X().mark((function e(t){var n,r,i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qa(t);case 4:n=e.sent,r=n.authorizedDomains,i=le(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!es(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:On(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Za.apply(this,arguments)}function es(e){var t=qn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ja.test(r))return!1;if(Xa.test(e))return i===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var ts=new Kn(3e4,6e4);function ns(){var e=na().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=fe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rs=null;function is(e){return rs=rs||function(e){return new Promise((function(t,n){var r,i,a;function s(){ns(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ns(),n(Ln(e,"network-request-failed"))},timeout:ts.get()})}if(null===(i=null===(r=na().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=na().gapi)||void 0===a?void 0:a.load)){var o=wa("iframefcb");return na()[o]=function(){gapi.load?s():n(Ln(e,"network-request-failed"))},xa("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}s()}})).catch((function(e){throw rs=null,e}))}(e),rs}var as=new Kn(5e3,15e3),ss={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function us(e){var t=e.config;Un(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:an},i=os.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Qe(r).slice(1))}function ls(e){return cs.apply(this,arguments)}function cs(){return cs=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t);case 2:return n=e.sent,Un(r=na().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:us(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ss,dontclear:!0},(function(e){return new Promise(function(){var n=Z(X().mark((function n(r,i){var a,s,o;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){na().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ln(t,"network-request-failed"),s=na().setTimeout((function(){i(a)}),as.get()),e.ping(o).then(o,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ds={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hs="_blank",fs="http://localhost",ps=function(){function e(t){ce(this,e),this.window=t,this.associatedEvent=null}return he(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},ds),{width:r.toString(),height:i.toString(),top:a,left:s}),c=De().toLowerCase();n&&(o=Ur(c)?hs:n),Mr(c)&&(t=t||fs,l.scrollbars="yes");var d=Object.entries(l).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(qr(c)&&"_self"!==o)return ms(t||"",o),new ps(null);var h=window.open(t||"",o,d);Un(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ps(h)}function ms(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ys="__/auth/handler",gs="emulator/auth/handler";function ks(e,t,n,r,i,a){Un(e.config.authDomain,e,"auth-domain-config-required"),Un(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:an,eventId:i};if(t instanceof Si){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",qe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,l=Object.entries(a||{});o<l.length;o++){var c=u(l[o],2),d=c[0],h=c[1];s[d]=h}}if(t instanceof Ei){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ys);return Qn(t,gs)}(e),"?").concat(Qe(p).slice(1))}var bs="webStorageSupport",_s=function(){function e(){ce(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xi,this._completeRedirectFn=Wa,this._overrideRedirectResult=za}return he(e,[{key:"_openPopup",value:function(){var e=Z(X().mark((function e(t,n,r,i){var a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),s=ks(t,n,r,qn(),i),e.abrupt("return",vs(t,s,ea()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Z(X().mark((function e(t,n,r,i){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ks(t,n,r,qn(),i),na().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zn(a,"If manager is not set, promise should be"),a)}var s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch((function(){delete t.eventManagers[n]})),s}},{key:"initAndGetManager",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(t);case 2:return n=e.sent,r=new Ya(t),n.register("authEvent",(function(e){return Un(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bs,{type:bs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),On(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Za.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Gr()||Fr()||Wr()}}]),e}(),xs=_s,ws=function(){function e(t){ce(this,e),this.factorId=t}return he(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vn("unexpected MultiFactorSessionType")}}}]),e}(),Ns=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this,"phone")).credential=e,r}return he(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return er(e,"POST","/v2/accounts/mfaEnrollment:finalize",Zn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return er(e,"POST","/v2/accounts/mfaSignIn:finalize",Zn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ws);(function(){function e(){ce(this,e)}return he(e,null,[{key:"assertion",value:function(e){return Ns._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Ss,Es="@firebase/auth",Is="0.20.5",Cs=function(){function e(t){ce(this,e),this.auth=t,this.internalListeners=new Map}return he(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on(),t=Jt(e,"auth");return t.isInitialized()?t.getImmediate():Wn(e,{popupRedirectResolver:xs,persistence:[ba,Qi,Xi]})}function Ds(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}u((r=r.apply(e,t||[])).next())}))}function js(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}Ss="Browser",Xt(new ut("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,s=a.apiKey,o=a.authDomain;return function(e,t){Un(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),Un(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var r={apiKey:s,authDomain:o,clientPlatform:Ss,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(Ss)},i=new $r(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Xt(new ut("auth-internal",(function(e){return function(e){return new Cs(e)}(Xr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),dn(Es,Is,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ss)),dn(Es,Is,"esm2017");var Rs,Ps=function(){return Ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ps.apply(this,arguments)},As=function(e){return{loading:void 0===e||null===e,value:e}},Os=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return Ps(Ps({},e),{error:t.error,loading:!1,value:void 0});case"reset":return As(t.defaultValue);case"value":return Ps(Ps({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),As(t)),i=n[0],a=n[1],s=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},o=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:s,setError:o,setValue:u,value:i.value}}),[i.error,i.loading,s,o,u,i.value])},Ls=function(e,t){var n=Os((function(){return e.currentUser})),i=n.error,a=n.loading,s=n.setError,o=n.setValue,u=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Ds(void 0,void 0,void 0,(function(){var n;return js(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),s(n),[3,4];case 4:return o(e),[2]}}))}))}),s);return function(){n()}}),[e]);var l=[u,a,i];return(0,r.useMemo)((function(){return l}),l)};dn("firebase","9.9.0","app");var Ms=function(){function e(t,n){var r=this;ce(this,e),this._delegate=t,this.firebase=n,Qt(t,new ut("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return he(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ln(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$t(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Fs=(pe(Rs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),pe(Rs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Rs),Us=new Me("app-compat","Firebase",Fs);var Vs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=sn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Be(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:dn,setLogLevel:fn,onLog:hn,apps:null,SDK_VERSION:an,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Xt(e)&&"PUBLIC"===e.type){var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Us.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ie(s,e.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Be(n,e=e||qt))throw Us.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ms);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ie(n,e)},createSubscribe:Ze,ErrorFactory:Me,deepExtend:Ie}),n}(),zs=new bt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Hs=self.firebase.SDK_VERSION;Hs&&Hs.indexOf("LITE")>=0&&zs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Bs=Vs;!function(e){dn("@firebase/app-compat","0.1.29",e)}();Bs.registerVersion("firebase","9.9.0","app-compat");var Ws="@firebase/database",qs="0.13.3",Ys="";function Gs(e){Ys=e}var Ks=function(){function e(t){ce(this,e),this.domStorage_=t,this.prefix_="firebase:"}return he(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ve(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Qs=function(){function e(){ce(this,e),this.cache_={},this.isInMemoryStorage=!0}return he(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Be(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),$s=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ks(t)}}catch(n){}return new Qs},Xs=$s("localStorage"),Js=$s("sessionStorage"),Zs=new bt("@firebase/database"),eo=function(){var e=1;return function(){return e++}}(),to=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,be(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Je;n.update(t);var r=n.digest();return we.encodeByteArray(r)},no=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?ze(r):r,t+=" "}return t},ro=null,io=!0,ao=function(e,t){be(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zs.logLevel=ft.VERBOSE,ro=Zs.log.bind(Zs),t&&Js.set("logging_enabled",!0)):"function"===typeof e?ro=e:(ro=null,Js.remove("logging_enabled"))},so=function(){if(!0===io&&(io=!1,null===ro&&!0===Js.get("logging_enabled")&&ao(!0)),ro){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=no.apply(null,t);ro(r)}},oo=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];so.apply(void 0,[e].concat(n))}},uo=function(){var e="FIREBASE INTERNAL ERROR: "+no.apply(void 0,arguments);Zs.error(e)},lo=function(){var e="FIREBASE FATAL ERROR: ".concat(no.apply(void 0,arguments));throw Zs.error(e),new Error(e)},co=function(){var e="FIREBASE WARNING: "+no.apply(void 0,arguments);Zs.warn(e)},ho=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fo="[MIN_NAME]",po="[MAX_NAME]",vo=function(e,t){if(e===t)return 0;if(e===fo||t===po)return-1;if(t===fo||e===po)return 1;var n=So(e),r=So(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},mo=function(e,t){return e===t?0:e<t?-1:1},yo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ze(t))},go=function e(t){if("object"!==typeof t||null===t)return ze(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=ze(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},ko=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function bo(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _o=function(e){be(!ho(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var u=o.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var xo=new RegExp("^-?(0*)\\d{1,10}$"),wo=-2147483648,No=2147483647,So=function(e){if(xo.test(e)){var t=Number(e);if(t>=wo&&t<=No)return t}return null},Eo=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw co("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Io=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Co=function(){function e(t,n){var r=this;ce(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return he(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){co('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),To=function(){function e(t,n,r){var i=this;ce(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return he(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(so("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',co(e)}}]),e}(),Do=function(){function e(t){ce(this,e),this.accessToken=t}return he(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Do.OWNER="owner";var jo="5",Ro=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Po="websocket",Ao="long_polling",Oo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];ce(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xs.get("host:"+t)||this._host}return he(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xs.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Lo(e,t,n){var r;if(be("string"===typeof t,"typeof type must == string"),be("object"===typeof n,"typeof params must == object"),t===Po)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ao)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return bo(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Mo=function(){function e(){ce(this,e),this.counters_={}}return he(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Be(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ie(void 0,this.counters_)}}]),e}(),Fo={},Uo={};function Vo(e){var t=e.toString();return Fo[t]||(Fo[t]=new Mo),Fo[t]}var zo=function(){function e(t){ce(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return he(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Eo((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Ho="start",Bo="close",Wo=function(){function e(t,n,r,i,a,s,o){var u=this;ce(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oo(t),this.stats_=Vo(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Lo(n,Ao,e)}}return he(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Oe()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qo((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],s=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Ho)n.id=a,n.password=s;else{if(i!==Bo)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=jo,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Ro.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ne(t),r=ko(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Oe()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=ze(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Oe()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),qo=function(){function e(t,n,r,i){if(ce(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Oe())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=eo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(o){so("frame writing exception"),o.stack&&so(o.stack),so(o)}}}return he(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Oe()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){so("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||so("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Yo=null;"undefined"!==typeof MozWebSocket?Yo=MozWebSocket:"undefined"!==typeof WebSocket&&(Yo=WebSocket);var Go=function(){function e(t,n,r,i,a,s,o){ce(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oo(this.connId),this.stats_=Vo(n),this.connURL=e.connectionURL_(n,s,o,i,r),this.nodeAdmin=n.nodeAdmin}return he(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xs.set("previous_websocket_failure",!0);try{var r;if(Oe()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(jo,"/").concat(Ys,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(r.proxy={origin:s})}this.mySock=new Yo(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var o=u.message||u.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Xs.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ve(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(be(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=ze(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ko(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=jo,!Oe()&&"undefined"!==typeof location&&location.hostname&&Ro.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Lo(e,Po,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Yo&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Xs.isInMemoryStorage||!0===Xs.get("previous_websocket_failure")}}]),e}();Go.responsesRequiredToBeHealthy=2,Go.healthyTimeout=3e4;var Ko=function(){function e(t){ce(this,e),this.initTransports_(t)}return he(e,[{key:"initTransports_",value:function(t){var n=Go&&Go.isAvailable(),r=n&&!Go.previouslyFailed();if(t.webSocketOnly&&(n||co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Go];else{var i,a=this.transports_=[],s=le(e.ALL_TRANSPORTS);try{for(s.s();!(i=s.n()).done;){var o=i.value;o&&o.isAvailable()&&a.push(o)}}catch(u){s.e(u)}finally{s.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Wo,Go]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Ko.globalTransportInitialized_=!1;var Qo=function(){function e(t,n,r,i,a,s,o,u,l,c){ce(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oo("c:"+this.id+":"),this.transportManager_=new Ko(n),this.log_("Connection created"),this.start_()}return he(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Io((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=yo("t",e),n=yo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=yo("t",e),n=yo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=yo("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?uo("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uo("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),jo!==n&&co("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Io((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),$o=function(){function e(){ce(this,e)}return he(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Xo=function(){function e(t){ce(this,e),this.allowedEvents_=t,this.listeners_={},be(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return he(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=fe(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){be(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Jo=function(e){ae(n,e);var t=ue(n);function n(){var e;return ce(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||je()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return he(n,[{key:"getInitialEvent",value:function(e){return be("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Xo),Zo=function(){function e(t,n){if(ce(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return he(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function eu(){return new Zo("")}function tu(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function nu(e){return e.pieces_.length-e.pieceNum_}function ru(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Zo(e.pieces_,t)}function iu(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function au(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function su(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Zo(t,0)}function ou(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Zo)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),s=0;s<a.length;s++)a[s].length>0&&n.push(a[s]);return new Zo(n,0)}function uu(e){return e.pieceNum_>=e.pieces_.length}function lu(e,t){var n=tu(e),r=tu(t);if(null===n)return t;if(n===r)return lu(ru(e),ru(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cu(e,t){for(var n=au(e,0),r=au(t,0),i=0;i<n.length&&i<r.length;i++){var a=vo(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function du(e,t){if(nu(e)!==nu(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function hu(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(nu(e)>nu(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var fu=he((function e(t,n){ce(this,e),this.errorPrefix_=n,this.parts_=au(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=st(this.parts_[r]);pu(this)}));function pu(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vu(e))}function vu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var mu=function(e){ae(n,e);var t=ue(n);function n(){var e,r,i;return ce(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return he(n,[{key:"getInitialEvent",value:function(e){return be("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Xo),yu=1e3,gu=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a,s,o,u,l){var c;if(ce(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=s,c.authTokenProvider_=o,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=oo("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=yu,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Oe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return mu.getInstance().on("visible",c.onVisible_,re(c)),-1===e.host.indexOf("fblocal")&&Jo.getInstance().on("online",c.onOnline_,re(c)),c}return he(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ze(i)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ce,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var s={p:i};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var o=s.d,u=s.s;n.warnOnListenWarnings_(o,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",s),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,o))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=He(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=He(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+ze(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):uo("Unrecognized action received from server: "+ze(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yu),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Z(X().mark((function e(){var t,r,i,a,s,o,l,c,d,h,f,p,v,m,y=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,o=!1,l=null,c=function(){l?l.close():(o=!0,i())},d=function(e){be(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:d},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:f=e.sent,p=u(f,2),v=p[0],m=p[1],o?so("getToken() completed but was canceled"):(so("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,l=new Qo(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){co(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),o||(this.repoInfo_.nodeAdmin&&co(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){so("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){so("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qe(this.interruptReasons_)&&(this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return go(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Zo(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){so("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){so("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=le(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=le(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Oe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ys.replace(/\./g,"-")]=1,je()?e["framework.cordova"]=1:Pe()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Jo.getInstance().currentlyOnline();return qe(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Be(e,"w")){var n=We(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();co("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}($o);gu.nextPersistentConnectionId_=0,gu.nextConnectionId_=0;var ku,bu=function(){function e(t,n){ce(this,e),this.name=t,this.node=n}return he(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),_u=function(){function e(){ce(this,e)}return he(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new bu(fo,e),r=new bu(fo,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return bu.MIN}}]),e}(),xu=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"compare",value:function(e,t){return vo(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw _e("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return bu.MIN}},{key:"maxPost",value:function(){return new bu(po,ku)}},{key:"makePost",value:function(e,t){return be("string"===typeof e,"KeyIndex indexValue must always be a string."),new bu(e,ku)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ku},set:function(e){ku=e}}]),n}(_u),wu=new xu,Nu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ce(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return he(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Su=function(){function e(t,n,r,i,a){ce(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Cu.EMPTY_NODE,this.right=null!=a?a:Cu.EMPTY_NODE}return he(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Cu.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Cu.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Su.RED=!0,Su.BLACK=!1;var Eu,Iu=function(){function e(){ce(this,e)}return he(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Su(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Cu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;ce(this,e),this.comparator_=t,this.root_=n}return he(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Su.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Su.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Nu(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Nu(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Nu(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Nu(this.root_,null,this.comparator_,!0,e)}}]),e}();function Tu(e,t){return vo(e.name,t.name)}function Du(e,t){return vo(e,t)}Cu.EMPTY_NODE=new Iu;var ju,Ru,Pu,Au=function(e){return"number"===typeof e?"number:"+_o(e):"string:"+e},Ou=function(e){if(e.isLeafNode()){var t=e.val();be("string"===typeof t||"number"===typeof t||"object"===typeof t&&Be(t,".sv"),"Priority must be a string or number.")}else be(e===Eu||e.isEmpty(),"priority of unexpected type.");be(e===Eu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Lu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;ce(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,be(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ou(this.priorityNode_)}return he(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return uu(t)?this:".priority"===tu(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=tu(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(be(".priority"!==r||1===nu(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ru(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Au(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?_o(this.value_):this.value_,this.lazyHash_=to(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(be(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return be(i>=0,"Unknown leaf type: "+n),be(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ju},set:function(e){ju=e}}]),e}();Lu.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Mu,Fu,Uu=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?vo(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return bu.MIN}},{key:"maxPost",value:function(){return new bu(po,new Lu("[PRIORITY-POST]",Pu))}},{key:"makePost",value:function(e,t){var n=Ru(e);return new bu(t,new Lu("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(_u),Vu=new Uu,zu=Math.log(2),Hu=function(){function e(t){ce(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/zu,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return he(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Bu=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,s,o=i-r;if(0===o)return null;if(1===o)return a=e[r],s=n?n(a):a,new Su(s,a.node,Su.BLACK,null,null);var u=parseInt(o/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],s=n?n(a):a,new Su(s,a.node,Su.BLACK,l,c)},a=function(t){for(var r=null,a=null,s=e.length,o=function(t,r){var a=s-t,o=s;s-=t;var l=i(a+1,o),c=e[a],d=n?n(c):c;u(new Su(d,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?o(d,Su.BLACK):(o(d,Su.BLACK),o(d,Su.RED))}return a}(new Hu(e.length));return new Cu(r||t,a)},Wu={},qu=function(){function e(t,n){ce(this,e),this.indexes_=t,this.indexSet_=n}return he(e,[{key:"get",value:function(e){var t=We(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cu?t:null}},{key:"hasIndex",value:function(e){return Be(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){be(t!==wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(bu.Wrap),o=s.getNext();o;)a=a||t.isDefinedOn(o.node),i.push(o),o=s.getNext();r=a?Bu(i,t.getCompare()):Wu;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Ye(this.indexes_,(function(e,i){var a=We(r.indexSet_,i);if(be(a,"Missing index implementation for "+i),e===Wu){if(a.isDefinedOn(t.node)){for(var s=[],o=n.getIterator(bu.Wrap),u=o.getNext();u;)u.name!==t.name&&s.push(u),u=o.getNext();return s.push(t),Bu(s,a.getCompare())}return Wu}var l=n.get(t.name),c=e;return l&&(c=c.remove(new bu(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ye(this.indexes_,(function(e){if(e===Wu)return e;var r=n.get(t.name);return r?e.remove(new bu(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return be(Wu&&Vu,"ChildrenNode.ts has not been loaded"),Mu=Mu||new e({".priority":Wu},{".priority":Vu})}}]),e}(),Yu=function(){function e(t,n,r){ce(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ou(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return he(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Fu}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Fu:t}},{key:"getChild",value:function(e){var t=tu(e);return null===t?this:this.getImmediateChild(t).getChild(ru(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(be(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new bu(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var s=r.isEmpty()?Fu:this.priorityNode_;return new e(r,s,i)}},{key:"updateChild",value:function(e,t){var n=tu(e);if(null===n)return t;be(".priority"!==tu(e)||1===nu(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ru(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Vu,(function(s,o){n[s]=o.val(t),r++,a&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):a=!1})),!t&&a&&i<2*r){var s=[];for(var o in n)s[o]=n[o];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Au(this.getPriority().val())+":"),this.forEachChild(Vu,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":to(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bu(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new bu(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new bu(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,bu.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,bu.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gu?-1:0}},{key:"withIndex",value:function(t){if(t===wu||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===wu||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Vu),r=t.getIterator(Vu),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===wu?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Fu||(Fu=new e(new Cu(Du),null,qu.Default))}}]),e}();Yu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Gu=new(function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.call(this,new Cu(Du),Yu.EMPTY_NODE,qu.Default)}return he(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Yu.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Yu));Object.defineProperties(bu,{MIN:{value:new bu(fo,Yu.EMPTY_NODE)},MAX:{value:new bu(po,Gu)}}),xu.__EMPTY_NODE=Yu.EMPTY_NODE,Lu.__childrenNodeConstructor=Yu,Eu=Gu,function(e){Pu=e}(Gu);function Ku(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Yu.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),be(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Lu(n,Ku(t))}if(e instanceof Array){var r=Yu.EMPTY_NODE;return bo(e,(function(t,n){if(Be(e,t)&&"."!==t.substring(0,1)){var i=Ku(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ku(t))}var i=[],a=!1,s=e;if(bo(s,(function(e,t){if("."!==e.substring(0,1)){var n=Ku(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new bu(e,n)))}})),0===i.length)return Yu.EMPTY_NODE;var o=Bu(i,Tu,(function(e){return e.name}),Du);if(a){var u=Bu(i,Vu.getCompare());return new Yu(o,Ku(t),new qu({".priority":u},{".priority":Vu}))}return new Yu(o,Ku(t),qu.Default)}!function(e){Ru=e}(Ku);var Qu=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).indexPath_=e,be(!uu(e)&&".priority"!==tu(e),"Can't create PathIndex with empty path or .priority key"),r}return he(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?vo(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ku(e),r=Yu.EMPTY_NODE.updateChild(this.indexPath_,n);return new bu(t,r)}},{key:"maxPost",value:function(){var e=Yu.EMPTY_NODE.updateChild(this.indexPath_,Gu);return new bu(po,e)}},{key:"toString",value:function(){return au(this.indexPath_,0).join("/")}}]),n}(_u),$u=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?vo(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return bu.MIN}},{key:"maxPost",value:function(){return bu.MAX}},{key:"makePost",value:function(e,t){var n=Ku(e);return new bu(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(_u),Xu=new $u,Ju="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zu=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Ju.charAt(n%64),n=Math.floor(n/64);be(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=Ju.charAt(t[r]);return be(20===s.length,"nextPushId: Length should be 20."),s}}(),el=function(e){if("2147483647"===e)return"-";var t=So(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return po;var a=n[i],s=Ju.charAt(Ju.indexOf(a)+1);return n[i]=s,n.slice(0,i+1).join("")},tl=function(e){if("-2147483648"===e)return fo;var t=So(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Ju.charAt(Ju.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function nl(e){return{type:"value",snapshotNode:e}}function rl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function il(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function al(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var sl=function(){function e(t){ce(this,e),this.index_=t}return he(e,[{key:"updateChild",value:function(e,t,n,r,i,a){be(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(il(t,s)):be(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(rl(t,n)):a.trackChildChange(al(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Vu,(function(e,r){t.hasChild(e)||n.trackChildChange(il(e,r))})),t.isLeafNode()||t.forEachChild(Vu,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(al(t,r,i))}else n.trackChildChange(rl(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Yu.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),ol=function(){function e(t){ce(this,e),this.indexedFilter_=new sl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return he(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new bu(t,n))||(n=Yu.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Yu.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Yu.EMPTY_NODE);var i=this;return t.forEachChild(Vu,(function(e,t){i.matches(new bu(e,t))||(r=r.updateImmediateChild(e,Yu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),ul=function(){function e(t){ce(this,e),this.rangedFilter_=new ol(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return he(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new bu(t,n))||(n=Yu.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Yu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Yu.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{var o,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(Yu.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();l=function(e,t){return d(t,e)}}else c=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var h=0,f=!1;c.hasNext();){var p=c.getNext();!f&&l(o,p)<=0&&(f=!0),f&&h<this.limit_&&l(p,u)<=0?h++:r=r.updateImmediateChild(p.name,Yu.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var o=e;be(o.numChildren()===this.limit_,"");var u=new bu(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(o.hasChild(t)){for(var d=o.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||o.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var f=null==h?1:a(h,u);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(al(t,n,d)),o.updateImmediateChild(t,n);null!=i&&i.trackChildChange(il(t,d));var p=o.updateImmediateChild(t,Yu.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(rl(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(il(l.name,l.node)),i.trackChildChange(rl(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Yu.EMPTY_NODE)):e}}]),e}(),ll=function(){function e(){ce(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vu}return he(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fo}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:po}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Vu}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function cl(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dl(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function hl(e,t){var n=e.copy();return n.index_=t,n}function fl(e){var t,n={};return e.isDefault()||(e.index_===Vu?t="$priority":e.index_===Xu?t="$value":e.index_===wu?t="$key":(be(e.index_ instanceof Qu,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ze(t),e.startSet_&&(n.startAt=ze(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+ze(e.indexStartName_))),e.endSet_&&(n.endAt=ze(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+ze(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function pl(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Vu&&(t.i=e.index_.toString()),t}var vl=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a){var s;return ce(this,n),(s=t.call(this)).repoInfo_=e,s.onDataUpdate_=r,s.authTokenProvider_=i,s.appCheckTokenProvider_=a,s.log_=oo("p:rest:"),s.listens_={},s}return he(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var o=n.getListenId_(e,r),u={};this.listens_[o]=u;var l=fl(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),We(a.listens_,o)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=fl(e._queryParams),r=e._path.toString(),i=new Ce;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),s=a[0],o=a[1];s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Qe(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Ve(c.responseText)}catch(n){co("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&co("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}($o),ml=function(){function e(){ce(this,e),this.rootNode_=Yu.EMPTY_NODE}return he(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function yl(){return{value:null,children:new Map}}function gl(e,t,n){if(uu(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=tu(t);e.children.has(r)||e.children.set(r,yl()),gl(e.children.get(r),t=ru(t),n)}}function kl(e,t){if(uu(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Vu,(function(t,n){gl(e,new Zo(t),n)})),kl(e,t)}if(e.children.size>0){var r=tu(t);if(t=ru(t),e.children.has(r))kl(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function bl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){bl(r,new Zo(t.toString()+"/"+e),n)}))}var _l,xl=function(){function e(t){ce(this,e),this.collection_=t,this.last_=null}return he(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&bo(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),wl=function(){function e(t,n){ce(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new xl(t);var r=1e4+2e4*Math.random();Io(this.reportStats_.bind(this),Math.floor(r))}return he(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;bo(t,(function(t,i){i>0&&Be(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Io(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Nl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_l||(_l={}));var Sl,El=function(){function e(t,n,r){ce(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=_l.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return he(e,[{key:"operationForChild",value:function(t){if(uu(this.path)){if(null!=this.affectedTree.value)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Zo(t));return new e(eu(),n,this.revert)}return be(tu(this.path)===t,"operationForChild called for unrelated child."),new e(ru(this.path),this.affectedTree,this.revert)}}]),e}(),Il=function(){function e(t,n){ce(this,e),this.source=t,this.path=n,this.type=_l.LISTEN_COMPLETE}return he(e,[{key:"operationForChild",value:function(t){return uu(this.path)?new e(this.source,eu()):new e(this.source,ru(this.path))}}]),e}(),Cl=function(){function e(t,n,r){ce(this,e),this.source=t,this.path=n,this.snap=r,this.type=_l.OVERWRITE}return he(e,[{key:"operationForChild",value:function(t){return uu(this.path)?new e(this.source,eu(),this.snap.getImmediateChild(t)):new e(this.source,ru(this.path),this.snap)}}]),e}(),Tl=function(){function e(t,n,r){ce(this,e),this.source=t,this.path=n,this.children=r,this.type=_l.MERGE}return he(e,[{key:"operationForChild",value:function(t){if(uu(this.path)){var n=this.children.subtree(new Zo(t));return n.isEmpty()?null:n.value?new Cl(this.source,eu(),n.value):new e(this.source,eu(),n)}return be(tu(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ru(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Dl=function(){function e(t,n,r){ce(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return he(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(uu(e))return this.isFullyInitialized()&&!this.filtered_;var t=tu(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),jl=he((function e(t){ce(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Rl(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw _e("Should only compare child_ events.");var r=new bu(t.childName,t.snapshotNode),i=new bu(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Pl(e,t){return{eventCache:e,serverCache:t}}function Al(e,t,n,r){return Pl(new Dl(t,n,r),e.serverCache)}function Ol(e,t,n,r){return Pl(e.eventCache,new Dl(t,n,r))}function Ll(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ml(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Fl=function(){return Sl||(Sl=new Cu(mo)),Sl},Ul=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fl();ce(this,e),this.value=t,this.children=n}return he(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:eu(),value:this.value};if(uu(e))return null;var n=tu(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ru(e),t);return null!=i?{path:ou(new Zo(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(uu(t))return this;var n=tu(t),r=this.children.get(n);return null!==r?r.subtree(ru(t)):new e(null)}},{key:"set",value:function(t,n){if(uu(t))return new e(n,this.children);var r=tu(t),i=(this.children.get(r)||new e(null)).set(ru(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(uu(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=tu(t),r=this.children.get(n);if(r){var i,a=r.remove(ru(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(uu(e))return this.value;var t=tu(e),n=this.children.get(t);return n?n.get(ru(e)):null}},{key:"setTree",value:function(t,n){if(uu(t))return n;var r,i=tu(t),a=(this.children.get(i)||new e(null)).setTree(ru(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(eu(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ou(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,eu(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(uu(e))return null;var i=tu(e),a=this.children.get(i);return a?a.findOnPath_(ru(e),ou(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,eu(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(uu(t))return this;this.value&&r(n,this.value);var i=tu(t),a=this.children.get(i);return a?a.foreachOnPath_(ru(t),ou(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(eu(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ou(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return bo(t,(function(e,t){n=n.set(new Zo(e),t)})),n}}]),e}(),Vl=function(){function e(t){ce(this,e),this.writeTree_=t}return he(e,null,[{key:"empty",value:function(){return new e(new Ul(null))}}]),e}();function zl(e,t,n){if(uu(t))return new Vl(new Ul(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,s=lu(i,t);return a=a.updateChild(s,n),new Vl(e.writeTree_.set(i,a))}var o=new Ul(n),u=e.writeTree_.setTree(t,o);return new Vl(u)}function Hl(e,t,n){var r=e;return bo(n,(function(e,n){r=zl(r,ou(t,e),n)})),r}function Bl(e,t){if(uu(t))return Vl.empty();var n=e.writeTree_.setTree(t,new Ul(null));return new Vl(n)}function Wl(e,t){return null!=ql(e,t)}function ql(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(lu(n.path,t)):null}function Yl(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Vu,(function(e,n){t.push(new bu(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bu(e,n.value))})),t}function Gl(e,t){if(uu(t))return e;var n=ql(e,t);return new Vl(null!=n?new Ul(n):e.writeTree_.subtree(t))}function Kl(e){return e.writeTree_.isEmpty()}function Ql(e,t){return $l(eu(),e.writeTree_,t)}function $l(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(be(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=$l(ou(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ou(e,".priority"),r)),n}function Xl(e,t){return dc(t,e)}function Jl(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Zl(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));be(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var o=e.allWrites[s];o.visible&&(s>=n&&ec(o,r.path)?i=!1:hu(r.path,o.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=nc(e.allWrites,tc,eu()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Bl(e.visibleWrites,r.path):bo(r.children,(function(t){e.visibleWrites=Bl(e.visibleWrites,ou(r.path,t))}));return!0}return!1}function ec(e,t){if(e.snap)return hu(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&hu(ou(e.path,n),t))return!0;return!1}function tc(e){return e.visible}function nc(e,t,n){for(var r=Vl.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,o=void 0;if(a.snap)hu(n,s)?r=zl(r,o=lu(n,s),a.snap):hu(s,n)&&(o=lu(s,n),r=zl(r,eu(),a.snap.getChild(o)));else{if(!a.children)throw _e("WriteRecord should have .snap or .children");if(hu(n,s))r=Hl(r,o=lu(n,s),a.children);else if(hu(s,n))if(uu(o=lu(s,n)))r=Hl(r,eu(),a.children);else{var u=We(a.children,tu(o));if(u){var l=u.getChild(ru(o));r=zl(r,eu(),l)}}}}}return r}function rc(e,t,n,r,i){if(r||i){var a=Gl(e.visibleWrites,t);if(!i&&Kl(a))return n;if(i||null!=n||Wl(a,eu())){return Ql(nc(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(hu(e.path,t)||hu(t,e.path))}),t),n||Yu.EMPTY_NODE)}return null}var s=ql(e.visibleWrites,t);if(null!=s)return s;var o=Gl(e.visibleWrites,t);return Kl(o)?n:null!=n||Wl(o,eu())?Ql(o,n||Yu.EMPTY_NODE):null}function ic(e,t,n,r){return rc(e.writeTree,e.treePath,t,n,r)}function ac(e,t){return function(e,t,n){var r=Yu.EMPTY_NODE,i=ql(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Vu,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Gl(e.visibleWrites,t);return n.forEachChild(Vu,(function(e,t){var n=Ql(Gl(a,new Zo(e)),t);r=r.updateImmediateChild(e,n)})),Yl(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Yl(Gl(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function sc(e,t,n,r){return function(e,t,n,r,i){be(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ou(t,n);if(Wl(e.visibleWrites,a))return null;var s=Gl(e.visibleWrites,a);return Kl(s)?i.getChild(n):Ql(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function oc(e,t){return function(e,t){return ql(e.visibleWrites,t)}(e.writeTree,ou(e.treePath,t))}function uc(e,t,n,r,i,a){return function(e,t,n,r,i,a,s){var o,u=Gl(e.visibleWrites,t),l=ql(u,eu());if(null!=l)o=l;else{if(null==n)return[];o=Ql(u,n)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var c=[],d=s.getCompare(),h=a?o.getReverseIteratorFrom(r,s):o.getIteratorFrom(r,s),f=h.getNext();f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function lc(e,t,n){return function(e,t,n,r){var i=ou(t,n),a=ql(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Ql(Gl(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function cc(e,t){return dc(ou(e.treePath,t),e.writeTree)}function dc(e,t){return{treePath:e,writeTree:t}}var hc=function(){function e(){ce(this,e),this.changeMap=new Map}return he(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;be("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),be(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,al(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,il(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw _e("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,al(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),fc=new(function(){function e(){ce(this,e)}return he(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),pc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ce(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return he(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Dl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lc(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ml(this.viewCache_),i=uc(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function vc(e,t,n,r,i){var a,s,o=new hc;if(n.type===_l.OVERWRITE){var u=n;u.source.fromUser?a=gc(e,t,u.path,u.snap,r,i,o):(be(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!uu(u.path),a=yc(e,t,u.path,u.snap,r,i,s,o))}else if(n.type===_l.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,s){var o=t;return r.foreach((function(r,u){var l=ou(n,r);kc(t,tu(l))&&(o=gc(e,o,l,u,i,a,s))})),r.foreach((function(r,u){var l=ou(n,r);kc(t,tu(l))||(o=gc(e,o,l,u,i,a,s))})),o}(e,t,l.path,l.children,r,i,o):(be(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=_c(e,t,l.path,l.children,r,i,s,o))}else if(n.type===_l.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var s;if(null!=oc(r,n))return t;var o,u=new pc(r,t,i),l=t.eventCache.getNode();if(uu(n)||".priority"===tu(n)){var c;if(t.serverCache.isFullyInitialized())c=ic(r,Ml(t));else{var d=t.serverCache.getNode();be(d instanceof Yu,"serverChildren would be complete if leaf node"),c=ac(r,d)}o=e.filter.updateFullNode(l,c,a)}else{var h=tu(n),f=lc(r,h,t.serverCache);null==f&&t.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),(o=null!=f?e.filter.updateChild(l,h,f,ru(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Yu.EMPTY_NODE,ru(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ic(r,Ml(t))).isLeafNode()&&(o=e.filter.updateFullNode(o,s,a))}return s=t.serverCache.isFullyInitialized()||null!=oc(r,eu()),Al(t,o,s,e.filter.filtersNodes())}(e,t,c.path,r,i,o):function(e,t,n,r,i,a,s){if(null!=oc(i,n))return t;var o=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(uu(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return yc(e,t,n,u.getNode().getChild(n),i,a,o,s);if(uu(n)){var l=new Ul(null);return u.getNode().forEachChild(wu,(function(e,t){l=l.set(new Zo(e),t)})),_c(e,t,n,l,i,a,o,s)}return t}var c=new Ul(null);return r.foreach((function(e,t){var r=ou(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),_c(e,t,n,c,i,a,o,s)}(e,t,c.path,c.affectedTree,r,i,o)}else{if(n.type!==_l.LISTEN_COMPLETE)throw _e("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,s=Ol(t,a.getNode(),a.isFullyInitialized()||uu(n),a.isFiltered());return mc(e,s,n,r,fc,i)}(e,t,n.path,r,o)}var d=o.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ll(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(nl(Ll(t)))}}(t,a,d),{viewCache:a,changes:d}}function mc(e,t,n,r,i,a){var s,o,u=t.eventCache;if(null!=oc(r,n))return t;if(uu(n))if(be(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Ml(t),c=ac(r,l instanceof Yu?l:Yu.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=ic(r,Ml(t));s=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=tu(n);if(".priority"===h){be(1===nu(n),"Can't have a priority with additional path components");var f=u.getNode(),p=sc(r,n,f,o=t.serverCache.getNode());s=null!=p?e.filter.updatePriority(f,p):u.getNode()}else{var v,m=ru(n);if(u.isCompleteForChild(h)){o=t.serverCache.getNode();var y=sc(r,n,u.getNode(),o);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=lc(r,h,t.serverCache);s=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Al(t,s,u.isFullyInitialized()||uu(n),e.filter.filtersNodes())}function yc(e,t,n,r,i,a,s,o){var u,l=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(uu(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),d,null)}else{var h=tu(n);if(!l.isCompleteForPath(n)&&nu(n)>1)return t;var f=ru(n),p=l.getNode().getImmediateChild(h).updateChild(f,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,f,fc,null)}var v=Ol(t,u,l.isFullyInitialized()||uu(n),c.filtersNodes());return mc(e,v,n,i,new pc(i,v,a),o)}function gc(e,t,n,r,i,a,s){var o,u,l=t.eventCache,c=new pc(i,t,a);if(uu(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),o=Al(t,u,!0,e.filter.filtersNodes());else{var d=tu(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),o=Al(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,f=ru(n),p=l.getNode().getImmediateChild(d);if(uu(f))h=r;else{var v=c.getCompleteChild(d);h=null!=v?".priority"===iu(f)&&v.getChild(su(f)).isEmpty()?v:v.updateChild(f,r):Yu.EMPTY_NODE}if(p.equals(h))o=t;else o=Al(t,e.filter.updateChild(l.getNode(),d,h,f,c,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return o}function kc(e,t){return e.eventCache.isCompleteForChild(t)}function bc(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function _c(e,t,n,r,i,a,s,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=uu(n)?r:new Ul(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=bc(0,t.serverCache.getNode().getImmediateChild(n),r);l=yc(e,l,new Zo(n),u,i,a,s,o)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var d=bc(0,t.serverCache.getNode().getImmediateChild(n),r);l=yc(e,l,new Zo(n),d,i,a,s,o)}})),l}var xc,wc=function(){function e(t,n){ce(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new sl(i.getIndex()),s=(r=i).loadsAllData()?new sl(r.getIndex()):r.hasLimit()?new ul(r):new ol(r);this.processor_=function(e){return{filter:e}}(s);var o=n.serverCache,u=n.eventCache,l=a.updateFullNode(Yu.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Yu.EMPTY_NODE,u.getNode(),null),d=new Dl(l,o.isFullyInitialized(),a.filtersNodes()),h=new Dl(c,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Pl(h,d),this.eventGenerator_=new jl(this.query_)}return he(e,[{key:"query",get:function(){return this.query_}}]),e}();function Nc(e,t){var n=Ml(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!uu(t)&&!n.getImmediateChild(tu(t)).isEmpty())?n.getChild(t):null}function Sc(e){return 0===e.eventRegistrations_.length}function Ec(e,t,n){var r=[];if(n){be(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var o=e.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(o)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ic(e,t,n,r){t.type===_l.MERGE&&null!==t.source.queryId&&(be(Ml(e.viewCache_),"We should always have a full cache before handling merges"),be(Ll(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,o=vc(e.processor_,s,t,n,r);return i=e.processor_,a=o.viewCache,be(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),be(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),be(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Cc(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Cc(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Rl(e,i,"child_removed",t,r,n),Rl(e,i,"child_added",t,r,n),Rl(e,i,"child_moved",a,r,n),Rl(e,i,"child_changed",t,r,n),Rl(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Tc,Dc=he((function e(){ce(this,e),this.views=new Map}));function jc(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return be(null!=a,"SyncTree gave us an op for an invalid query."),Ic(a,t,n,r)}var s,o=[],u=le(e.views.values());try{for(u.s();!(s=u.n()).done;){var l=s.value;o=o.concat(Ic(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return o}function Rc(e,t,n,r,i){var a=t._queryIdentifier,s=e.views.get(a);if(!s){var o=ic(n,i?r:null),u=!1;o?u=!0:r instanceof Yu?(o=ac(n,r),u=!1):(o=Yu.EMPTY_NODE,u=!1);var l=Pl(new Dl(o,u,!1),new Dl(r,i,!1));return new wc(t,l)}return s}function Pc(e,t,n,r,i,a){var s=Rc(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Vu,(function(e,t){r.push(rl(e,t))})),n.isFullyInitialized()&&r.push(nl(n.getNode())),Cc(e,r,n.getNode(),t)}(s,n)}function Ac(e,t,n,r){var i=t._queryIdentifier,a=[],s=[],o=Uc(e);if("default"===i){var l,c=le(e.views.entries());try{for(c.s();!(l=c.n()).done;){var d=u(l.value,2),h=d[0],f=d[1];s=s.concat(Ec(f,n,r)),Sc(f)&&(e.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(s=s.concat(Ec(p,n,r)),Sc(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return o&&!Uc(e)&&a.push(new(be(xc,"Reference.ts has not been loaded"),xc)(t._repo,t._path)),{removed:a,events:s}}function Oc(e){var t,n=[],r=le(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Lc(e,t){var n,r=null,i=le(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Nc(a,t)}}catch(s){i.e(s)}finally{i.f()}return r}function Mc(e,t){if(t._queryParams.loadsAllData())return Vc(e);var n=t._queryIdentifier;return e.views.get(n)}function Fc(e,t){return null!=Mc(e,t)}function Uc(e){return null!=Vc(e)}function Vc(e){var t,n=le(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var zc=1,Hc=he((function e(t){ce(this,e),this.listenProvider_=t,this.syncPointTree_=new Ul(null),this.pendingWriteTree_={visibleWrites:Vl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Bc(e,t,n,r,i){return function(e,t,n,r,i){be(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Zc(e,new Cl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Wc(e,t,n,r){!function(e,t,n,r){be(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Hl(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Ul.fromObject(n);return Zc(e,new Tl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Jl(e.pendingWriteTree_,t),i=Zl(e.pendingWriteTree_,t);if(i){var a=new Ul(null);return null!=r.snap?a=a.set(eu(),!0):bo(r.children,(function(e){a=a.set(new Zo(e),!0)})),Zc(e,new El(r.path,a,n))}return[]}function Yc(e,t,n){return Zc(e,new Cl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gc(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),s=[];if(a&&("default"===t._queryIdentifier||Fc(a,t))){var o=Ac(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=o.removed;s=o.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Uc(t)}));if(l&&!c){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Uc(t))return[Vc(t)];var r=[];return t&&(r=Oc(t)),bo(n,(function(e,t){r=r.concat(t)})),r}))}(d),f=0;f<h.length;++f){var p=h[f],v=p.query,m=nd(e,p);e.listenProvider_.startListening(ud(v),rd(e,v),m.hashFn,m.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(ud(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(id(t));e.listenProvider_.stopListening(ud(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=id(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return s}function Kc(e,t,n,r){var i=ad(e,r);if(null!=i){var a=sd(i),s=a.path,o=a.queryId,u=lu(s,t);return od(e,s,new Cl(Nl(o),u,n))}return[]}function Qc(e,t){var n=e._path,r=null,i=!1;t.syncPointTree_.foreachOnPath(n,(function(e,t){var a=lu(e,n);r=r||Lc(t,a),i=i||Uc(t)}));var a,s=t.syncPointTree_.get(n);(s?(i=i||Uc(s),r=r||Lc(s,eu())):(s=new Dc,t.syncPointTree_=t.syncPointTree_.set(n,s)),null!=r)?a=!0:(a=!1,r=Yu.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((function(e,t){var n=Lc(t,eu());n&&(r=r.updateImmediateChild(e,n))})));var o=Fc(s,e);if(!o&&!e._queryParams.loadsAllData()){var u=id(e);be(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var l=zc++;t.queryToTagMap.set(u,l),t.tagToQueryMap.set(l,u)}return{syncPoint:s,writesCache:Xl(t.pendingWriteTree_,n),serverCache:r,serverCacheComplete:a,foundAncestorDefaultView:i,viewAlreadyExists:o}}function $c(e,t,n){var r=Qc(t,e),i=r.syncPoint,a=r.serverCache,s=r.writesCache,o=r.serverCacheComplete,u=r.viewAlreadyExists,l=r.foundAncestorDefaultView,c=Pc(i,t,n,s,a,o);if(!u&&!l){var d=Mc(i,t);c=c.concat(function(e,t,n){var r=t._path,i=rd(e,t),a=nd(e,n),s=e.listenProvider_.startListening(ud(t),i,a.hashFn,a.onComplete),o=e.syncPointTree_.subtree(r);if(i)be(!Uc(o.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=o.fold((function(e,t,n){if(!uu(e)&&t&&Uc(t))return[Vc(t).query];var r=[];return t&&(r=r.concat(Oc(t).map((function(e){return e.query})))),bo(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(ud(c),rd(e,c))}return s}(e,t,d))}return c}function Xc(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Lc(n,lu(e,t));if(r)return r}));return rc(r,t,i,n,!0)}function Jc(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=lu(e,n);r=r||Lc(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Lc(i,eu()):(i=new Dc,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,s=a?new Dl(r,!0,!1):null;return function(e){return Ll(e.viewCache_)}(Rc(i,t,Xl(e.pendingWriteTree_,t._path),a?s.getNode():Yu.EMPTY_NODE,a))}function Zc(e,t){return ed(t,e.syncPointTree_,null,Xl(e.pendingWriteTree_,eu()))}function ed(e,t,n,r){if(uu(e.path))return td(e,t,n,r);var i=t.get(eu());null==n&&null!=i&&(n=Lc(i,eu()));var a=[],s=tu(e.path),o=e.operationForChild(s),u=t.children.get(s);if(u&&o){var l=n?n.getImmediateChild(s):null,c=cc(r,s);a=a.concat(ed(o,u,l,c))}return i&&(a=a.concat(jc(i,e,r,n))),a}function td(e,t,n,r){var i=t.get(eu());null==n&&null!=i&&(n=Lc(i,eu()));var a=[];return t.children.inorderTraversal((function(t,i){var s=n?n.getImmediateChild(t):null,o=cc(r,t),u=e.operationForChild(t);u&&(a=a.concat(td(u,i,s,o)))})),i&&(a=a.concat(jc(i,e,r,n))),a}function nd(e,t){var n=t.query,r=rd(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Yu.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ad(e,n);if(r){var i=sd(r),a=i.path,s=i.queryId,o=lu(a,t);return od(e,a,new Il(Nl(s),o))}return[]}(e,n._path,r):function(e,t){return Zc(e,new Il({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Gc(e,n,null,i)}}}function rd(e,t){var n=id(t);return e.queryToTagMap.get(n)}function id(e){return e._path.toString()+"$"+e._queryIdentifier}function ad(e,t){return e.tagToQueryMap.get(t)}function sd(e){var t=e.indexOf("$");return be(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Zo(e.substr(0,t))}}function od(e,t,n){var r=e.syncPointTree_.get(t);return be(r,"Missing sync point for query tag that we're tracking"),jc(r,n,Xl(e.pendingWriteTree_,t),null)}function ud(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(be(Tc,"Reference.ts has not been loaded"),Tc)(e._repo,e._path):e}var ld=function(){function e(t){ce(this,e),this.node_=t}return he(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),cd=function(){function e(t,n){ce(this,e),this.syncTree_=t,this.path_=n}return he(e,[{key:"getImmediateChild",value:function(t){var n=ou(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Xc(this.syncTree_,this.path_)}}]),e}(),dd=function(e,t,n){return e&&"object"===typeof e?(be(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?hd(e[".sv"],t,n):"object"===typeof e[".sv"]?fd(e[".sv"],t):void be(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},hd=function(e,t,n){if("timestamp"===e)return n.timestamp;be(!1,"Unexpected server value: "+e)},fd=function(e,t,n){e.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&be(!1,"Unexpected increment value: "+r);var i=t.node();if(be(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},pd=function(e,t,n,r){return md(t,new cd(n,e),r)},vd=function(e,t,n){return md(e,new ld(t),n)};function md(e,t,n){var r,i=e.getPriority().val(),a=dd(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,o=dd(s.getValue(),t,n);return o!==s.getValue()||a!==s.getPriority().val()?new Lu(o,Ku(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Lu(a))),u.forEachChild(Vu,(function(e,i){var a=md(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var yd=he((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};ce(this,e),this.name=t,this.parent=n,this.node=r}));function gd(e,t){for(var n=t instanceof Zo?t:new Zo(t),r=e,i=tu(n);null!==i;){var a=We(r.node.children,i)||{children:{},childCount:0};r=new yd(i,r,a),i=tu(n=ru(n))}return r}function kd(e){return e.node.value}function bd(e,t){e.node.value=t,Sd(e)}function _d(e){return e.node.childCount>0}function xd(e,t){bo(e.node.children,(function(n,r){t(new yd(n,e,r))}))}function wd(e,t,n,r){n&&!r&&t(e),xd(e,(function(e){wd(e,t,!0,r)})),n&&r&&t(e)}function Nd(e){return new Zo(null===e.parent?e.name:Nd(e.parent)+"/"+e.name)}function Sd(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===kd(e)&&!_d(e)}(n),i=Be(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Sd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Sd(e))}(e.parent,e.name,e)}var Ed=/[\[\].#$\/\u0000-\u001F\u007F]/,Id=/[\[\].#$\u0000-\u001F\u007F]/,Cd=10485760,Td=function(e){return"string"===typeof e&&0!==e.length&&!Ed.test(e)},Dd=function(e){return"string"===typeof e&&0!==e.length&&!Id.test(e)},jd=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!ho(e)||e&&"object"===typeof e&&Be(e,".sv")},Rd=function(e,t,n,r){r&&void 0===t||Pd(rt(e,"value"),t,n)},Pd=function e(t,n,r){var i=r instanceof Zo?new fu(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+vu(i));if("function"===typeof n)throw new Error(t+"contains a function "+vu(i)+" with contents = "+n.toString());if(ho(n))throw new Error(t+"contains "+n.toString()+" "+vu(i));if("string"===typeof n&&n.length>Cd/3&&st(n)>Cd)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+vu(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(bo(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Td(n)))throw new Error(t+" contains an invalid key ("+n+") "+vu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=st(t),pu(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=st(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+vu(i)+" in addition to actual children.")}},Ad=function(e,t,n,r){if(!r||void 0!==t){var i=rt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];bo(t,(function(e,t){var r=new Zo(e);if(Pd(i,t,ou(n,r)),".priority"===iu(r)&&!jd(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=au(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Td(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(cu);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&hu(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,a)}},Od=function(e,t,n){if(!n||void 0!==t){if(ho(t))throw new Error(rt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!jd(t))throw new Error(rt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ld=function(e,t,n,r){if((!r||void 0!==n)&&!Td(n))throw new Error(rt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Md=function(e,t,n,r){if((!r||void 0!==n)&&!Dd(n))throw new Error(rt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fd=function(e,t){if(".info"===tu(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ud=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Td(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dd(e)}(n))throw new Error(rt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Vd=he((function e(){ce(this,e),this.eventLists_=[],this.recursionDepth_=0}));function zd(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||du(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Hd(e,t,n){zd(e,n),Wd(e,(function(e){return du(e,t)}))}function Bd(e,t,n){zd(e,n),Wd(e,(function(e){return hu(e,t)||hu(t,e)}))}function Wd(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(qd(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function qd(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ro&&so("event: "+n.toString()),Eo(r)}}}var Yd="repo_interrupt",Gd=function(){function e(t,n,r,i){ce(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yl(),this.transactionQueueTree_=new yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return he(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Kd(e,t,n){if(e.stats_=Vo(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vl(e.repoInfo_,(function(t,n,r,i){Xd(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Jd(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new gu(e.repoInfo_,t,(function(t,n,r,i){Xd(e,t,n,r,i)}),(function(t){Jd(e,t)}),(function(t){!function(e,t){bo(t,(function(t,n){Zd(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Uo[n]||(Uo[n]=t()),Uo[n]}(e.repoInfo_,(function(){return new wl(e.stats_,e.server_)})),e.infoData_=new ml,e.infoSyncTree_=new Hc({startListening:function(t,n,r,i){var a=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(a=Yc(e.infoSyncTree_,t._path,s),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Zd(e,"connected",!1),e.serverSyncTree_=new Hc({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Bd(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Qd(e){var t=e.infoData_.getNode(new Zo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function $d(e){return(t=(t={timestamp:Qd(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Xd(e,t,n,r,i){e.dataUpdateCount++;var a=new Zo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var o=Ye(n,(function(e){return Ku(e)}));s=function(e,t,n,r){var i=ad(e,r);if(i){var a=sd(i),s=a.path,o=a.queryId,u=lu(s,t),l=Ul.fromObject(n);return od(e,s,new Tl(Nl(o),u,l))}return[]}(e.serverSyncTree_,a,o,i)}else{var u=Ku(n);s=Kc(e.serverSyncTree_,a,u,i)}else if(r){var l=Ye(n,(function(e){return Ku(e)}));s=function(e,t,n){var r=Ul.fromObject(n);return Zc(e,new Tl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Ku(n);s=Yc(e.serverSyncTree_,a,c)}var d=a;s.length>0&&(d=hh(e,a)),Bd(e.eventQueue_,d,s)}function Jd(e,t){Zd(e,"connected",t),!1===t&&function(e){oh(e,"onDisconnectEvents");var t=$d(e),n=yl();bl(e.onDisconnect_,eu(),(function(r,i){var a=pd(r,i,e.serverSyncTree_,t);gl(n,r,a)}));var r=[];bl(n,eu(),(function(t,n){r=r.concat(Yc(e.serverSyncTree_,t,n));var i=yh(e,t);hh(e,i)})),e.onDisconnect_=yl(),Bd(e.eventQueue_,eu(),r)}(e)}function Zd(e,t,n){var r=new Zo("/.info/"+t),i=Ku(n);e.infoData_.updateSnapshot(r,i);var a=Yc(e.infoSyncTree_,r,i);Bd(e.eventQueue_,r,a)}function eh(e){return e.nextWriteId_++}function th(e,t){var n=Jc(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Ku(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())Yc(e.serverSyncTree_,t._path,r);else{var i=function(e,t){var n=Qc(t,e),r=n.syncPoint,i=n.serverCache,a=Rc(r,t,n.writesCache,i,n.serverCacheComplete);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,a),t._queryParams.loadsAllData()?null:rd(e,t)}(e.serverSyncTree_,t);Kc(e.serverSyncTree_,t._path,r,i)}return Gc(e.serverSyncTree_,t,null).length>0&&oh(e,"unexpected cancel events in repoGetValue"),r}),(function(n){return oh(e,"get for query "+ze(t)+" failed: "+n),Promise.reject(new Error(n))}))}function nh(e,t,n,r,i){oh(e,"set",{path:t.toString(),value:n,priority:r});var a=$d(e),s=Ku(n,r),o=Xc(e.serverSyncTree_,t),u=vd(s,o,a),l=eh(e),c=Bc(e.serverSyncTree_,t,u,l,!0);zd(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(function(n,r){var a="ok"===n;a||co("set at "+t+" failed: "+n);var s=qc(e.serverSyncTree_,l,!a);Bd(e.eventQueue_,t,s),uh(e,i,n,r)}));var d=yh(e,t);hh(e,d),Bd(e.eventQueue_,d,[])}function rh(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&kl(e.onDisconnect_,t),uh(e,n,r,i)}))}function ih(e,t,n,r){var i=Ku(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&gl(e.onDisconnect_,t,i),uh(e,r,n,a)}))}function ah(e,t,n){var r;r=".info"===tu(t._path)?Gc(e.infoSyncTree_,t,n):Gc(e.serverSyncTree_,t,n),Hd(e.eventQueue_,t._path,r)}function sh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Yd)}function oh(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];so.apply(void 0,[t].concat(r))}function uh(e,t,n,r){t&&Eo((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function lh(e,t,n){return Xc(e.serverSyncTree_,t,n)||Yu.EMPTY_NODE}function ch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||mh(e,t),kd(t)){var n=ph(e,t);be(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&dh(e,Nd(t),n)}else _d(t)&&xd(t,(function(t){ch(e,t)}))}function dh(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=lh(e,t,r),a=i,s=i.hash(),o=0;o<n.length;o++){var u=n[o];be(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=lu(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){oh(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],s=function(t){n[t].status=2,i=i.concat(qc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},o=0;o<n.length;o++)s(o);mh(e,gd(e.transactionQueueTree_,t)),ch(e,e.transactionQueueTree_),Bd(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Eo(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{co("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}hh(e,t)}}),s)}function hh(e,t){var n=fh(e,t),r=Nd(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),s=a.map((function(e){return e.currentWriteId})),o=function(a){var o,u=t[a],l=lu(n,u.path),c=!1,d=void 0;if(be(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,d=u.abortReason,i=i.concat(qc(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,d="maxretry",i=i.concat(qc(e.serverSyncTree_,u.currentWriteId,!0));else{var h=lh(e,u.path,s);u.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){Pd("transaction failed: Data returned ",f,u.path);var p=Ku(f);"object"===typeof f&&null!=f&&Be(f,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=$d(e),y=vd(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=eh(e),s.splice(s.indexOf(v),1),i=(i=i.concat(Bc(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(qc(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(qc(e.serverSyncTree_,u.currentWriteId,!0))}Bd(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,o=t[a].unwatcher,setTimeout(o,Math.floor(0)),t[a].onComplete&&("nodata"===d?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(d),!1,null)}))))},u=0;u<t.length;u++)o(u);mh(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Eo(r[l]);ch(e,e.transactionQueueTree_)}(e,ph(e,n),r),r}function fh(e,t){var n,r=e.transactionQueueTree_;for(n=tu(t);null!==n&&void 0===kd(r);)r=gd(r,n),n=tu(t=ru(t));return r}function ph(e,t){var n=[];return vh(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function vh(e,t,n){var r=kd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);xd(t,(function(t){vh(e,t,n)}))}function mh(e,t){var n=kd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,bd(t,n.length>0?n:void 0)}xd(t,(function(t){mh(e,t)}))}function yh(e,t){var n=Nd(fh(e,t)),r=gd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){gh(e,t)})),gh(e,r),wd(r,(function(t){gh(e,t)})),n}function gh(e,t){var n=kd(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(be(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(be(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(qc(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?bd(t,void 0):n.length=a+1,Bd(e.eventQueue_,Nd(t),i);for(var o=0;o<r.length;o++)Eo(r[o])}}var kh=function(e,t){var n=bh(e),r=n.namespace;"firebase.com"===n.domain&&lo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Oo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Zo(n.pathString)}},bh=function(e){var t="",n="",r="",i="",a="",s=!0,o="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(o=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=le(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):co("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(s){r.e(s)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===o||"wss"===o,u=parseInt(t.substring(l+1),10)):l=t.length;var f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:o,pathString:i,namespace:a}},_h=function(){function e(t,n,r,i){ce(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return he(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}]),e}(),xh=function(){function e(t,n,r){ce(this,e),this.eventRegistration=t,this.error=n,this.path=r}return he(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),wh=function(){function e(t,n){ce(this,e),this.snapshotCallback=t,this.cancelCallback=n}return he(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return be(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Nh=function(){function e(t,n){ce(this,e),this._repo=t,this._path=n}return he(e,[{key:"cancel",value:function(){var e=new Ce;return rh(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Fd("OnDisconnect.remove",this._path);var e=new Ce;return ih(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Fd("OnDisconnect.set",this._path),Rd("OnDisconnect.set",e,this._path,!1);var t=new Ce;return ih(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Fd("OnDisconnect.setWithPriority",this._path),Rd("OnDisconnect.setWithPriority",e,this._path,!1),Od("OnDisconnect.setWithPriority",t,!1);var n=new Ce;return function(e,t,n,r,i){var a=Ku(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&gl(e.onDisconnect_,t,a),uh(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Fd("OnDisconnect.update",this._path),Ad("OnDisconnect.update",e,this._path,!1);var t=new Ce;return function(e,t,n,r){if(qe(n))return so("onDisconnect().update() called with empty data.  Don't do anything."),void uh(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&bo(n,(function(n,r){var i=Ku(r);gl(e.onDisconnect_,ou(t,n),i)})),uh(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Sh=function(){function e(t,n,r,i){ce(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return he(e,[{key:"key",get:function(){return uu(this._path)?null:iu(this._path)}},{key:"ref",get:function(){return new Th(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=pl(this._queryParams),t=go(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return pl(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ot(t))instanceof e))return!1;var n=this._repo===t._repo,r=du(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Eh(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ih(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===wu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==fo)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==po)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Vu){if(null!=t&&!jd(t)||null!=n&&!jd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(be(e.getIndex()instanceof Qu||e.getIndex()===Xu,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ch(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Th=function(e){ae(n,e);var t=ue(n);function n(e,r){return ce(this,n),t.call(this,e,r,new ll,!1)}return he(n,[{key:"parent",get:function(){var e=su(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Sh),Dh=function(){function e(t,n,r){ce(this,e),this._node=t,this.ref=n,this._index=r}return he(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Zo(t),r=Ph(this.ref,t);return new e(this._node.getChild(n),r,Vu)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ph(n.ref,r),Vu))}))}},{key:"hasChild",value:function(e){var t=new Zo(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function jh(e,t){return(e=ot(e))._checkNotDeleted("ref"),void 0!==t?Ph(e._root,t):e._root}function Rh(e,t){(e=ot(e))._checkNotDeleted("refFromURL");var n=kh(t,e._repo.repoInfo_.nodeAdmin);Ud("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||lo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),jh(e,n.path.toString())}function Ph(e,t){var n,r,i,a;return null===tu((e=ot(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Md(n,r,i,a)):Md("child","path",t,!1),new Th(e._repo,ou(e._path,t))}function Ah(e,t){e=ot(e),Fd("push",e._path),Rd("push",t,e._path,!0);var n,r=Qd(e._repo),i=Zu(r),a=Ph(e,i),s=Ph(e,i);return n=null!=t?Lh(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Oh(e){return Fd("remove",e._path),Lh(e,null)}function Lh(e,t){e=ot(e),Fd("set",e._path),Rd("set",t,e._path,!1);var n=new Ce;return nh(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Mh(e,t){e=ot(e),Fd("setPriority",e._path),Od("setPriority",t,!1);var n=new Ce;return nh(e._repo,ou(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Fh(e,t,n){if(Fd("setWithPriority",e._path),Rd("setWithPriority",t,e._path,!1),Od("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Ce;return nh(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Uh(e,t){Ad("update",t,e._path,!1);var n=new Ce;return function(e,t,n,r){oh(e,"update",{path:t.toString(),value:n});var i=!0,a=$d(e),s={};if(bo(n,(function(n,r){i=!1,s[n]=pd(ou(t,n),Ku(r),e.serverSyncTree_,a)})),i)so("update() called with empty data.  Don't do anything."),uh(0,r,"ok",void 0);else{var o=eh(e),u=Wc(e.serverSyncTree_,t,s,o);zd(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||co("update at "+t+" failed: "+n);var s=qc(e.serverSyncTree_,o,!a),u=s.length>0?hh(e,t):t;Bd(e.eventQueue_,u,s),uh(0,r,n,i)})),bo(n,(function(n){var r=yh(e,ou(t,n));hh(e,r)})),Bd(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Vh=function(){function e(t){ce(this,e),this.callbackContext=t}return he(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new _h("value",this,new Dh(e.snapshotNode,new Th(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new xh(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),zh=function(){function e(t,n){ce(this,e),this.eventType=t,this.callbackContext=n}return he(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new xh(this,e,t):null}},{key:"createEvent",value:function(e,t){be(null!=e.childName,"Child events should have a childName.");var n=Ph(new Th(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _h(e.type,this,new Dh(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Hh(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var s=n,o=function(t,n){ah(e._repo,e,l),s(t,n)};o.userCallback=n.userCallback,o.context=n.context,n=o}var u=new wh(n,a||void 0),l="value"===t?new Vh(u):new zh(t,u);return function(e,t,n){var r;r=".info"===tu(t._path)?$c(e.infoSyncTree_,t,n):$c(e.serverSyncTree_,t,n),Hd(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return ah(e._repo,e,l)}}function Bh(e,t,n,r){return Hh(e,"value",t,n,r)}function Wh(e,t,n,r){return Hh(e,"child_added",t,n,r)}function qh(e,t,n,r){return Hh(e,"child_changed",t,n,r)}function Yh(e,t,n,r){return Hh(e,"child_moved",t,n,r)}function Gh(e,t,n,r){return Hh(e,"child_removed",t,n,r)}function Kh(e,t,n){var r=null,i=n?new wh(n):null;"value"===t?r=new Vh(i):t&&(r=new zh(t,i)),ah(e._repo,e,r)}var Qh=he((function e(){ce(this,e)})),$h=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this))._value=e,i._key=r,i}return he(n,[{key:"_apply",value:function(e){Rd("endAt",this._value,e._path,!0);var t=dl(e._queryParams,this._value,this._key);if(Ch(t),Ih(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sh(e._repo,e._path,t,e._orderByCalled)}}]),n}(Qh);function Xh(e,t){return Ld("endAt","key",t,!0),new $h(e,t)}var Jh=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this))._value=e,i._key=r,i}return he(n,[{key:"_apply",value:function(e){Rd("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===wu?("string"===typeof t&&(t=tl(t)),r=dl(e,t,n)):r=dl(e,t,null==n?fo:tl(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ch(t),Ih(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sh(e._repo,e._path,t,e._orderByCalled)}}]),n}(Qh);function Zh(e,t){return Ld("endBefore","key",t,!0),new Jh(e,t)}var ef=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this))._value=e,i._key=r,i}return he(n,[{key:"_apply",value:function(e){Rd("startAt",this._value,e._path,!0);var t=cl(e._queryParams,this._value,this._key);if(Ch(t),Ih(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Sh(e._repo,e._path,t,e._orderByCalled)}}]),n}(Qh);function tf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Ld("startAt","key",t,!0),new ef(e,t)}var nf=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this))._value=e,i._key=r,i}return he(n,[{key:"_apply",value:function(e){Rd("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===wu?("string"===typeof t&&(t=el(t)),r=cl(e,t,n)):r=cl(e,t,null==n?po:el(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ch(t),Ih(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Sh(e._repo,e._path,t,e._orderByCalled)}}]),n}(Qh);function rf(e,t){return Ld("startAfter","key",t,!0),new nf(e,t)}var af=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this))._limit=e,r}return he(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sh(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Qh);function sf(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new af(e)}var of=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this))._limit=e,r}return he(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sh(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Qh);function uf(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new of(e)}var lf=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this))._path=e,r}return he(n,[{key:"_apply",value:function(e){Eh(e,"orderByChild");var t=new Zo(this._path);if(uu(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Qu(t),r=hl(e._queryParams,n);return Ih(r),new Sh(e._repo,e._path,r,!0)}}]),n}(Qh);function cf(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Md("orderByChild","path",e,!1),new lf(e)}var df=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"_apply",value:function(e){Eh(e,"orderByKey");var t=hl(e._queryParams,wu);return Ih(t),new Sh(e._repo,e._path,t,!0)}}]),n}(Qh);function hf(){return new df}var ff=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"_apply",value:function(e){Eh(e,"orderByPriority");var t=hl(e._queryParams,Vu);return Ih(t),new Sh(e._repo,e._path,t,!0)}}]),n}(Qh);function pf(){return new ff}var vf=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"_apply",value:function(e){Eh(e,"orderByValue");var t=hl(e._queryParams,Xu);return Ih(t),new Sh(e._repo,e._path,t,!0)}}]),n}(Qh);function mf(){return new vf}var yf=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this))._value=e,i._key=r,i}return he(n,[{key:"_apply",value:function(e){if(Rd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $h(this._value,this._key)._apply(new ef(this._value,this._key)._apply(e))}}]),n}(Qh);function gf(e,t){return Ld("equalTo","key",t,!0),new yf(e,t)}function kf(e){for(var t=ot(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,s=r;a<s.length;a++){var o=s[a];t=o._apply(t)}return t}!function(e){be(!xc,"__referenceConstructor has already been defined"),xc=e}(Th),function(e){be(!Tc,"__referenceConstructor has already been defined"),Tc=e}(Th);var bf={},_f=!1;function xf(e,t,n,r){e.repoInfo_=new Oo("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function wf(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),so("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var s,o=kh(a,i),u=o.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(o=kh(a,i)).repoInfo):s=!o.repoInfo.secure;var c=i&&s?new Do(Do.OWNER):new To(e.name,e.options,t);Ud("Invalid Firebase Database URL",o),uu(o.path)||lo("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=bf[t.name];i||(i={},bf[t.name]=i);var a=i[e.toURLString()];a&&lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Gd(e,_f,n,r),i[e.toURLString()]=a,a}(u,e,c,new Co(e.name,n));return new Nf(d,e)}var Nf=function(){function e(t,n){ce(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return he(e,[{key:"_repo",get:function(){return this._instanceStarted||(Kd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Th(this._repo,eu())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=bf[t];n&&n[e.key]===e||lo("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),sh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&lo("Cannot call "+e+" on a deleted database.")}}]),e}();function Sf(){Ko.IS_TRANSPORT_INITIALIZED&&co("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ef(){Sf(),Wo.forceDisallow()}function If(){Sf(),Go.forceDisallow(),Wo.forceAllow()}function Cf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ot(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&lo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Do(Do.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:Te(r.mockUserToken,e.app.options.projectId);a=new Do(s)}xf(i,t,n,a)}function Tf(e){(e=ot(e))._checkNotDeleted("goOffline"),sh(e._repo)}function Df(e){var t;(e=ot(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Yd)}function jf(e,t){ao(e,t)}var Rf={".sv":"timestamp"};var Pf=function(){function e(t,n){ce(this,e),this.committed=t,this.snapshot=n}return he(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function Af(e,t,n){var r;if(e=ot(e),Fd("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Ce,s=Bh(e,(function(){}));return function(e,t,n,r,i,a){oh(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:eo(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=lh(e,t,void 0);s.currentInputSnapshot=o;var u=s.update(o.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Pd("transaction failed: Data returned ",u,s.path),s.status=0;var l,c=gd(e.transactionQueueTree_,t),d=kd(c)||[];d.push(s),bd(c,d),"object"===typeof u&&null!==u&&Be(u,".priority")?(l=We(u,".priority"),be(jd(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(Xc(e.serverSyncTree_,t)||Yu.EMPTY_NODE).getPriority().val();var h=$d(e),f=Ku(u,l),p=vd(f,o,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=eh(e);var v=Bc(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);Bd(e.eventQueue_,t,v),ch(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Dh(r,new Th(e._repo,e._path),Vu),a.resolve(new Pf(n,i)))}),s,i),a.promise}gu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},gu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Gs(an),Xt(new ut("database",(function(e,t){var n=t.instanceIdentifier;return wf(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),dn(Ws,qs,e),dn(Ws,qs,"esm2017")}();var Of=new bt("@firebase/database-compat"),Lf=function(e){var t="FIREBASE WARNING: "+e;Of.warn(t)},Mf=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(rt(e,t)+"must be a boolean.")},Ff=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(rt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Uf=function(){function e(t){ce(this,e),this._delegate=t}return he(e,[{key:"cancel",value:function(e){nt("OnDisconnect.cancel",0,1,arguments.length),it("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){nt("OnDisconnect.remove",0,1,arguments.length),it("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){nt("OnDisconnect.set",1,2,arguments.length),it("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){nt("OnDisconnect.setWithPriority",2,3,arguments.length),it("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(nt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Lf("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),Vf=function(){function e(t,n){ce(this,e),this.committed=t,this.snapshot=n}return he(e,[{key:"toJSON",value:function(){return nt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),zf=function(){function e(t,n){ce(this,e),this._database=t,this._delegate=n}return he(e,[{key:"val",value:function(){return nt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return nt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return nt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return nt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return nt("DataSnapshot.child",0,1,arguments.length),t=String(t),Md("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return nt("DataSnapshot.hasChild",1,1,arguments.length),Md("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return nt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return nt("DataSnapshot.forEach",1,1,arguments.length),it("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return nt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return nt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return nt("DataSnapshot.ref",0,0,arguments.length),new Bf(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),Hf=function(){function e(t,n){ce(this,e),this.database=t,this._delegate=n}return he(e,[{key:"on",value:function(t,n,r,i){var a,s=this;nt("Query.on",2,4,arguments.length),it("Query.on","callback",n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(o.context,new zf(s.database,e),t)};u.userCallback=n,u.context=o.context;var l=null===(a=o.cancel)||void 0===a?void 0:a.bind(o.context);switch(t){case"value":return Bh(this._delegate,u,l),n;case"child_added":return Wh(this._delegate,u,l),n;case"child_removed":return Gh(this._delegate,u,l),n;case"child_changed":return qh(this._delegate,u,l),n;case"child_moved":return Yh(this._delegate,u,l),n;default:throw new Error(rt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(nt("Query.off",0,3,arguments.length),Ff("Query.off",e,!0),it("Query.off","callback",t,!0),at("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Kh(this._delegate,e,r)}else Kh(this._delegate,e)}},{key:"get",value:function(){var e=this;return function(e){return th((e=ot(e))._repo,e).then((function(t){return new Dh(t,new Th(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new zf(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;nt("Query.once",1,4,arguments.length),it("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),o=new Ce,u=function(e,t){var r=new zf(a.database,e);n&&n.call(s.context,r,t),o.resolve(r)};u.userCallback=n,u.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),o.reject(e)};switch(t){case"value":Bh(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Wh(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Gh(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":qh(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Yh(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(rt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}},{key:"limitToFirst",value:function(t){return nt("Query.limitToFirst",1,1,arguments.length),new e(this.database,kf(this._delegate,sf(t)))}},{key:"limitToLast",value:function(t){return nt("Query.limitToLast",1,1,arguments.length),new e(this.database,kf(this._delegate,uf(t)))}},{key:"orderByChild",value:function(t){return nt("Query.orderByChild",1,1,arguments.length),new e(this.database,kf(this._delegate,cf(t)))}},{key:"orderByKey",value:function(){return nt("Query.orderByKey",0,0,arguments.length),new e(this.database,kf(this._delegate,hf()))}},{key:"orderByPriority",value:function(){return nt("Query.orderByPriority",0,0,arguments.length),new e(this.database,kf(this._delegate,pf()))}},{key:"orderByValue",value:function(){return nt("Query.orderByValue",0,0,arguments.length),new e(this.database,kf(this._delegate,mf()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return nt("Query.startAt",0,2,arguments.length),new e(this.database,kf(this._delegate,tf(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return nt("Query.startAfter",0,2,arguments.length),new e(this.database,kf(this._delegate,rf(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return nt("Query.endAt",0,2,arguments.length),new e(this.database,kf(this._delegate,Xh(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return nt("Query.endBefore",0,2,arguments.length),new e(this.database,kf(this._delegate,Zh(t,n)))}},{key:"equalTo",value:function(t,n){return nt("Query.equalTo",1,2,arguments.length),new e(this.database,kf(this._delegate,gf(t,n)))}},{key:"toString",value:function(){return nt("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return nt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(nt("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new Bf(this.database,new Th(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,it(e,"cancel",r.cancel,!0),r.context=n,at(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(rt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),Bf=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,new Sh(r._repo,r._path,new ll,!1))).database=e,i._delegate=r,i}return he(n,[{key:"getKey",value:function(){return nt("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return nt("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Ph(this._delegate,e))}},{key:"getParent",value:function(){nt("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return nt("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){nt("Reference.set",1,2,arguments.length),it("Reference.set","onComplete",t,!0);var n=Lh(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(nt("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Lf("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fd("Reference.update",this._delegate._path),it("Reference.update","onComplete",t,!0);var i=Uh(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){nt("Reference.setWithPriority",2,3,arguments.length),it("Reference.setWithPriority","onComplete",n,!0);var r=Fh(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){nt("Reference.remove",0,1,arguments.length),it("Reference.remove","onComplete",e,!0);var t=Oh(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;nt("Reference.transaction",1,3,arguments.length),it("Reference.transaction","transactionUpdate",e,!1),it("Reference.transaction","onComplete",t,!0),Mf("Reference.transaction","applyLocally",n,!0);var i=Af(this._delegate,e,{applyLocally:n}).then((function(e){return new Vf(e.committed,new zf(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){nt("Reference.setPriority",1,2,arguments.length),it("Reference.setPriority","onComplete",t,!0);var n=Mh(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;nt("Reference.push",0,2,arguments.length),it("Reference.push","onComplete",t,!0);var i=Ah(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var s=new n(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s}},{key:"onDisconnect",value:function(){return Fd("Reference.onDisconnect",this._delegate._path),new Uf(new Nh(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(Hf),Wf=function(){function e(t,n){var r=this;ce(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Ef,forceLongPolling:If}}return he(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Cf(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(nt("database.ref",0,1,arguments.length),e instanceof Bf){var t=Rh(this._delegate,e.toString());return new Bf(this,t)}var n=jh(this._delegate,e);return new Bf(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";nt(t,1,1,arguments.length);var n=Rh(this._delegate,e);return new Bf(this,n)}},{key:"goOffline",value:function(){return nt("database.goOffline",0,0,arguments.length),Tf(this._delegate)}},{key:"goOnline",value:function(){return nt("database.goOnline",0,0,arguments.length),Df(this._delegate)}}]),e}();Wf.ServerValue={TIMESTAMP:Rf,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var qf,Yf=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,o=void 0!==s&&s;Gs(r);var u=new ct("auth-internal",new pt("database-standalone"));return u.setComponent(new ut("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Wf(wf(t,u,void 0,n,o),t),namespace:a}}}),Gf=Wf.ServerValue;(qf=Bs).INTERNAL.registerComponent(new ut("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Wf(i,r)}),"PUBLIC").setServiceProps({Reference:Bf,Query:Hf,Database:Wf,DataSnapshot:zf,enableLogging:jf,INTERNAL:Yf,ServerValue:Gf}).setMultipleInstances(!0)),qf.registerVersion("@firebase/database-compat","0.2.3");var Kf="firebasestorage.googleapis.com",Qf=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,$f(e),"Firebase Storage: ".concat(r," (").concat($f(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(re(i),n.prototype),i}return he(n,[{key:"_codeEquals",value:function(e){return $f(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Le);function $f(e){return"storage/"+e}function Xf(){return new Qf("unknown","An unknown error occurred, please check the error payload for server response.")}function Jf(){return new Qf("canceled","User canceled the upload/download.")}function Zf(e){return new Qf("invalid-argument",e)}function ep(){return new Qf("app-deleted","The Firebase app was deleted.")}var tp,np=function(){function e(t,n){ce(this,e),this.bucket=t,this.path_=n}return he(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Qf("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(n===Kf?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}],l=0;l<u.length;l++){var c=u[l],d=c.regex.exec(t);if(d){var h=d[c.indices.bucket],f=d[c.indices.path];f||(f=""),r=new e(h,f),c.postModify(r);break}}if(null==r)throw function(e){return new Qf("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),rp=function(){function e(t){ce(this,e),this.promise_=Promise.reject(t)}return he(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function ip(e,t,n,r){if(r<t)throw Zf("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zf("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ap(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tp||(tp={}));var sp=function(){function e(t,n,r,i,a,s,o,u,l,c,d){var h=this;ce(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return he(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(s)?r():r(s)}catch(u){i(u)}else if(null!==a){var o=Xf();o.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,o)):i(o)}else{if(n.canceled)i(e.appDelete_?ep():Jf());else i(new Qf("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new op(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,s=!1,o=0;function u(){return 2===o}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((function(){i=null,e(f,u())}),t)}function h(){a&&clearTimeout(a)}function f(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||s)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),d(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),a=setTimeout((function(){s=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new op(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===tp.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var s=-1!==e.successCodes_.indexOf(a);t(!0,new op(s,r))}else{var o=r.getErrorCode()===tp.ABORT;t(!1,new op(!1,null,o))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),op=he((function e(t,n,r){ce(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function up(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var lp=function(){function e(t,n){ce(this,e),this._service=t,this._location=n instanceof np?n:np.makeFromUrl(n,t.host)}return he(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new np(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return up(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new np(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Qf("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function cp(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:np.makeFromBucketSpec(n,e)}var dp=function(){function e(t,n,r,i,a){ce(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Kf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?np.makeFromBucketSpec(i,this._host):cp(this._host,this.app.options)}return he(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=np.makeFromBucketSpec(this._url,e):this._bucket=cp(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ip("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ip("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new lp(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new rp(ep());var a=function(e,t,n,r,i,a){var s=ap(e.urlParams),o=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new sp(o,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Z(X().mark((function e(t,n){var r,i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),hp="@firebase/storage",fp="0.9.9",pp="storage";function vp(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new dp(r,i,a,n,an)}Xt(new ut(pp,vp,"PUBLIC").setMultipleInstances(!0)),dn(hp,fp,""),dn(hp,fp,"esm2017");var mp,yp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gp={},kp=kp||{},bp=yp||self;function _p(){}function xp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Np="closure_uid_"+(1e9*Math.random()>>>0),Sp=0;function Ep(e,t,n){return e.call.apply(e.bind,arguments)}function Ip(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cp(e,t,n){return(Cp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ep:Ip).apply(null,arguments)}function Tp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dp(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jp(){this.s=this.s,this.o=this.o}var Rp={};jp.prototype.s=!1,jp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Np)&&e[Np]||(e[Np]=++Sp)}(this);delete Rp[e]}},jp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ap=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Op(e){return Array.prototype.concat.apply([],arguments)}function Lp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mp(e){return/^[\s\xa0]*$/.test(e)}var Fp,Up=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vp(e,t){return-1!=e.indexOf(t)}function zp(e,t){return e<t?-1:e>t?1:0}e:{var Hp=bp.navigator;if(Hp){var Bp=Hp.userAgent;if(Bp){Fp=Bp;break e}}Fp=""}function Wp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qp(e){var t={};for(var n in e)t[n]=e[n];return t}var Yp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yp.length;a++)n=Yp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kp(e){return Kp[" "](e),e}Kp[" "]=_p;var Qp,$p=Vp(Fp,"Opera"),Xp=Vp(Fp,"Trident")||Vp(Fp,"MSIE"),Jp=Vp(Fp,"Edge"),Zp=Jp||Xp,ev=Vp(Fp,"Gecko")&&!(Vp(Fp.toLowerCase(),"webkit")&&!Vp(Fp,"Edge"))&&!(Vp(Fp,"Trident")||Vp(Fp,"MSIE"))&&!Vp(Fp,"Edge"),tv=Vp(Fp.toLowerCase(),"webkit")&&!Vp(Fp,"Edge");function nv(){var e=bp.document;return e?e.documentMode:void 0}e:{var rv="",iv=function(){var e=Fp;return ev?/rv:([^\);]+)(\)|;)/.exec(e):Jp?/Edge\/([\d\.]+)/.exec(e):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tv?/WebKit\/(\S+)/.exec(e):$p?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(iv&&(rv=iv?iv[1]:""),Xp){var av=nv();if(null!=av&&av>parseFloat(rv)){Qp=String(av);break e}}Qp=rv}var sv,ov={};function uv(){return function(e){var t=ov;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Up(String(Qp)).split("."),n=Up("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",s=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=zp(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||zp(0==a[2].length,0==s[2].length)||zp(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(bp.document&&Xp){var lv=nv();sv=lv||(parseInt(Qp,10)||void 0)}else sv=void 0;var cv=sv,dv=function(){if(!bp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bp.addEventListener("test",_p,t),bp.removeEventListener("test",_p,t)}catch(n){}return e}();function hv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function fv(e,t){if(hv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ev){e:{try{Kp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:pv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fv.Z.h.call(this)}}hv.prototype.h=function(){this.defaultPrevented=!0},Dp(fv,hv);var pv={2:"touch",3:"pen",4:"mouse"};fv.prototype.h=function(){fv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vv="closure_listenable_"+(1e6*Math.random()|0),mv=0;function yv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++mv,this.ca=this.fa=!1}function gv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kv(e){this.src=e,this.g={},this.h=0}function bv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _v(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}kv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=_v(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new yv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var xv="closure_lm_"+(1e6*Math.random()|0),wv={};function Nv(e,t,n,r,i){if(r&&r.once)return Ev(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nv(e,t[a],n,r,i);return null}return n=Pv(n),e&&e[vv]?e.N(t,n,wp(r)?!!r.capture:!!r,i):Sv(e,t,n,!1,r,i)}function Sv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=wp(i)?!!i.capture:!!i,o=jv(e);if(o||(e[xv]=o=new kv(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Dv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dv||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ev(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ev(e,t[a],n,r,i);return null}return n=Pv(n),e&&e[vv]?e.O(t,n,wp(r)?!!r.capture:!!r,i):Sv(e,t,n,!0,r,i)}function Iv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Iv(e,t[a],n,r,i);else r=wp(r)?!!r.capture:!!r,n=Pv(n),e&&e[vv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_v(a=e.g[t],n,r,i))&&(gv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=jv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_v(t,n,r,i)),(n=-1<e?t[e]:null)&&Cv(n))}function Cv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[vv])bv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jv(t))?(bv(n,e),0==n.h&&(n.src=null,t[xv]=null)):gv(e)}}}function Tv(e){return e in wv?wv[e]:wv[e]="on"+e}function Dv(e,t){if(e.ca)e=!0;else{t=new fv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Cv(e),e=n.call(r,t)}return e}function jv(e){return(e=e[xv])instanceof kv?e:null}var Rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pv(e){return"function"===typeof e?e:(e[Rv]||(e[Rv]=function(t){return e.handleEvent(t)}),e[Rv])}function Av(){jp.call(this),this.i=new kv(this),this.P=this,this.I=null}function Ov(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new hv(t,e);else if(t instanceof hv)t.target=t.target||e;else{var i=t;Gp(t=new hv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=Lv(s,r,!0,t)&&i}if(i=Lv(s=t.g=e,r,!0,t)&&i,i=Lv(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Lv(s=t.g=n[a],r,!1,t)&&i}function Lv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.ca&&s.capture==n){var o=s.listener,u=s.ia||s.src;s.fa&&bv(e.i,s),i=!1!==o.call(u,r)&&i}}return i&&!r.defaultPrevented}Dp(Av,jp),Av.prototype[vv]=!0,Av.prototype.removeEventListener=function(e,t,n,r){Iv(this,e,t,n,r)},Av.prototype.M=function(){if(Av.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gv(n[r]);delete t.g[e],t.h--}}this.I=null},Av.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Av.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mv=bp.JSON.stringify;function Fv(){var e=Yv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uv,Vv=function(){function e(){ce(this,e),this.h=this.g=null}return he(e,[{key:"add",value:function(e,t){var n=zv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zv=new(function(){function e(t,n){ce(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return he(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hv}),(function(e){return e.reset()})),Hv=function(){function e(){ce(this,e),this.next=this.g=this.h=null}return he(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Bv(e){bp.setTimeout((function(){throw e}),0)}function Wv(e,t){Uv||function(){var e=bp.Promise.resolve(void 0);Uv=function(){e.then(Gv)}}(),qv||(Uv(),qv=!0),Yv.add(e,t)}var qv=!1,Yv=new Vv;function Gv(){for(var e;e=Fv();){try{e.h.call(e.g)}catch(n){Bv(n)}var t=zv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qv=!1}function Kv(e,t){Av.call(this),this.h=e||1,this.g=t||bp,this.j=Cp(this.kb,this),this.l=Date.now()}function Qv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function $v(e,t,n){if("function"===typeof e)n&&(e=Cp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cp(e.handleEvent,e)}return 2147483647<Number(t)?-1:bp.setTimeout(e,t||0)}function Xv(e){e.g=$v((function(){e.g=null,e.i&&(e.i=!1,Xv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dp(Kv,Av),(mp=Kv.prototype).da=!1,mp.S=null,mp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ov(this,"tick"),this.da&&(Qv(this),this.start()))}},mp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mp.M=function(){Kv.Z.M.call(this),Qv(this),delete this.g};var Jv=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return he(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xv(this)}},{key:"M",value:function(){ne(ee(n.prototype),"M",this).call(this),this.g&&(bp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(jp);function Zv(e){jp.call(this),this.h=e,this.g={}}Dp(Zv,jp);var em=[];function tm(e,t,n,r){Array.isArray(n)||(n&&(em[0]=n.toString()),n=em);for(var i=0;i<n.length;i++){var a=Nv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nm(e){Wp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cv(e)}),e),e.g={}}function rm(){this.g=!0}function im(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return Mv(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Zv.prototype.M=function(){Zv.Z.M.call(this),nm(this)},Zv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Aa=function(){this.g=!1},rm.prototype.info=function(){};var am={},sm=null;function om(){return sm=sm||new Av}function um(e){hv.call(this,am.Ma,e)}function lm(e){var t=om();Ov(t,new um(t,e))}function cm(e,t){hv.call(this,am.STAT_EVENT,e),this.stat=t}function dm(e){var t=om();Ov(t,new cm(t,e))}function hm(e,t){hv.call(this,am.Na,e),this.size=t}function fm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bp.setTimeout((function(){e()}),t)}am.Ma="serverreachability",Dp(um,hv),am.STAT_EVENT="statevent",Dp(cm,hv),am.Na="timingevent",Dp(hm,hv);var pm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mm(){}function ym(e){return e.h||(e.h=e.i())}function gm(){}mm.prototype.h=null;var km,bm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _m(){hv.call(this,"d")}function xm(){hv.call(this,"c")}function wm(){}function Nm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zv(this),this.P=Em,e=Zp?125:void 0,this.W=new Kv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}Dp(_m,hv),Dp(xm,hv),Dp(wm,mm),wm.prototype.g=function(){return new XMLHttpRequest},wm.prototype.i=function(){return{}},km=new wm;var Em=45e3,Im={},Cm={};function Tm(e,t,n){e.K=1,e.v=Jm(Ym(t)),e.s=n,e.U=!0,Dm(e,null)}function Dm(e,t){e.F=Date.now(),Am(e),e.A=Ym(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dy(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sm,e.g=fg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Jv(Cp(e.Ia,e,e.g),e.O)),tm(e.V,e.g,"readystatechange",e.gb),t=e.H?qp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),lm(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),u=0;u<o.length;u++){var l=o[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function jm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Rm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Pm(e,n))==Cm){4==t&&(e.o=4,dm(14),i=!1),im(e.j,e.m,null,"[Incomplete Response]");break}if(r==Im){e.o=4,dm(15),im(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}im(e.j,e.m,r,null),Um(e,r)}jm(e)&&r!=Cm&&r!=Im&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ag(t),t.L=!0,dm(11))):(im(e.j,e.m,n,"[Invalid Chunked Response]"),Fm(e),Mm(e))}function Pm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Cm:(n=Number(t.substring(n,r)),isNaN(n)?Im:(r+=1)+n>t.length?Cm:(t=t.substr(r,n),e.C=r+n,t))}function Am(e){e.Y=Date.now()+e.P,Om(e,e.P)}function Om(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fm(Cp(e.eb,e),t)}function Lm(e){e.B&&(bp.clearTimeout(e.B),e.B=null)}function Mm(e){0==e.l.G||e.I||ug(e.l,e)}function Fm(e){Lm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qv(e.W),nm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Um(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ky(n.i,e)))if(n.I=e.N,!e.J&&ky(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;og(n),$y(n)}ig(n),dm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=fm(Cp(n.ab,n),6e3));if(1>=gy(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else cg(n,11)}else if((e.J||n.g==e)&&og(n),!Mp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var s=a[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var o=a[4];null!=o&&(n.za=o,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;!d.g&&(Vp(c,"spdy")||Vp(c,"quic")||Vp(c,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(by(d,d.h),d.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Xm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=hg(r,r.H?r.la:null,r.W),f.J){_y(r.i,f);var p=f,v=r.K;v&&p.setTimeout(v),p.B&&(Lm(p),Am(p)),r.g=f}else rg(r);0<n.l.length&&Zy(n)}else"stop"!=a[0]&&"close"!=a[0]||cg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?cg(n,7):Qy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}lm(4)}catch(a){}}function Vm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xp(e)||"string"===typeof e)Ap(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(xp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(xp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function zm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Bm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Bm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Bm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(mp=Nm.prototype).setTimeout=function(e){this.P=e},mp.gb=function(e){e=e.target;var t=this.L;t&&3==Wy(e)?t.l():this.Ia(e)},mp.Ia=function(e){try{if(e==this.g)e:{var t=Wy(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Zp||this.g&&(this.h.h||this.g.ga()||qy(this.g)))){this.I||4!=t||7==n||lm(8==n||0>=r?3:2),Lm(this);var i=this.g.ba();this.N=i;t:if(jm(this)){var a=qy(this.g);e="";var s=a.length,o=4==Wy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fm(this),Mm(this);var u="";break t}this.h.i=new bp.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:o&&n==s-1});a.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mp(l)){var d=l;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,dm(12),Fm(this),Mm(this);break e}im(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Um(this,i)}this.U?(Rm(this,t,u),Zp&&this.i&&3==t&&(tm(this.V,this.W,"tick",this.fb),this.W.start())):(im(this.j,this.m,u,null),Um(this,u)),4==t&&Fm(this),this.i&&!this.I&&(4==t?ug(this.l,this):(this.i=!1,Am(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,dm(12)):(this.o=0,dm(13)),Fm(this),Mm(this)}}}catch(t){}},mp.fb=function(){if(this.g){var e=Wy(this.g),t=this.g.ga();this.C<t.length&&(Lm(this),Rm(this,e,t),this.i&&4!=e&&Am(this))}},mp.cancel=function(){this.I=!0,Fm(this)},mp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(lm(3),dm(17)),Fm(this),this.o=2,Mm(this)):Om(this,this.Y-e)},(mp=zm.prototype).R=function(){Hm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},mp.T=function(){return Hm(this),this.g.concat()},mp.get=function(e,t){return Bm(this.h,e)?this.h[e]:t},mp.set=function(e,t){Bm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},mp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Wm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qm){this.g=void 0!==t?t:e.g,Gm(this,e.j),this.s=e.s,Km(this,e.i),Qm(this,e.m),this.l=e.l,t=e.h;var n=new oy;n.i=t.i,t.g&&(n.g=new zm(t.g),n.h=t.h),$m(this,n),this.o=e.o}else e&&(n=String(e).match(Wm))?(this.g=!!t,Gm(this,n[1]||"",!0),this.s=Zm(n[2]||""),Km(this,n[3]||"",!0),Qm(this,n[4]),this.l=Zm(n[5]||"",!0),$m(this,n[6]||"",!0),this.o=Zm(n[7]||"")):(this.g=!!t,this.h=new oy(null,this.g))}function Ym(e){return new qm(e)}function Gm(e,t,n){e.j=n?Zm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Km(e,t,n){e.i=n?Zm(t,!0):t}function Qm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $m(e,t,n){t instanceof oy?(e.h=t,function(e,t){t&&!e.j&&(uy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ly(this,t),dy(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ey(t,ay)),e.h=new oy(t,e.g))}function Xm(e,t,n){e.h.set(t,n)}function Jm(e){return Xm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ey(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ty),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ty(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ey(t,ny,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ey(t,ny,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ey(n,"/"==n.charAt(0)?iy:ry,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ey(n,sy)),e.join("")};var ny=/[#\/\?@]/g,ry=/[#\?:]/g,iy=/[#\?]/g,ay=/[#\?@]/g,sy=/#/g;function oy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function uy(e){e.g||(e.g=new zm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ly(e,t){uy(e),t=hy(e,t),Bm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Bm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hm(e)))}function cy(e,t){return uy(e),t=hy(e,t),Bm(e.g.h,t)}function dy(e,t,n){ly(e,t),0<n.length&&(e.i=null,e.g.set(hy(e,t),Lp(n)),e.h+=n.length)}function hy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(mp=oy.prototype).add=function(e,t){uy(this),this.i=null,e=hy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},mp.forEach=function(e,t){uy(this),this.g.forEach((function(n,r){Ap(n,(function(n){e.call(t,n,r,this)}),this)}),this)},mp.T=function(){uy(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},mp.R=function(e){uy(this);var t=[];if("string"===typeof e)cy(this,e)&&(t=Op(t,this.g.get(hy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Op(t,e[n])}return t},mp.set=function(e,t){return uy(this),this.i=null,cy(this,e=hy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},mp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},mp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var s=i;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}}return this.i=e.join("&")};var fy=he((function e(t,n){ce(this,e),this.h=t,this.g=n}));function py(e){this.l=e||my,bp.PerformanceNavigationTiming?e=0<(e=bp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bp.g&&bp.g.Ea&&bp.g.Ea()&&bp.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vy,my=10;function yy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gy(e){return e.h?1:e.g?e.g.size:0}function ky(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function by(e,t){e.g?e.g.add(t):e.h=t}function _y(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=le(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Lp(e.i)}function wy(){}function Ny(){this.g=new wy}function Sy(e,t,n){var r=n||"";try{Vm(e,(function(e,n){var i=e;wp(e)&&(i=Mv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ey(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Iy(e){this.l=e.$b||null,this.j=e.ib||!1}function Cy(e,t){Av.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ty,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}py.prototype.cancel=function(){if(this.i=xy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=le(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},wy.prototype.stringify=function(e){return bp.JSON.stringify(e,void 0)},wy.prototype.parse=function(e){return bp.JSON.parse(e,void 0)},Dp(Iy,mm),Iy.prototype.g=function(){return new Cy(this.l,this.j)},Iy.prototype.i=(vy={},function(){return vy}),Dp(Cy,Av);var Ty=0;function Dy(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function jy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ry(e)}function Ry(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(mp=Cy.prototype).open=function(e,t){if(this.readyState!=Ty)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ry(this)},mp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||bp).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},mp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jy(this)),this.readyState=Ty},mp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ry(this)),this.g&&(this.readyState=3,Ry(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof bp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dy(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},mp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jy(this):Ry(this),3==this.readyState&&Dy(this)}},mp.Ua=function(e){this.g&&(this.response=this.responseText=e,jy(this))},mp.Ta=function(e){this.g&&(this.response=e,jy(this))},mp.ha=function(){this.g&&jy(this)},mp.setRequestHeader=function(e,t){this.v.append(e,t)},mp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},mp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Py=bp.JSON.parse;function Ay(e){Av.call(this),this.headers=new zm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oy,this.K=this.L=!1}Dp(Ay,Av);var Oy="",Ly=/^https?$/i,My=["POST","PUT"];function Fy(e){return"content-type"==e.toLowerCase()}function Uy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vy(e),Hy(e)}function Vy(e){e.D||(e.D=!0,Ov(e,"complete"),Ov(e,"error"))}function zy(e){if(e.h&&"undefined"!=typeof kp&&(!e.C[1]||4!=Wy(e)||2!=e.ba()))if(e.v&&4==Wy(e))$v(e.Fa,0,e);else if(Ov(e,"readystatechange"),4==Wy(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Wm)[1]||null;if(!a&&bp.self&&bp.self.location){var s=bp.self.location.protocol;a=s.substr(0,s.length-1)}i=!Ly.test(a?a.toLowerCase():"")}t=i}if(t)Ov(e,"complete"),Ov(e,"success");else{e.m=6;try{var o=2<Wy(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.ba()+"]",Vy(e)}}finally{Hy(e)}}}function Hy(e,t){if(e.g){By(e);var n=e.g,r=e.C[0]?_p:null;e.g=null,e.C=null,t||Ov(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function By(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(bp.clearTimeout(e.A),e.A=null)}function Wy(e){return e.g?e.g.readyState:0}function qy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Oy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Wp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xm(e,t,n))}function Gy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ky(e){this.za=0,this.l=[],this.h=new rm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gy("baseRetryDelayMs",5e3,e),this.$a=Gy("retryDelaySeedMs",1e4,e),this.Ya=Gy("forwardChannelMaxRetries",2,e),this.ra=Gy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new py(e&&e.concurrentRequestLimit),this.Ca=new Ny,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qy(e){if(Xy(e),3==e.G){var t=e.V++,n=Ym(e.F);Xm(n,"SID",e.J),Xm(n,"RID",t),Xm(n,"TYPE","terminate"),tg(e,n),(t=new Nm(e,e.h,t,void 0)).K=2,t.v=Jm(Ym(n)),n=!1,bp.navigator&&bp.navigator.sendBeacon&&(n=bp.navigator.sendBeacon(t.v.toString(),"")),!n&&bp.Image&&((new Image).src=t.v,n=!0),n||(t.g=fg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Am(t)}dg(e)}function $y(e){e.g&&(ag(e),e.g.cancel(),e.g=null)}function Xy(e){$y(e),e.u&&(bp.clearTimeout(e.u),e.u=null),og(e),e.i.cancel(),e.m&&("number"===typeof e.m&&bp.clearTimeout(e.m),e.m=null)}function Jy(e,t){e.l.push(new fy(e.Za++,t)),3==e.G&&Zy(e)}function Zy(e){yy(e.i)||e.m||(e.m=!0,Wv(e.Ha,e),e.C=0)}function eg(e,t){var n;n=t?t.m:e.V++;var r=Ym(e.F);Xm(r,"SID",e.J),Xm(r,"RID",n),Xm(r,"AID",e.U),tg(e,r),e.o&&e.s&&Yy(r,e.o,e.s),n=new Nm(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ng(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),by(e.i,n),Tm(n,r,t)}function tg(e,t){e.j&&Vm({},(function(e,n){Xm(t,n,e)}))}function ng(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Cp(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var s=["count="+n];-1==a?0<n?(a=i[0].h,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var o=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),o=!1;else try{Sy(c,s,"req"+l+"_")}catch(zg){r&&r(c)}}if(o){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function rg(e){e.g||e.u||(e.Y=1,Wv(e.Ga,e),e.A=0)}function ig(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=fm(Cp(e.Ga,e),lg(e,e.A)),e.A++,!0)}function ag(e){null!=e.B&&(bp.clearTimeout(e.B),e.B=null)}function sg(e){e.g=new Nm(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ym(e.oa);Xm(t,"RID","rpc"),Xm(t,"SID",e.J),Xm(t,"CI",e.N?"0":"1"),Xm(t,"AID",e.U),tg(e,t),Xm(t,"TYPE","xmlhttp"),e.o&&e.s&&Yy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Jm(Ym(t)),n.s=null,n.U=!0,Dm(n,e)}function og(e){null!=e.v&&(bp.clearTimeout(e.v),e.v=null)}function ug(e,t){var n=null;if(e.g==t){og(e),ag(e),e.g=null;var r=2}else{if(!ky(e.i,t))return;n=t.D,_y(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ov(r=om(),new hm(r,n,t,i)),Zy(e)}else rg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(gy(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=fm(Cp(e.Ha,e,t),lg(e,e.C)),e.C++,!0))}(e,t)||2==r&&ig(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cg(e,5);break;case 4:cg(e,10);break;case 3:cg(e,6);break;default:cg(e,2)}}function lg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function cg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Cp(e.jb,e);n||(n=new qm("//www.google.com/images/cleardot.gif"),bp.location&&"http"==bp.location.protocol||Gm(n,"https"),Jm(n)),function(e,t){var n=new rm;if(bp.Image){var r=new Image;r.onload=Tp(Ey,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tp(Ey,n,r,"TestLoadImage: error",!1,t),r.onabort=Tp(Ey,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tp(Ey,n,r,"TestLoadImage: timeout",!1,t),bp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dm(2);e.G=0,e.j&&e.j.va(t),dg(e),Xy(e)}function dg(e){e.G=0,e.I=-1,e.j&&(0==xy(e.i).length&&0==e.l.length||(e.i.i.length=0,Lp(e.l),e.l.length=0),e.j.ua())}function hg(e,t,n){var r=function(e){return e instanceof qm?Ym(e):new qm(e,void 0)}(n);if(""!=r.i)t&&Km(r,t+"."+r.i),Qm(r,r.m);else{var i=bp.location;r=function(e,t,n,r){var i=new qm(null,void 0);return e&&Gm(i,e),t&&Km(i,t),n&&Qm(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Wp(e.aa,(function(e,t){Xm(r,t,e)})),t=e.D,n=e.sa,t&&n&&Xm(r,t,n),Xm(r,"VER",e.ma),tg(e,r),r}function fg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ay(new Iy({ib:!0})):new Ay(e.qa)).L=e.H,t}function pg(){}function vg(){if(Xp&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}function mg(e,t){Av.call(this),this.g=new Ky(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Mp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kg(this)}function yg(e){_m.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gg(){xm.call(this),this.status=1}function kg(e){this.g=e}(mp=Ay.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?ym(this.u):ym(km),this.g.onreadystatechange=Cp(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Uy(this,a)}e=n||"";var i=new zm(this.headers);r&&Vm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Fy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=bp.FormData&&e instanceof bp.FormData,!(0<=Pp(My,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{By(this),0<this.B&&((this.K=function(e){return Xp&&uv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cp(this.pa,this)):this.A=$v(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Uy(this,a)}},mp.pa=function(){"undefined"!=typeof kp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ov(this,"timeout"),this.abort(8))},mp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ov(this,"complete"),Ov(this,"abort"),Hy(this))},mp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hy(this,!0)),Ay.Z.M.call(this)},mp.Fa=function(){this.s||(this.F||this.v||this.l?zy(this):this.cb())},mp.cb=function(){zy(this)},mp.ba=function(){try{return 2<Wy(this)?this.g.status:-1}catch(vy){return-1}},mp.ga=function(){try{return this.g?this.g.responseText:""}catch(vy){return""}},mp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Py(t)}},mp.Da=function(){return this.m},mp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(mp=Ky.prototype).ma=8,mp.G=1,mp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},mp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Nm(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Gp(n=qp(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ng(this,t,r),Xm(i=Ym(this.F),"RID",e),Xm(i,"CVER",22),this.D&&Xm(i,"X-HTTP-Session-Id",this.D),tg(this,i),this.o&&n&&Yy(i,this.o,n),by(this.i,t),this.Ra&&Xm(i,"TYPE","init"),this.ja?(Xm(i,"$req",r),Xm(i,"SID","null"),t.$=!0,Tm(t,i,null)):Tm(t,i,r),this.G=2}}else 3==this.G&&(e?eg(this,e):0==this.l.length||yy(this.i)||eg(this))},mp.Ga=function(){if(this.u=null,sg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=fm(Cp(this.bb,this),e)}},mp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dm(10),$y(this),sg(this))},mp.ab=function(){null!=this.v&&(this.v=null,$y(this),ig(this),dm(19))},mp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dm(2)):(this.h.info("Failed to ping google.com"),dm(1))},(mp=pg.prototype).xa=function(){},mp.wa=function(){},mp.va=function(){},mp.ua=function(){},mp.Oa=function(){},vg.prototype.g=function(e,t){return new mg(e,t)},Dp(mg,Av),mg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wv(Cp(e.hb,e,t))),dm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=hg(e,null,e.W),Zy(e)},mg.prototype.close=function(){Qy(this.g)},mg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Jy(this.g,t)}else this.v?((t={}).__data__=Mv(e),Jy(this.g,t)):Jy(this.g,e)},mg.prototype.M=function(){this.g.j=null,delete this.j,Qy(this.g),delete this.g,mg.Z.M.call(this)},Dp(yg,_m),Dp(gg,xm),Dp(kg,pg),kg.prototype.xa=function(){Ov(this.g,"a")},kg.prototype.wa=function(e){Ov(this.g,new yg(e))},kg.prototype.va=function(e){Ov(this.g,new gg(e))},kg.prototype.ua=function(){Ov(this.g,"b")},vg.prototype.createWebChannel=vg.prototype.g,mg.prototype.send=mg.prototype.u,mg.prototype.open=mg.prototype.m,mg.prototype.close=mg.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,vm.COMPLETE="complete",gm.EventType=bm,bm.OPEN="a",bm.CLOSE="b",bm.ERROR="c",bm.MESSAGE="d",Av.prototype.listen=Av.prototype.N,Ay.prototype.listenOnce=Ay.prototype.O,Ay.prototype.getLastError=Ay.prototype.La,Ay.prototype.getLastErrorCode=Ay.prototype.Da,Ay.prototype.getStatus=Ay.prototype.ba,Ay.prototype.getResponseJson=Ay.prototype.Qa,Ay.prototype.getResponseText=Ay.prototype.ga,Ay.prototype.send=Ay.prototype.ea;var bg=gp.createWebChannelTransport=function(){return new vg},_g=gp.getStatEventTarget=function(){return om()},xg=gp.ErrorCode=pm,wg=gp.EventType=vm,Ng=gp.Event=am,Sg=gp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eg=gp.FetchXmlHttpFactory=Iy,Ig=gp.WebChannel=gm,Cg=gp.XhrIo=Ay,Tg="@firebase/firestore",Dg=function(){function e(t){ce(this,e),this.uid=t}return he(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Dg.UNAUTHENTICATED=new Dg(null),Dg.GOOGLE_CREDENTIALS=new Dg("google-credentials-uid"),Dg.FIRST_PARTY=new Dg("first-party-uid"),Dg.MOCK_USER=new Dg("mock-user");var jg="9.9.0",Rg=new bt("@firebase/firestore");function Pg(){return Rg.logLevel}function Ag(e){if(Rg.logLevel<=ft.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mg);Rg.debug.apply(Rg,["Firestore (".concat(jg,"): ").concat(e)].concat(fe(i)))}}function Og(e){if(Rg.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mg);Rg.error.apply(Rg,["Firestore (".concat(jg,"): ").concat(e)].concat(fe(i)))}}function Lg(e){if(Rg.logLevel<=ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mg);Rg.warn.apply(Rg,["Firestore (".concat(jg,"): ").concat(e)].concat(fe(i)))}}function Mg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(jg,") INTERNAL ASSERTION FAILED: ")+e;throw Og(t),new Error(t)}function Ug(e,t){e||Fg()}function Vg(e,t){return e}var zg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hg=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return he(n)}(Le),Bg=he((function e(){var t=this;ce(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wg=he((function e(t,n){ce(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qg=function(){function e(){ce(this,e)}return he(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yg=function(){function e(t){ce(this,e),this.t=t,this.currentUser=Dg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return he(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=a;e.enqueueRetryable(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},o=function(e){Ag("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return o(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(Ag("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bg)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ag("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ug("string"==typeof n.accessToken),new Wg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ug(null===e||"string"==typeof e),new Dg(e)}}]),e}(),Gg=he((function e(t,n,r){ce(this,e),this.type="FirstParty",this.user=Dg.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Kg=function(){function e(t,n,r){ce(this,e),this.h=t,this.l=n,this.m=r}return he(e,[{key:"getToken",value:function(){return Promise.resolve(new Gg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qg=he((function e(t){ce(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$g=function(){function e(t){ce(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return he(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ag("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ag("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ag("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ag("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ug("string"==typeof t.token),e.p=t.token,new Qg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Xg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Jg=function(){function e(){ce(this,e)}return he(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Zg(e,t){return e<t?-1:e>t?1:0}function ek(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var tk=function(){function e(t,n){if(ce(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hg(zg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hg(zg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hg(zg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hg(zg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return he(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Zg(this.nanoseconds,e.nanoseconds):Zg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nk=function(){function e(t){ce(this,e),this.timestamp=t}return he(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tk(0,0))}},{key:"max",value:function(){return new e(new tk(253402300799,999999999))}}]),e}(),rk=function(){function e(t,n,r){ce(this,e),void 0===n?n=0:n>t.length&&Fg(),void 0===r?r=t.length-n:r>t.length-n&&Fg(),this.segments=t,this.offset=n,this.len=r}return he(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ik=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,s=r;a<s.length;a++){var o=s[a];if(o.indexOf("//")>=0)throw new Hg(zg.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,fe(o.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rk),ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sk=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ak.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hg(zg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},s=!1;i<e.length;){var o=e[i];if("\\"===o){if(i+1===e.length)throw new Hg(zg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Hg(zg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===o?(s=!s,i++):"."!==o||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Hg(zg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rk),ok=function(){function e(t){ce(this,e),this.path=t}return he(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ik.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ik.fromString(t))}},{key:"fromName",value:function(t){return new e(ik.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ik.emptyPath())}},{key:"comparator",value:function(e,t){return ik.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ik(t.slice()))}}]),e}(),uk=he((function e(t,n,r,i){ce(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));uk.UNKNOWN_ID=-1;function lk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=nk.fromTimestamp(1e9===r?new tk(n+1,0):new tk(n,r));return new dk(i,ok.empty(),t)}function ck(e){return new dk(e.readTime,e.key,-1)}var dk=function(){function e(t,n,r){ce(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return he(e,null,[{key:"min",value:function(){return new e(nk.min(),ok.empty(),-1)}},{key:"max",value:function(){return new e(nk.max(),ok.empty(),-1)}}]),e}();function hk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ok.comparator(e.documentKey,t.documentKey))?n:Zg(e.largestBatchId,t.largestBatchId)}var fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pk=function(){function e(){ce(this,e),this.onCommittedListeners=[]}return he(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function vk(e){return mk.apply(this,arguments)}function mk(){return mk=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===zg.FAILED_PRECONDITION&&t.message===fk){e.next=2;break}throw t;case 2:Ag("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}var yk=function(){function e(t){var n=this;ce(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return he(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Fg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=le(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),s=0,o=function(o){var u=o;n(t[u]).next((function(t){a[u]=t,++s===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)o(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function gk(e){return"IndexedDbTransactionError"===e.name}var kk=function(){function e(t,n){var r=this;ce(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return he(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function bk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}kk.ot=-1;var wk=function(){function e(t,n){ce(this,e),this.comparator=t,this.root=n||Sk.EMPTY}return he(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Nk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Nk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Nk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Nk(this.root,e,this.comparator,!0)}}]),e}(),Nk=function(){function e(t,n,r,i){ce(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return he(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sk=function(){function e(t,n,r,i,a){ce(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return he(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Fg();if(this.right.isRed())throw Fg();var e=this.left.check();if(e!==this.right.check())throw Fg();return e+(this.isRed()?0:1)}}]),e}();Sk.EMPTY=null,Sk.RED=!0,Sk.BLACK=!1,Sk.EMPTY=new(function(){function e(){ce(this,e),this.size=0}return he(e,[{key:"key",get:function(){throw Fg()}},{key:"value",get:function(){throw Fg()}},{key:"color",get:function(){throw Fg()}},{key:"left",get:function(){throw Fg()}},{key:"right",get:function(){throw Fg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ek=function(){function e(t){ce(this,e),this.comparator=t,this.data=new wk(this.comparator)}return he(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ik(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ik(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ik=function(){function e(t){ce(this,e),this.iter=t}return he(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Ck=function(){function e(t){ce(this,e),this.fields=t,t.sort(sk.comparator)}return he(e,[{key:"unionWith",value:function(t){var n,r=new Ek(sk.comparator),i=le(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var s,o=le(t);try{for(o.s();!(s=o.n()).done;){var u=s.value;r=r.add(u)}}catch(l){o.e(l)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=le(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ek(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Tk=function(e){function t(e){ce(this,t),this.binaryString=e}return he(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Zg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Tk.EMPTY_BYTE_STRING=new Tk("");var Dk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jk(e){if(Ug(!!e),"string"==typeof e){var t=0,n=Dk.exec(e);if(Ug(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rk(e.seconds),nanos:Rk(e.nanos)}}function Rk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pk(e){return"string"==typeof e?Tk.fromBase64String(e):Tk.fromUint8Array(e)}function Ak(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ok(e){var t=e.mapValue.fields.__previous_value__;return Ak(t)?Ok(t):t}function Lk(e){var t=jk(e.mapValue.fields.__local_write_time__.timestampValue);return new tk(t.seconds,t.nanos)}var Mk=he((function e(t,n,r,i,a,s,o,u){ce(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=u})),Fk=function(){function e(t,n){ce(this,e),this.projectId=t,this.database=n||"(default)"}return he(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Uk(e){return null==e}function Vk(e){return 0===e&&1/e==-1/0}function zk(e){return"number"==typeof e&&Number.isInteger(e)&&!Vk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ak(e)?4:rb(e)?9007199254740991:10:Fg()}function Wk(e,t){if(e===t)return!0;var n=Bk(e);if(n!==Bk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lk(e).isEqual(Lk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jk(e.timestampValue),r=jk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pk(e.bytesValue).isEqual(Pk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rk(e.geoPointValue.latitude)===Rk(t.geoPointValue.latitude)&&Rk(e.geoPointValue.longitude)===Rk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rk(e.integerValue)===Rk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rk(e.doubleValue),r=Rk(t.doubleValue);return n===r?Vk(n)===Vk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ek(e.arrayValue.values||[],t.arrayValue.values||[],Wk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bk(n)!==bk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wk(n[i],r[i])))return!1;return!0}(e,t);default:return Fg()}}function qk(e,t){return void 0!==(e.values||[]).find((function(e){return Wk(e,t)}))}function Yk(e,t){if(e===t)return 0;var n=Bk(e),r=Bk(t);if(n!==r)return Zg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rk(e.integerValue||e.doubleValue),r=Rk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gk(e.timestampValue,t.timestampValue);case 4:return Gk(Lk(e),Lk(t));case 5:return Zg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pk(e),r=Pk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Zg(n[i],r[i]);if(0!==a)return a}return Zg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zg(Rk(e.latitude),Rk(t.latitude));return 0!==n?n:Zg(Rk(e.longitude),Rk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yk(n[i],r[i]);if(a)return a}return Zg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hk.mapValue&&t===Hk.mapValue)return 0;if(e===Hk.mapValue)return 1;if(t===Hk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var s=0;s<r.length&&s<a.length;++s){var o=Zg(r[s],a[s]);if(0!==o)return o;var u=Yk(n[r[s]],i[a[s]]);if(0!==u)return u}return Zg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Fg()}}function Gk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zg(e,t);var n=jk(e),r=jk(t),i=Zg(n.seconds,r.seconds);return 0!==i?i:Zg(n.nanos,r.nanos)}function Kk(e){return Qk(e)}function Qk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ok.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=le(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Qk(a)}}catch(s){i.e(s)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=le(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Qk(e.fields[a]))}}catch(s){i.e(s)}finally{i.f()}return n+"}"}(e.mapValue):Fg();var t,n}function $k(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xk(e){return!!e&&"integerValue"in e}function Jk(e){return!!e&&"arrayValue"in e}function Zk(e){return!!e&&"nullValue"in e}function eb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tb(e){return!!e&&"mapValue"in e}function nb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _k(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function rb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ib=function(){function e(t){ce(this,e),this.value=t}return he(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nb(t)}},{key:"setAll",value:function(e){var t=this,n=sk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var s=t.getFieldsMap(n);t.applyChanges(s,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=nb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());tb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_k(t,(function(t,n){return e[t]=n}));var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(s){i.e(s)}finally{i.f()}}},{key:"clone",value:function(){return new e(nb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();var ab=function(){function e(t,n,r,i,a,s){ce(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=s}return he(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ib.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ib.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=nk.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nk.min(),nk.min(),ib.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,nk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,nk.min(),ib.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,nk.min(),ib.empty(),2)}}]),e}(),sb=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ce(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ut=null}));function ob(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sb(e,t,n,r,i,a,s)}function ub(e){var t=Vg(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Kk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Uk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Kk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Kk(e)})).join(",")),t.ut=n}return t.ut}function lb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!xb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Wk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nb(e.startAt,t.startAt)&&Nb(e.endAt,t.endAt)}function cb(e){return ok.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var db=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Yk(t,this.value)):null!==t&&Bk(this.value)===Bk(t)&&this.at(Yk(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fg()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new hb(e,t,r):"array-contains"===t?new mb(e,r):"in"===t?new yb(e,r):"not-in"===t?new gb(e,r):"array-contains-any"===t?new kb(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new fb(e,n):new pb(e,n)}}]),n}(function(){return he((function e(){ce(this,e)}))}()),hb=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,i)).key=ok.fromName(i.referenceValue),a}return he(n,[{key:"matches",value:function(e){var t=ok.comparator(e.key,this.key);return this.at(t)}}]),n}(db),fb=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,"in",r)).keys=vb("in",r),i}return he(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(db),pb=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,"not-in",r)).keys=vb("not-in",r),i}return he(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(db);function vb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ok.fromName(e.referenceValue)}))}var mb=function(e){ae(n,e);var t=ue(n);function n(e,r){return ce(this,n),t.call(this,e,"array-contains",r)}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jk(t)&&qk(t.arrayValue,this.value)}}]),n}(db),yb=function(e){ae(n,e);var t=ue(n);function n(e,r){return ce(this,n),t.call(this,e,"in",r)}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&qk(this.value.arrayValue,t)}}]),n}(db),gb=function(e){ae(n,e);var t=ue(n);function n(e,r){return ce(this,n),t.call(this,e,"not-in",r)}return he(n,[{key:"matches",value:function(e){if(qk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qk(this.value.arrayValue,t)}}]),n}(db),kb=function(e){ae(n,e);var t=ue(n);function n(e,r){return ce(this,n),t.call(this,e,"array-contains-any",r)}return he(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return qk(t.value.arrayValue,e)}))}}]),n}(db),bb=he((function e(t,n){ce(this,e),this.position=t,this.inclusive=n})),_b=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ce(this,e),this.field=t,this.dir=n}));function xb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ok.comparator(ok.fromName(s.referenceValue),n.key):Yk(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Nb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wk(e.position[n],t.position[n]))return!1;return!0}var Sb=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ce(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Eb(e,t,n,r,i,a,s,o){return new Sb(e,t,n,r,i,a,s,o)}function Ib(e){return new Sb(e)}function Cb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tb(e){var t,n=le(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Db(e){return null!==e.collectionGroup}function jb(e){var t=Vg(e);if(null===t.lt){t.lt=[];var n=Tb(t),r=Cb(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new _b(n)),t.lt.push(new _b(sk.keyField(),"asc"));else{var i,a=!1,s=le(t.explicitOrderBy);try{for(s.s();!(i=s.n()).done;){var o=i.value;t.lt.push(o),o.field.isKeyField()&&(a=!0)}}catch(l){s.e(l)}finally{s.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new _b(sk.keyField(),u))}}}return t.lt}function Rb(e){var t=Vg(e);if(!t.ft)if("F"===t.limitType)t.ft=ob(t.path,t.collectionGroup,jb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=le(jb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,s="desc"===a.dir?"asc":"desc";r.push(new _b(a.field,s))}}catch(l){i.e(l)}finally{i.f()}var o=t.endAt?new bb(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new bb(t.startAt.position,t.startAt.inclusive):null;t.ft=ob(t.path,t.collectionGroup,r,t.filters,t.limit,o,u)}return t.ft}function Pb(e,t,n){return new Sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ab(e,t){return lb(Rb(e),Rb(t))&&e.limitType===t.limitType}function Ob(e){return"".concat(ub(Rb(e)),"|lt:").concat(e.limitType)}function Lb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Kk(t.value));var t})).join(", "),"]")),Uk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Kk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Kk(e)})).join(",")),"Target(".concat(t,")")}(Rb(e)),"; limitType=").concat(e.limitType,")")}function Mb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ok.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=le(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=le(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jb(e),t))&&!(e.endAt&&!function(e,t,n){var r=wb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jb(e),t))}(e,t)}function Fb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ub(e){return function(t,n){var r,i=!1,a=le(jb(e));try{for(a.s();!(r=a.n()).done;){var s=r.value,o=Vb(s,t,n);if(0!==o)return o;i=i||s.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Vb(e,t,n){var r=e.field.isKeyField()?ok.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yk(r,i):Fg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fg()}}function zb(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vk(t)?"-0":t}}function Hb(e){return{integerValue:""+e}}function Bb(e,t){return zk(t)?Hb(t):zb(e,t)}var Wb=he((function e(){ce(this,e),this._=void 0}));function qb(e,t,n){return e instanceof Kb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qb?$b(e,t):e instanceof Xb?Jb(e,t):function(e,t){var n=Gb(e,t),r=e_(n)+e_(e._t);return Xk(n)&&Xk(e._t)?Hb(r):zb(e.wt,r)}(e,t)}function Yb(e,t,n){return e instanceof Qb?$b(e,t):e instanceof Xb?Jb(e,t):n}function Gb(e,t){return e instanceof Zb?Xk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Kb=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n)}(Wb),Qb=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).elements=e,r}return he(n)}(Wb);function $b(e,t){var n,r=t_(t),i=le(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}var Xb=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).elements=e,r}return he(n)}(Wb);function Jb(e,t){var n,r=t_(t),i=le(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}var Zb=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).wt=e,i._t=r,i}return he(n)}(Wb);function e_(e){return Rk(e.integerValue||e.doubleValue)}function t_(e){return Jk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var n_=function(){function e(t,n){ce(this,e),this.updateTime=t,this.exists=n}return he(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function r_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var i_=he((function e(){ce(this,e)}));function a_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new m_(e.key,n_.none()):new l_(e.key,e.data,n_.none());var n,r=e.data,i=ib.empty(),a=new Ek(sk.comparator),s=le(t.fields);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(!a.has(o)){var u=r.field(o);null===u&&o.length>1&&(o=o.popLast(),u=r.field(o)),null===u?i.delete(o):i.set(o,u),a=a.add(o)}}}catch(l){s.e(l)}finally{s.f()}return new c_(e.key,i,new Ck(a.toArray()),n_.none())}function s_(e,t,n){e instanceof l_?function(e,t,n){var r=e.value.clone(),i=h_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof c_?function(e,t,n){if(r_(e.precondition,t)){var r=h_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(d_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function o_(e,t,n,r){return e instanceof l_?function(e,t,n,r){if(!r_(e.precondition,t))return n;var i=e.value.clone(),a=f_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof c_?function(e,t,n,r){if(!r_(e.precondition,t))return n;var i=f_(e.fieldTransforms,r,t),a=t.data;return a.setAll(d_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return r_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function u_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ek(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qb&&t instanceof Qb||e instanceof Xb&&t instanceof Xb?ek(e.elements,t.elements,Wk):e instanceof Zb&&t instanceof Zb?Wk(e._t,t._t):e instanceof Kb&&t instanceof Kb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var l_=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ce(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return he(n,[{key:"getFieldMask",value:function(){return null}}]),n}(i_),c_=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ce(this,n),(s=t.call(this)).key=e,s.data=r,s.fieldMask=i,s.precondition=a,s.fieldTransforms=o,s.type=1,s}return he(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(i_);function d_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function h_(e,t,n){var r=new Map;Ug(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Yb(s,o,n[i]))}return r}function f_(e,t,n){var r,i=new Map,a=le(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=s.transform,u=n.data.field(s.field);i.set(s.field,qb(o,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var p_,v_,m_=function(e){ae(n,e);var t=ue(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return he(n,[{key:"getFieldMask",value:function(){return null}}]),n}(i_),y_=he((function e(t){ce(this,e),this.count=t}));function g_(e){if(void 0===e)return Og("GRPC error has no .code"),zg.UNKNOWN;switch(e){case p_.OK:return zg.OK;case p_.CANCELLED:return zg.CANCELLED;case p_.UNKNOWN:return zg.UNKNOWN;case p_.DEADLINE_EXCEEDED:return zg.DEADLINE_EXCEEDED;case p_.RESOURCE_EXHAUSTED:return zg.RESOURCE_EXHAUSTED;case p_.INTERNAL:return zg.INTERNAL;case p_.UNAVAILABLE:return zg.UNAVAILABLE;case p_.UNAUTHENTICATED:return zg.UNAUTHENTICATED;case p_.INVALID_ARGUMENT:return zg.INVALID_ARGUMENT;case p_.NOT_FOUND:return zg.NOT_FOUND;case p_.ALREADY_EXISTS:return zg.ALREADY_EXISTS;case p_.PERMISSION_DENIED:return zg.PERMISSION_DENIED;case p_.FAILED_PRECONDITION:return zg.FAILED_PRECONDITION;case p_.ABORTED:return zg.ABORTED;case p_.OUT_OF_RANGE:return zg.OUT_OF_RANGE;case p_.UNIMPLEMENTED:return zg.UNIMPLEMENTED;case p_.DATA_LOSS:return zg.DATA_LOSS;default:return Fg()}}(v_=p_||(p_={}))[v_.OK=0]="OK",v_[v_.CANCELLED=1]="CANCELLED",v_[v_.UNKNOWN=2]="UNKNOWN",v_[v_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",v_[v_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",v_[v_.NOT_FOUND=5]="NOT_FOUND",v_[v_.ALREADY_EXISTS=6]="ALREADY_EXISTS",v_[v_.PERMISSION_DENIED=7]="PERMISSION_DENIED",v_[v_.UNAUTHENTICATED=16]="UNAUTHENTICATED",v_[v_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",v_[v_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",v_[v_.ABORTED=10]="ABORTED",v_[v_.OUT_OF_RANGE=11]="OUT_OF_RANGE",v_[v_.UNIMPLEMENTED=12]="UNIMPLEMENTED",v_[v_.INTERNAL=13]="INTERNAL",v_[v_.UNAVAILABLE=14]="UNAVAILABLE",v_[v_.DATA_LOSS=15]="DATA_LOSS";var k_=function(){function e(t,n){ce(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return he(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),s=a[0],o=a[1];if(this.equalsFn(s,e))return o}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_k(this.inner,(function(t,n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),s=a[0],o=a[1];e(s,o)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return xk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),b_=new wk(ok.comparator);function __(){return b_}var x_=new wk(ok.comparator);function w_(){for(var e=x_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];e=e.insert(s.key,s)}return e}function N_(e){var t=x_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function S_(){return I_()}function E_(){return I_()}function I_(){return new k_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}new wk(ok.comparator);var C_=new Ek(ok.comparator);function T_(){for(var e=C_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];e=e.add(s)}return e}var D_=new Ek(Zg);function j_(){return D_}var R_=function(){function e(t,n,r,i,a){ce(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return he(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,P_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nk.min(),r,j_(),__(),T_())}}]),e}(),P_=function(){function e(t,n,r,i,a){ce(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return he(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Tk.EMPTY_BYTE_STRING,n,T_(),T_(),T_())}}]),e}(),A_=he((function e(t,n,r,i){ce(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),O_=he((function e(t,n){ce(this,e),this.targetId=t,this.It=n})),L_=he((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ce(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),M_=function(){function e(){ce(this,e),this.Tt=0,this.Et=V_(),this.At=Tk.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return he(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=T_(),t=T_(),n=T_();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fg()}})),new P_(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=V_()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),F_=function(){function e(t){ce(this,e),this.Mt=t,this.Ft=new Map,this.$t=__(),this.Bt=U_(),this.Lt=new Ek(Zg)}return he(e,[{key:"Ut",value:function(e){var t,n=le(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(o){n.e(o)}finally{n.f()}var i,a=le(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.Kt(s,e.key,e.yt)}}catch(o){a.e(o)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Fg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(cb(i))if(0===n){var a=new ok(i.path);this.Kt(t,a,ab.newNoDocument(a,nk.min()))}else Ug(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&cb(a.target)){var s=new ok(a.target.path);null!==t.$t.get(s)||t.Xt(i,s)||t.Kt(i,s,ab.newNoDocument(s,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=T_();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new R_(e,n,this.Lt,this.$t,r);return this.$t=__(),this.Bt=U_(),this.Lt=new Ek(Zg),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new M_,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Ek(Zg),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Ag("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new M_),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function U_(){return new wk(ok.comparator)}function V_(){return new wk(ok.comparator)}var z_={asc:"ASCENDING",desc:"DESCENDING"},H_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B_=he((function e(t,n){ce(this,e),this.databaseId=t,this.dt=n}));function W_(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function q_(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Y_(e){return Ug(!!e),nk.fromTimestamp(function(e){var t=jk(e);return new tk(t.seconds,t.nanos)}(e))}function G_(e,t){return function(e){return new ik(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function K_(e){var t=ik.fromString(e);return Ug(cx(t)),t}function Q_(e,t){var n=K_(t);if(n.get(1)!==e.databaseId.projectId)throw new Hg(zg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hg(zg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ok(Z_(n))}function $_(e,t){return G_(e.databaseId,t)}function X_(e){var t=K_(e);return 4===t.length?ik.emptyPath():Z_(t)}function J_(e){return new ik(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Z_(e){return Ug(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ex(e,t){return{documents:[$_(e,t.path)]}}function tx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(eb(e.value))return{unaryFilter:{field:sx(e.field),op:"IS_NAN"}};if(Zk(e.value))return{unaryFilter:{field:sx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eb(e.value))return{unaryFilter:{field:sx(e.field),op:"IS_NOT_NAN"}};if(Zk(e.value))return{unaryFilter:{field:sx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sx(e.field),op:ax(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sx(e.field),direction:ix(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var s,o=function(e,t){return e.dt||Uk(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nx(e){var t=X_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ug(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var s=[];n.where&&(s=rx(n.where));var o=[];n.orderBy&&(o=n.orderBy.map((function(e){return function(e){return new _b(ox(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Uk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new bb(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new bb(n,t)}(n.endAt)),Eb(t,i,o,s,u,"F",l,c)}function rx(e){return e?void 0!==e.unaryFilter?[lx(e)]:void 0!==e.fieldFilter?[ux(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rx(e)})).reduce((function(e,t){return e.concat(t)})):Fg():[]}function ix(e){return z_[e]}function ax(e){return H_[e]}function sx(e){return{fieldPath:e.canonicalString()}}function ox(e){return sk.fromServerFormat(e.fieldPath)}function ux(e){return db.create(ox(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fg()}}(e.fieldFilter.op),e.fieldFilter.value)}function lx(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ox(e.unaryFilter.field);return db.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ox(e.unaryFilter.field);return db.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ox(e.unaryFilter.field);return db.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ox(e.unaryFilter.field);return db.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fg()}}function cx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),hx=([].concat(fe(dx),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),fx=hx;[].concat(fx,["indexConfiguration","indexState","indexEntries"]);var px=function(){function e(t,n,r,i){ce(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return he(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&s_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=le(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=o_(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,s=le(this.mutations);try{for(s.s();!(a=s.n()).done;){var o=a.value;o.key.isEqual(e.key)&&(t=o_(o,e,t,this.localWriteTime))}}catch(u){s.e(u)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=E_();return this.mutations.forEach((function(i){var a=e.get(i.key),s=a.overlayedDocument,o=n.applyToLocalView(s,a.mutatedFields),u=a_(s,o=t.has(i.key)?null:o);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(nk.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),T_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ek(this.mutations,e.mutations,(function(e,t){return u_(e,t)}))&&ek(this.baseMutations,e.baseMutations,(function(e,t){return u_(e,t)}))}}]),e}(),vx=function(){function e(t,n){ce(this,e),this.largestBatchId=t,this.mutation=n}return he(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),mx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nk.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nk.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tk.EMPTY_BYTE_STRING;ce(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return he(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yx=he((function e(t){ce(this,e),this.ne=t}));function gx(e){var t=nx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pb(t,t.limit,"L"):t}var kx=function(){function e(){ce(this,e)}return he(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Rk(e.integerValue));else if("doubleValue"in e){var n=Rk(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Vk(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Pk(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?rb(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Fg()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),ok.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();kx.ye=new kx;var bx=function(){function e(){ce(this,e),this.ze=new _x}return he(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),yk.resolve()}},{key:"getCollectionParents",value:function(e,t){return yk.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return yk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return yk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return yk.resolve(null)}},{key:"getIndexType",value:function(e,t){return yk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return yk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return yk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return yk.resolve(dk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return yk.resolve(dk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return yk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return yk.resolve()}}]),e}(),_x=function(){function e(){ce(this,e),this.index={}}return he(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ek(ik.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ek(ik.comparator)).toArray()}}]),e}();new Uint8Array(0);var xx=function(){function e(t,n,r){ce(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return he(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();xx.DEFAULT_COLLECTION_PERCENTILE=10,xx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xx.DEFAULT=new xx(41943040,xx.DEFAULT_COLLECTION_PERCENTILE,xx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xx.DISABLED=new xx(-1,0,0);var wx=function(){function e(t){ce(this,e),this.En=t}return he(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var Nx=function(){function e(){ce(this,e),this.changes=new k_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return he(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ab.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Sx=he((function e(t,n){ce(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ex=function(){function e(t,n,r,i){ce(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return he(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&o_(r.mutation,e,Ck.empty(),tk.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,T_()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T_(),i=S_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=w_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=S_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,T_())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=__(),a=I_(),s=I_();return t.forEach((function(e,t){var s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof c_)?i=i.insert(t.key,t):void 0!==s&&(a.set(t.key,s.mutation.getFieldMask()),o_(s.mutation,t,s.mutation.getFieldMask(),tk.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return s.set(e,new Sx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=I_(),i=new wk((function(e,t){return e-t})),a=T_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=le(e);try{var s=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var s=r.get(n)||Ck.empty();s=e.applyToLocalView(a,s),r.set(n,s);var o=(i.get(e.batchId)||T_()).add(n);i=i.insert(e.batchId,o)}}))};for(a.s();!(n=a.n()).done;)s()}catch(o){a.e(o)}finally{a.f()}})).next((function(){for(var s=[],o=i.getReverseIterator(),u=function(){var i=o.getNext(),u=i.key,l=i.value,c=E_();l.forEach((function(e){if(!a.has(e)){var n=a_(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),s.push(n.documentOverlayCache.saveOverlays(e,u,c))};o.hasNext();)u();return yk.waitFor(s)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ok.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Db(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var s=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yk.resolve(S_()),o=-1,u=a;return s.next((function(t){return yk.forEach(t,(function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?yk.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,T_())})).next((function(e){return{batchId:o,changes:N_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ok(t)).next((function(e){var t=w_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=w_();return this.indexManager.getCollectionParents(e,i).next((function(s){return yk.forEach(s,(function(s){var o=function(e,t){return new Sb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.getDocumentsMatchingCollectionQuery(e,o,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ab.newInvalidDocument(n)))}));var n=w_();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&o_(a.mutation,i,Ck.empty(),tk.now()),Mb(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):yk.resolve(ab.newInvalidDocument(t))}}]),e}(),Ix=function(){function e(t){ce(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return he(e,[{key:"getBundleMetadata",value:function(e,t){return yk.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Y_(n.createTime)}),yk.resolve()}},{key:"getNamedQuery",value:function(e,t){return yk.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:gx(e.bundledQuery),readTime:Y_(e.readTime)}}(t)),yk.resolve()}}]),e}(),Cx=function(){function e(){ce(this,e),this.overlays=new wk(ok.comparator),this.Xn=new Map}return he(e,[{key:"getOverlay",value:function(e,t){return yk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=S_();return yk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),yk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),yk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=S_(),i=t.length+1,a=new ok(t.child("")),s=this.overlays.getIteratorFrom(a);s.hasNext();){var o=s.getNext().value,u=o.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&o.largestBatchId>n&&r.set(o.getKey(),o)}return yk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var s=a.getNext().value;if(s.getKey().getCollectionGroup()===t&&s.largestBatchId>n){var o=i.get(s.largestBatchId);null===o&&(o=S_(),i=i.insert(s.largestBatchId,o)),o.set(s.getKey(),s)}}for(var u=S_(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return yk.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new vx(t,n));var a=this.Xn.get(t);void 0===a&&(a=T_(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Tx=function(){function e(){ce(this,e),this.Zn=new Ek(Dx.ts),this.es=new Ek(Dx.ns)}return he(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Dx(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Dx(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ok(new ik([])),r=new Dx(n,e),i=new Dx(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ok(new ik([])),n=new Dx(t,e),r=new Dx(t,e+1),i=T_();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Dx(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Dx=function(){function e(t,n){ce(this,e),this.key=t,this.ls=n}return he(e,null,[{key:"ts",value:function(e,t){return ok.comparator(e.key,t.key)||Zg(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Zg(e.ls,t.ls)||ok.comparator(e.key,t.key)}}]),e}(),jx=function(){function e(t,n){ce(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Ek(Dx.ts)}return he(e,[{key:"checkEmpty",value:function(e){return yk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new px(i,t,n,r);this.mutationQueue.push(a);var s,o=le(r);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.ds=this.ds.add(new Dx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){o.e(l)}finally{o.f()}return yk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return yk.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return yk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return yk.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return yk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Dx(t,0),i=new Dx(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),yk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ek(Zg);return t.forEach((function(e){var t=new Dx(e,0),i=new Dx(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),yk.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ok.isDocumentKey(i)||(i=i.child(""));var a=new Dx(new ok(i),0),s=new Ek(Zg);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),a),yk.resolve(this.gs(s))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ug(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return yk.forEach(t.mutations,(function(i){var a=new Dx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Dx(t,0),r=this.ds.firstAfterOrEqual(n);return yk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,yk.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Rx=function(){function e(t){ce(this,e),this.ps=t,this.docs=new wk(ok.comparator),this.size=0}return he(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return yk.resolve(n?n.document.mutableCopy():ab.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=__();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ab.newInvalidDocument(e))})),yk.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=__(),i=new ok(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var s=a.getNext(),o=s.key,u=s.value.document;if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||hk(ck(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return yk.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Fg()}},{key:"Is",value:function(e,t){return yk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Px(this)}},{key:"getSize",value:function(e){return yk.resolve(this.size)}}]),e}(),Px=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).zn=e,r}return he(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),yk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Nx),Ax=function(){function e(t){ce(this,e),this.persistence=t,this.Ts=new k_((function(e){return ub(e)}),lb),this.lastRemoteSnapshotVersion=nk.min(),this.highestTargetId=0,this.Es=0,this.As=new Tx,this.targetCount=0,this.Rs=wx.An()}return he(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),yk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return yk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return yk.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),yk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),yk.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new wx(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,yk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),yk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,yk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(s,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Ts.delete(s),a.push(r.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),yk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return yk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return yk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),yk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),yk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),yk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return yk.resolve(n)}},{key:"containsKey",value:function(e,t){return yk.resolve(this.As.containsKey(t))}}]),e}(),Ox=function(){function e(t,n){var r=this;ce(this,e),this.bs={},this.overlays={},this.Ps=new kk(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Ax(this),this.indexManager=new bx,this.remoteDocumentCache=new Rx((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new yx(n),this.Ds=new Ix(this.wt)}return he(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Cx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new jx(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ag("MemoryPersistence","Starting transaction:",e);var i=new Lx(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return yk.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Lx=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return he(n)}(pk),Mx=function(){function e(t){ce(this,e),this.persistence=t,this.ks=new Tx,this.Os=null}return he(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Fg()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),yk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),yk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),yk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yk.forEach(this.Fs,(function(r){var i=ok.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,nk.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return yk.or([function(){return yk.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}();var Fx=function(){function e(t,n,r,i){ce(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return he(e,null,[{key:"Vi",value:function(t,n){var r,i=T_(),a=T_(),s=le(n.docChanges);try{for(s.s();!(r=s.n()).done;){var o=r.value;switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}}}catch(u){s.e(u)}finally{s.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ux=function(){function e(){ce(this,e),this.Si=!1}return he(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return yk.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(nk.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var s=i.ki(t,a);return i.Oi(t,s,n,r)?i.Ni(e,t):(Pg()<=ft.DEBUG&&Ag("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lb(t)),i.Mi(e,s,t,lk(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Ek(Ub(e));return t.forEach((function(t,r){Mb(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Pg()<=ft.DEBUG&&Ag("QueryEngine","Using full collection scan to execute query:",Lb(t)),this.Di.getDocumentsMatchingQuery(e,t,dk.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Vx=function(){function e(t,n,r,i){ce(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new wk(Zg),this.Bi=new k_((function(e){return ub(e)}),lb),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return he(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ex(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function zx(e,t,n,r){return new Vx(e,t,n,r)}function Hx(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],s=[],o=T_(),u=le(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,d=le(l.mutations);try{for(d.s();!(c=d.n()).done;){var h=c.value;o=o.add(h.key)}}catch(k){d.e(k)}finally{d.f()}}}catch(k){u.e(k)}finally{u.f()}var f,p=le(n);try{for(p.s();!(f=p.n()).done;){var v=f.value;s.push(v.batchId);var m,y=le(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;o=o.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:s}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function Wx(e){var t=Vg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function qx(e,t){var n=Vg(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var s=[];t.targetChanges.forEach((function(a,o){var u=i.get(o);if(u){s.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,o).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,o)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?l=l.withResumeToken(Tk.EMPTY_BYTE_STRING,nk.min()).withLastLimboFreeSnapshotVersion(nk.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&s.push(n.Vs.updateTargetData(e,l))}}));var o=__(),u=T_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Yx(e,a,t.documentUpdates).next((function(e){o=e.Gi,u=e.Qi}))),!r.isEqual(nk.min())){var l=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));s.push(l)}return yk.waitFor(s).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,o,u)})).next((function(){return o}))})).then((function(e){return n.$i=i,e}))}function Yx(e,t,n){var r=T_(),i=T_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=__();return n.forEach((function(n,a){var s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(nk.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ag("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Gx(e,t){var n=Vg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,yk.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new mx(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Kx(e,t,n){return Qx.apply(this,arguments)}function Qx(){return Qx=Z(X().mark((function e(t,n,r){var i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vg(t),a=i.$i.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",s,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gk(e.t1)){e.next=12;break}throw e.t1;case 12:Ag("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Qx.apply(this,arguments)}function $x(e,t,n){var r=Vg(e),i=nk.min(),a=T_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vg(e),i=r.Bi.get(n);return void 0!==i?yk.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Rb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:nk.min(),n?a:T_())})).next((function(e){return Xx(r,Fb(t),e),{documents:e,ji:a}}))}))}function Xx(e,t,n){var r=nk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var Jx=function(){function e(){ce(this,e),this.activeTargetIds=j_()}return he(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Zx=function(){function e(){ce(this,e),this.Fr=new Jx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return he(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Jx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ew=function(){function e(){ce(this,e)}return he(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tw=function(){function e(){var t=this;ce(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return he(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ag("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=le(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Ag("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=le(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rw=function(){function e(t){ce(this,e),this.jr=t.jr,this.Wr=t.Wr}return he(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),iw=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return he(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var s=new Cg;s.listenOnce(wg.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case xg.NO_ERROR:var t=s.getResponseJson();Ag("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xg.TIMEOUT:Ag("Connection",'RPC "'+e+'" timed out'),a(new Hg(zg.DEADLINE_EXCEEDED,"Request time out"));break;case xg.HTTP_ERROR:var n=s.getStatus();if(Ag("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var o=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(zg).indexOf(t)>=0?t:zg.UNKNOWN}(r.status);a(new Hg(o,r.message))}else a(new Hg(zg.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Hg(zg.UNAVAILABLE,"Connection failed."));break;default:Fg()}}finally{Ag("Connection",'RPC "'+e+'" completed.')}}));var o=JSON.stringify(r);s.send(t,"POST",o,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=bg(),a=_g(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Eg({})),this.uo(s.initMessageHeaders,t,n),je()||Pe()||De().indexOf("Electron/")>=0||Ae()||De().indexOf("MSAppHost/")>=0||Re()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=r.join("");Ag("Connection","Creating WebChannel: "+o,s);var u=i.createWebChannel(o,s),l=!1,c=!1,d=new rw({jr:function(e){c?Ag("Connection","Not sending because WebChannel is closed:",e):(l||(Ag("Connection","Opening WebChannel transport."),u.open(),l=!0),Ag("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Ig.EventType.OPEN,(function(){c||Ag("Connection","WebChannel transport opened.")})),h(u,Ig.EventType.CLOSE,(function(){c||(c=!0,Ag("Connection","WebChannel transport closed"),d.eo())})),h(u,Ig.EventType.ERROR,(function(e){c||(c=!0,Lg("Connection","WebChannel transport errored:",e),d.eo(new Hg(zg.UNAVAILABLE,"The operation could not be completed")))})),h(u,Ig.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ug(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ag("Connection","WebChannel received error:",i);var a=i.status,s=function(e){var t=p_[e];if(void 0!==t)return g_(t)}(a),o=i.message;void 0===s&&(s=zg.INTERNAL,o="Unknown error status: "+a+" with message "+i.message),c=!0,d.eo(new Hg(s,o)),u.close()}else Ag("Connection","WebChannel received:",n),d.no(n)}})),h(a,Ng.STAT_EVENT,(function(e){e.stat===Sg.PROXY?Ag("Connection","Detected buffering proxy"):e.stat===Sg.NOPROXY&&Ag("Connection","Detected no buffering proxy")})),setTimeout((function(){d.Zr()}),0),d}}]),n}(function(){function e(t){ce(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return he(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ag("RestConnection","Sending: ",a,n);var s={};return this.uo(s,r,i),this.co(e,a,s,n).then((function(e){return Ag("RestConnection","Received: ",e),e}),(function(t){throw Lg("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=nw[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function aw(){return"undefined"!=typeof document?document:null}function sw(e){return new B_(e,!0)}var ow=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ce(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return he(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ag("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),uw=function(){function e(t,n,r,i,a,s,o,u){ce(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ow(t,n)}return he(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===zg.RESOURCE_EXHAUSTED?(Og(n.toString()),Og("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===zg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Hg(zg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ag("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Ag("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lw=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a,s,o){var u;return ce(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,o)).wt=s,u}return he(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Ug(void 0===t||"string"==typeof t),Tk.fromBase64String(t||"")):(Ug(void 0===t||t instanceof Uint8Array),Tk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){var t=void 0===e.code?zg.UNKNOWN:g_(e.code);return new Hg(t,e.message||"")}(s);n=new L_(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Q_(e,u.document.name),c=Y_(u.document.updateTime),d=new ib({mapValue:{fields:u.document.fields}}),h=ab.newFoundDocument(l,c,d),f=u.targetIds||[],p=u.removedTargetIds||[];n=new A_(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Q_(e,v.document),y=v.readTime?Y_(v.readTime):nk.min(),g=ab.newNoDocument(m,y),k=v.removedTargetIds||[];n=new A_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=Q_(e,b.document),x=b.removedTargetIds||[];n=new A_([],x,_,null)}else{if(!("filter"in t))return Fg();t.filter;var w=t.filter;w.targetId;var N=w.count||0,S=new y_(N),E=w.targetId;n=new O_(E,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return nk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nk.min():t.readTime?Y_(t.readTime):nk.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=J_(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=cb(r)?{documents:ex(e,r)}:{query:tx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=q_(e,t.resumeToken):t.snapshotVersion.compareTo(nk.min())>0&&(n.readTime=W_(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=J_(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(uw),cw=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a){var s;return ce(this,n),(s=t.call(this)).authCredentials=e,s.appCheckCredentials=r,s.bo=i,s.wt=a,s.Zo=!1,s}return he(n,[{key:"tu",value:function(){if(this.Zo)throw new Hg(zg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),s=a[0],o=a[1];return r.bo.ro(e,t,n,s,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hg(zg.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=u(a,2),o=s[0],l=s[1];return i.bo.ao(e,t,n,o,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Hg(zg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return he((function e(){ce(this,e)}))}()),dw=function(){function e(t,n){ce(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return he(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Og(t),this.su=!1):Ag("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),hw=he((function e(t,n,r,i,a){var s=this;ce(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ww(s),!e.t0){e.next=5;break}return Ag("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vg(t)).lu.add(4),e.next=4,vw(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,fw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new dw(r,i)}));function fw(e){return pw.apply(this,arguments)}function pw(){return pw=Z(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ww(t)){e.next=18;break}n=le(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),pw.apply(this,arguments)}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=Z(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=le(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),mw.apply(this,arguments)}function yw(e,t){var n=Vg(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),xw(n)?_w(n):Mw(n).Co()&&kw(n,t))}function gw(e,t){var n=Vg(e),r=Mw(n);n.hu.delete(t),r.Co()&&bw(n,t),0===n.hu.size&&(r.Co()?r.ko():ww(n)&&n._u.set("Unknown"))}function kw(e,t){e.wu.Nt(t.targetId),Mw(e).Qo(t)}function bw(e,t){e.wu.Nt(t),Mw(e).jo(t)}function _w(e){e.wu=new F_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Mw(e).start(),e._u.iu()}function xw(e){return ww(e)&&!Mw(e).Do()&&e.hu.size>0}function ww(e){return 0===Vg(e).lu.size}function Nw(e){e.wu=void 0}function Sw(e){return Ew.apply(this,arguments)}function Ew(){return Ew=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){kw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Iw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nw(t),xw(t)?(t._u.uu(n),_w(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Tw(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=Z(X().mark((function e(t,n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof L_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Z(X().mark((function e(t,n){var r,i,a,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=le(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(s=a.value,e.t0=t.hu.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.hu.delete(s),t.wu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ag("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,jw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof A_?t.wu.Ut(n):n instanceof O_?t.wu.zt(n):t.wu.Gt(n),r.isEqual(nk.min())){e.next=29;break}return e.prev=14,e.next=17,Wx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Tk.EMPTY_BYTE_STRING,n.snapshotVersion)),bw(e,t);var r=new mx(n.target,t,1,n.sequenceNumber);kw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ag("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,jw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Dw.apply(this,arguments)}function jw(e,t,n){return Rw.apply(this,arguments)}function Rw(){return Rw=Z(X().mark((function e(t,n,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gk(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,vw(t);case 5:t._u.set("Offline"),r||(r=function(){return Wx(t.localStore)}),t.asyncQueue.enqueueRetryable(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ag("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,fw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Pw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Vg(t)).asyncQueue.verifyOperationInProgress(),Ag("RemoteStore","RemoteStore received new credentials"),i=ww(r),r.lu.add(3),e.next=6,vw(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,fw(r);case 12:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Ow(e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vg(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,fw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,vw(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e){return e.mu||(e.mu=function(e,t,n){var r=Vg(e);return r.tu(),new lw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Sw.bind(null,e),Jr:Iw.bind(null,e),Go:Tw.bind(null,e)}),e.fu.push(function(){var t=Z(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),xw(e)?_w(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Nw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}var Fw=function(){function e(t,n,r,i,a){ce(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return he(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hg(zg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var s=new e(t,n,Date.now()+r,i,a);return s.start(r),s}}]),e}();function Uw(e,t){if(Og("AsyncQueue","".concat(t,": ").concat(e)),gk(e))return new Hg(zg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Vw=function(){function e(t){ce(this,e),this.comparator=t?function(e,n){return t(e,n)||ok.comparator(e.key,n.key)}:function(e,t){return ok.comparator(e.key,t.key)},this.keyedMap=w_(),this.sortedSet=new wk(this.comparator)}return he(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zw=function(){function e(){ce(this,e),this.yu=new wk(ok.comparator)}return he(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Fg():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Hw=function(){function e(t,n,r,i,a,s,o,u){ce(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u}return he(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Vw.emptySet(n),a,r,i,!0,!1)}}]),e}(),Bw=he((function e(){ce(this,e),this.Iu=void 0,this.listeners=[]})),Ww=he((function e(){ce(this,e),this.queries=new k_((function(e){return Ob(e)}),Ab),this.onlineState="Unknown",this.Tu=new Set}));function qw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=Z(X().mark((function e(t,n){var r,i,a,s,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vg(t),i=n.query,a=!1,(s=r.queries.get(i))||(a=!0,s=new Bw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:s.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),o=Uw(e.t0,"Initialization of query '".concat(Lb(n.query),"' failed")),e.abrupt("return",void n.onError(o));case 13:r.queries.set(i,s),s.listeners.push(n),n.Eu(r.onlineState),s.Iu&&n.Au(s.Iu)&&Xw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yw.apply(this,arguments)}function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=Z(X().mark((function e(t,n){var r,i,a,s,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vg(t),i=n.query,a=!1,(s=r.queries.get(i))&&(o=s.listeners.indexOf(n))>=0&&(s.listeners.splice(o,1),a=0===s.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Qw(e,t){var n,r=Vg(e),i=!1,a=le(t);try{for(a.s();!(n=a.n()).done;){var s=n.value,o=s.query,u=r.queries.get(o);if(u){var l,c=le(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(s)&&(i=!0)}}catch(d){c.e(d)}finally{c.f()}u.Iu=s}}}catch(d){a.e(d)}finally{a.f()}i&&Xw(r)}function $w(e,t,n){var r=Vg(e),i=r.queries.get(t);if(i){var a,s=le(i.listeners);try{for(s.s();!(a=s.n()).done;){a.value.onError(n)}}catch(o){s.e(o)}finally{s.f()}}r.queries.delete(t)}function Xw(e){e.Tu.forEach((function(e){e.next()}))}var Jw=function(){function e(t,n,r){ce(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return he(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=le(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(s){r.e(s)}finally{r.f()}e=new Hw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Hw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var Zw=he((function e(t){ce(this,e),this.key=t})),eN=he((function e(t){ce(this,e),this.key=t})),tN=function(){function e(t,n){ce(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=T_(),this.mutatedKeys=T_(),this.Lu=Ub(t),this.Uu=new Vw(this.Lu)}return he(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new zw,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),d=Mb(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),f=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;c&&d?c.data.isEqual(d.data)?h!==f&&(r.track({type:3,doc:d}),p=!0):n.Qu(c,d)||(r.track({type:2,doc:d}),p=!0,(u&&n.Lu(d,u)>0||l&&n.Lu(d,l)<0)&&(o=!0)):!c&&d?(r.track({type:0,doc:d}),p=!0):c&&!d&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(o=!0)),p&&(d?(s=s.add(d),a=f?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){var c="F"===this.query.limitType?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:s,Gu:r,Oi:o,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fg()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var s=t?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,u=o!==this.$u;return this.$u=o,0!==a.length||u?{snapshot:new Hw(this.query,e.Uu,i,a,e.mutatedKeys,0===o,u,!1),zu:s}:{zu:s}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new zw,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=T_(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new eN(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Zw(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=T_();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Hw.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),nN=he((function e(t,n,r){ce(this,e),this.query=t,this.targetId=n,this.view=r})),rN=he((function e(t){ce(this,e),this.key=t,this.Xu=!1})),iN=function(){function e(t,n,r,i,a,s){ce(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new k_((function(e){return Ob(e)}),Ab),this.ec=new Map,this.nc=new Set,this.sc=new wk(ok.comparator),this.ic=new Map,this.rc=new Tx,this.oc={},this.uc=new Map,this.cc=wx.Rn(),this.onlineState="Unknown",this.ac=void 0}return he(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function aN(e,t){return sN.apply(this,arguments)}function sN(){return sN=Z(X().mark((function e(t,n){var r,i,a,s,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=EN(t),!(s=r.tc.get(n))){e.next=6;break}i=s.targetId,r.sharedClientState.addLocalQueryTarget(i),a=s.view.Yu(),e.next=15;break;case 6:return e.next=8,Gx(r.localStore,Rb(n));case 8:return o=e.sent,r.isPrimaryClient&&yw(r.remoteStore,o),u=r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.targetId,e.next=14,oN(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function oN(e,t,n,r){return uN.apply(this,arguments)}function uN(){return uN=Z(X().mark((function e(t,n,r,i){var a,s,o,u,l,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Z(X().mark((function e(t,n,r,i){var a,s,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,$x(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return s=i&&i.targetChanges.get(n.targetId),o=n.view.applyChanges(a,t.isPrimaryClient,s),e.abrupt("return",(gN(t,n.targetId,o.zu),o.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$x(t.localStore,n,!0);case 3:return a=e.sent,s=new tN(n,a.ji),o=s.Ku(a.documents),u=P_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,u),gN(t,r,l.zu),c=new nN(n,r,s),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}function lN(e,t){return cN.apply(this,arguments)}function cN(){return cN=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vg(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Ab(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Kx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),gw(r.remoteStore,i.targetId),mN(r,i.targetId)})).catch(vk);case 9:e.next=14;break;case 11:return mN(r,i.targetId),e.next=14,Kx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cN.apply(this,arguments)}function dN(e,t){return hN.apply(this,arguments)}function hN(){return hN=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vg(t),e.prev=1,e.next=4,qx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Ug(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Ug(n.Xu):e.removedDocuments.size>0&&(Ug(n.Xu),n.Xu=!1))})),e.next=8,_N(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hN.apply(this,arguments)}function fN(e,t,n){var r=Vg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=le(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}})),r&&Xw(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pN(e,t,n){return vN.apply(this,arguments)}function vN(){return vN=Z(X().mark((function e(t,n,r){var i,a,s,o,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Vg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(s=a&&a.key)){e.next=14;break}return o=(o=new wk(ok.comparator)).insert(s,ab.newNoDocument(s,nk.min())),u=T_().add(s),l=new R_(nk.min(),new Map,new Ek(Zg),o,u),e.next=9,dN(i,l);case 9:i.sc=i.sc.remove(s),i.ic.delete(n),bN(i),e.next=16;break;case 14:return e.next=16,Kx(i.localStore,n,!1).then((function(){return mN(i,n,r)})).catch(vk);case 16:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=le(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(s){i.e(s)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||yN(e,t)}))}function yN(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(gw(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),bN(e))}function gN(e,t,n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Zw?(e.rc.addReference(a.key,t),kN(e,a)):a instanceof eN?(Ag("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||yN(e,a.key)):Fg()}}catch(s){i.e(s)}finally{i.f()}}function kN(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Ag("SyncEngine","New document in limbo: "+n),e.nc.add(r),bN(e))}function bN(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new ok(ik.fromString(t)),r=e.cc.next();e.ic.set(r,new rN(n)),e.sc=e.sc.insert(n,r),yw(e.remoteStore,new mx(Rb(Ib(n.path)),r,2,kk.ot))}}function _N(e,t,n){return xN.apply(this,arguments)}function xN(){return xN=Z(X().mark((function e(t,n,r){var i,a,s,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vg(t),a=[],s=[],o=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){o.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Fx.Vi(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(o);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Z(X().mark((function e(t,n){var r,i,a,s,o,u,l,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yk.forEach(n,(function(t){return yk.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return yk.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gk(e.t0)){e.next=10;break}throw e.t0;case 10:Ag("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=le(n);try{for(i.s();!(a=i.n()).done;)s=a.value,o=s.targetId,s.fromCache||(u=r.$i.get(o),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(o,c))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function wN(e,t){return NN.apply(this,arguments)}function NN(){return NN=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Vg(t)).currentUser.isEqual(n)){e.next=11;break}return Ag("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Hg(zg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_N(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function SN(e,t){var n=Vg(e),r=n.ic.get(t);if(r&&r.Xu)return T_().add(r.key);var i=T_(),a=n.ec.get(t);if(!a)return i;var s,o=le(a);try{for(o.s();!(s=o.n()).done;){var u=s.value,l=n.tc.get(u);i=i.unionWith(l.view.qu)}}catch(c){o.e(c)}finally{o.f()}return i}function EN(e){var t=Vg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pN.bind(null,t),t.Zu.Go=Qw.bind(null,t.eventManager),t.Zu.lc=$w.bind(null,t.eventManager),t}var IN=function(){function e(){ce(this,e),this.synchronizeTabs=!1}return he(e,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=sw(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return zx(this.persistence,new Ux,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Ox(Mx.Ms,this.wt)}},{key:"dc",value:function(e){return new Zx}},{key:"terminate",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CN=function(){function e(){ce(this,e)}return he(e,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),e.next=12,Ow(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ww}},{key:"createDatastore",value:function(e){var t,n=sw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new iw(t));return function(e,t,n,r){return new cw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fN(s.syncEngine,e,0)},a=tw.V()?new tw:new ew,new hw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,s){var o=new iN(e,t,n,r,i,a);return s&&(o.ac=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vg(t),Ag("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,vw(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var TN=function(){function e(t){ce(this,e),this.observer=t,this.muted=!1}return he(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),DN=function(){function e(t,n,r,i){var a=this;ce(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dg.UNAUTHENTICATED,this.clientId=Jg.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ag("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ag("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return he(e,[{key:"getConfiguration",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hg(zg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Z(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Uw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function jN(e,t){return RN.apply(this,arguments)}function RN(){return RN=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ag("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}function PN(e,t){return AN.apply(this,arguments)}function AN(){return AN=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ON(t);case 3:return r=e.sent,Ag("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Pw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Pw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}function ON(e){return LN.apply(this,arguments)}function LN(){return LN=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ag("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,jN(t,new IN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),LN.apply(this,arguments)}function MN(e){return FN.apply(this,arguments)}function FN(){return FN=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ag("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,PN(t,new CN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function UN(e){return VN.apply(this,arguments)}function VN(){return VN=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=aN.bind(null,n.syncEngine),r.onUnlisten=lN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function zN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bg;return e.asyncQueue.enqueueAndForget(Z(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new TN({next:function(n){t.enqueueAndForget((function(){return Gw(e,s)})),n.fromCache&&"server"===r.source?i.reject(new Hg(zg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new Jw(n,a,{includeMetadataChanges:!0,Du:!0});return qw(e,s)},i.next=3,UN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var HN=new Map;function BN(e,t,n){if(!n)throw new Hg(zg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function WN(e){if(ok.isDocumentKey(e))throw new Hg(zg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Fg()}function YN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hg(zg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qN(e);throw new Hg(zg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var GN=function(){function e(t){var n;if(ce(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hg(zg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hg(zg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Hg(zg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return he(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),KN=function(){function e(t,n,r){ce(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GN({}),this._settingsFrozen=!1,t instanceof Fk?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hg(zg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fk(e.options.projectId)}(t))}return he(e,[{key:"app",get:function(){if(!this._app)throw new Hg(zg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hg(zg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qg;switch(e.type){case"gapi":var t=e.client;return Ug(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Kg(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hg(zg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=HN.get(e);t&&(Ag("ComponentProvider","Removing Datastore"),HN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var QN=function(){function e(t,n,r){ce(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return he(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new XN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$N=function(){function e(t,n,r){ce(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return he(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),XN=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,Ib(i)))._path=i,a.type="collection",a}return he(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new QN(this.firestore,null,new ok(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($N);function JN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),BN("collection","path",t),e instanceof KN){var a=ik.fromString.apply(ik,[t].concat(r));return WN(a),new XN(e,null,a)}if(!(e instanceof QN||e instanceof XN))throw new Hg(zg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(ik.fromString.apply(ik,[t].concat(r)));return WN(s),new XN(e.firestore,null,s)}var ZN=function(){function e(){var t=this;ce(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ow(this,"async_queue_retry"),this.Kc=function(){var e=aw();e&&Ag("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=aw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return he(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=aw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Bg;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Z(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gk(e.t0)){e.next=12;break}throw e.t0;case 12:Ag("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Og("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Fw.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Fg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=le(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=le(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var eS=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new ZN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return he(n,[{key:"_terminate",value:function(){return this._firestoreClient||nS(this),this._firestoreClient.terminate()}}]),n}(KN);function tS(e){return e._firestoreClient||nS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Mk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new DN(e._authCredentials,e._appCheckCredentials,e._queue,r)}var rS=function(){function e(){ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hg(zg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sk(n)}return he(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var iS=function(){function e(t){ce(this,e),this._byteString=t}return he(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Tk.fromBase64String(t))}catch(t){throw new Hg(zg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Tk.fromUint8Array(t))}}]),e}(),aS=he((function e(t){ce(this,e),this._methodName=t})),sS=function(){function e(t,n){if(ce(this,e),!isFinite(t)||t<-90||t>90)throw new Hg(zg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hg(zg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return he(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Zg(this._lat,e._lat)||Zg(this._long,e._long)}}]),e}(),oS=/^__.*__$/;function uS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fg()}}var lS=function(){function e(t,n,r,i,a,s){ce(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}return he(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return kS(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(uS(this.Zc)&&oS.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),cS=function(){function e(t,n,r){ce(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||sw(t)}return he(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lS({Zc:e,methodName:t,ca:n,path:sk.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function dS(e){var t=e._freezeSettings(),n=sw(e._databaseId);return new cS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fS(n,e.aa(r?4:3,t))}function fS(e,t){if(vS(e=ot(e)))return mS("Unsupported field value:",t,e),pS(e,t);if(e instanceof aS)return function(e,t){if(!uS(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=le(e);try{for(a.s();!(n=a.n()).done;){var s=fS(n.value,t.ra(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bb(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tk.fromDate(e);return{timestampValue:W_(t.wt,n)}}if(e instanceof tk){var r=new tk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:W_(t.wt,r)}}if(e instanceof sS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iS)return{bytesValue:q_(t.wt,e._byteString)};if(e instanceof QN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:G_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(qN(e)))}(e,t)}function pS(e,t){var n={};return xk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_k(e,(function(e,r){var i=fS(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tk||e instanceof sS||e instanceof iS||e instanceof QN||e instanceof aS)}function mS(e,t,n){if(!vS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qN(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}var yS=new RegExp("[~\\*/\\[\\]]");function gS(e,t,n){if(t.search(yS)>=0)throw kS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ve(rS,fe(t.split(".")))._internalPath}catch(r){throw kS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kS(e,t,n,r,i){var a=r&&!r.isEmpty(),s=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var u="";return(a||s)&&(u+=" (found",a&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(i)),u+=")"),new Hg(zg.INVALID_ARGUMENT,o+e+u)}var bS=function(){function e(t,n,r,i,a){ce(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return he(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new QN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_S=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"data",value:function(){return ne(ee(n.prototype),"data",this).call(this)}}]),n}(bS);function xS(e,t){return"string"==typeof t?gS(e,t):t instanceof rS?t._internalPath:t._delegate._internalPath}var wS=function(){function e(t,n){ce(this,e),this.hasPendingWrites=t,this.fromCache=n}return he(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NS=function(e){ae(n,e);var t=ue(n);function n(e,r,i,a,s,o){var u;return ce(this,n),(u=t.call(this,e,r,i,a,o))._firestore=e,u._firestoreImpl=e,u.metadata=s,u}return he(n,[{key:"exists",value:function(){return ne(ee(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new SS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(bS),SS=function(e){ae(n,e);var t=ue(n);function n(){return ce(this,n),t.apply(this,arguments)}return he(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ne(ee(n.prototype),"data",this).call(this,e)}}]),n}(NS),ES=function(){function e(t,n,r,i){ce(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wS(i.hasPendingWrites,i.fromCache),this.query=r}return he(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new SS(n._firestore,n._userDataWriter,r.key,r,new wS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hg(zg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new SS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new SS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:IS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function IS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fg()}}function CS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hg(zg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var TS=he((function e(){ce(this,e)}));function DS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];e=s._apply(e)}return e}var jS=function(e){ae(n,e);var t=ue(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return he(n,[{key:"_apply",value:function(e){var t=dS(e.firestore),n=function(e,t,n,r,i,a,s){var o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hg(zg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){AS(s,a);var u,l=[],c=le(s);try{for(c.s();!(u=c.n()).done;){var d=u.value;l.push(PS(r,e,d))}}catch(f){c.e(f)}finally{c.f()}o={arrayValue:{values:l}}}else o=PS(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||AS(s,a),o=hS(n,"where",s,"in"===a||"not-in"===a);var h=db.create(i,a,o);return function(e,t){if(t.ht()){var n=Tb(e);if(null!==n&&!n.isEqual(t.field))throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Cb(e);null!==r&&OS(e,t.field,r)}var i=function(e,t){var n,r=le(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(f){r.e(f)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hg(zg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hg(zg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new $N(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(TS);function RS(e,t,n){var r=t,i=xS("where",e);return new jS(i,r,n)}function PS(e,t,n){if("string"==typeof(n=ot(n))){if(""===n)throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(t)&&-1!==n.indexOf("/"))throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ik.fromString(n));if(!ok.isDocumentKey(r))throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $k(e,new ok(r))}if(n instanceof QN)return $k(e,n._key);throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qN(n),"."))}function AS(e,t){if(!Array.isArray(e)||0===e.length)throw new Hg(zg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Hg(zg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function OS(e,t,n){if(!n.isEqual(t))throw new Hg(zg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LS=function(){function e(){ce(this,e)}return he(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return _k(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new sS(Rk(e.latitude),Rk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ok(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jk(e);return new tk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ik.fromString(e);Ug(cx(n));var r=new Fk(n.get(1),n.get(3)),i=new ok(n.popFirst(5));return r.isEqual(t)||Og("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();var MS=function(e){ae(n,e);var t=ue(n);function n(e){var r;return ce(this,n),(r=t.call(this)).firestore=e,r}return he(n,[{key:"convertBytes",value:function(e){return new iS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QN(this.firestore,null,t)}}]),n}(LS);function FS(e){e=YN(e,$N);var t=YN(e.firestore,eS),n=tS(t),r=new MS(t);return CS(e._query),zN(n,e._query).then((function(n){return new ES(t,r,e,n)}))}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jg=e}(an),Xt(new ut("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new eS(i,new Yg(e.getProvider("auth-internal")),new $g(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),dn(Tg,"3.4.12",e),dn(Tg,"3.4.12","esm2017")}();var US=Bs.initializeApp({apiKey:"AIzaSyDjAWrbieMrJLlZFGoaCvvGxARcRQ_4lxg",authDomain:"login-reimbursement-form.firebaseapp.com",projectId:"login-reimbursement-form",storageBucket:"login-reimbursement-form.appspot.com",messagingSenderId:"586027704237",appId:"1:586027704237:web:0d360f37b6e958973f8b24",databaseURL:"https://login-reimbursement-form-default-rtdb.firebaseio.com"}),VS=Ts(US),zS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return Jt(e,"firestore").getImmediate()}(US),HS=(new Ci,function(){!function(e){ot(e).signOut()}(VS)}),BS=US.database().ref(),WS=n(569),qS=n.n(WS),YS=n.p+"static/media/mindera-logo.3c7de1087369f683413c.png",GS=n(184),KS=function(e){return(0,GS.jsxs)("div",{className:"footerDiv",children:[(0,GS.jsx)("img",{src:YS,className:"footerLogo"}),(0,GS.jsx)("span",{style:{verticalAlign:"top"},children:"\xa9"}),(0,GS.jsx)("p",{style:{fontSize:"14px",fontFamily:"Patrick Hand, fantasy"},children:"2022 Mindera Group. All rights reserved."})]})},QS=function(e){var t=e.userRemRecords.filter((function(t){return""===e.userData[t].IsApproved})),n=e.userRemRecords.filter((function(t){return"Yes"===e.userData[t].IsApproved})),i=e.userRemRecords.filter((function(t){return"No"===e.userData[t].IsApproved})),a=e.account;return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"ui segment",style:{width:"300px"},children:(0,GS.jsx)("div",{className:"analyticsMain-div",children:(0,GS.jsxs)("div",{className:"analytics-div",children:[(0,GS.jsx)("h4",{className:"railCard-heading",children:"Reimbursement Record Details-"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Name: ",e.name]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Employee Id: ",e.employeeID]}),e.account?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Account: ",a.toString()]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Account: Not Assigned"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Total Records: ",e.userRemRecords.length]}),e.adminMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Admin Mail Id: ",e.adminMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Admin Mail Id: Not Assigned"}),e.approverMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Approver Mail Id: ",e.approverMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Approver Mail Id: Not Assigned"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"blue"},children:["Approved Records: ",n.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"red"},children:["Rejected Records: ",i.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action:",t.length]})]})})})})},$S=function(){return(0,GS.jsx)("div",{children:(0,GS.jsxs)("div",{className:"ui segment",style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100vh",zIndex:"10"},children:[(0,GS.jsx)("div",{className:"ui active dimmer",children:(0,GS.jsx)("div",{className:"ui indeterminate text loader",children:"Preparing Files"})}),(0,GS.jsx)("p",{})]})})},XS=n.p+"static/media/mindera-symbol.900e65ede44a31511c98.png",JS=n.p+"static/media/mindera-logo-2.02e202eb5591d52a3578.png",ZS=function(e){return(0,GS.jsxs)("div",{className:"headerImage-div",children:[(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:XS,style:{height:"80px",marginBottom:"20px",objectFit:"cover"}})}),(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:JS,style:{height:"50px",width:"auto",marginBottom:"30px"}})})]})},eE=function(e){return(0,GS.jsx)("div",{className:"cardDiv",style:{border:e.error&&"1px solid red"},children:e.children})},tE=function(e){var t=u(Ls(VS),3),n=(t[0],t[1],t[2],u((0,r.useState)(!1),2)),i=n[0],a=n[1];return(0,GS.jsx)("div",{className:"formHeader-div",children:(0,GS.jsxs)("div",{className:"header-flex",children:[(0,GS.jsx)("div",{className:"dropdown",children:(0,GS.jsxs)("div",{className:"ui floating labeled icon dropdown button ".concat(i?"active visible":""," "),onClick:function(){a(!i)},children:["user"===e.role?(0,GS.jsx)("i",{className:"user icon"}):(0,GS.jsx)("i",{className:"user secret icon"}),(0,GS.jsx)("span",{className:"text",children:e.employeeName}),(0,GS.jsxs)("div",{className:"menu ".concat(i?"transition visible":"","  "),children:["user"===e.role?(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"edit icon"}),(0,GS.jsx)(Q,{to:"/user-records",className:"profile-Btn",children:"Your Records"})]}):null,"approver"===e.role?(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"th icon"}),(0,GS.jsx)(Q,{to:"/approver-panel",className:"adminPanelLink",children:"Approver Panel"})]}):null,"approver"===e.role?(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"edit icon"}),(0,GS.jsx)(Q,{to:"/approver-records",className:"adminPanelLink",children:"Approver Records"})]}):null,"admin"===e.role?(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"edit icon"}),(0,GS.jsx)(Q,{to:"/admin-panel",className:"adminPanelLink",children:"Admin Panel"})]}):null,"admin"===e.role?(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"th icon"}),(0,GS.jsx)(Q,{to:"/admin-records",className:"adminPanelLink",children:"Admin Records"})]}):null,(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"wpforms icon"}),(0,GS.jsx)(Q,{to:"/",className:"adminPanelLink",children:"Form"})]}),(0,GS.jsxs)("div",{className:"item",children:[(0,GS.jsx)("i",{className:"power off icon"}),(0,GS.jsx)("button",{className:"logOutBtn",onClick:HS,children:"Logout"})]})]})]})}),(0,GS.jsx)(ZS,{})]})})},nE=function(e){for(var t=e.postsPerPage,n=e.totalPosts,i=e.paginate,a=u((0,r.useState)(),2),s=a[0],o=a[1],l=[],c=1;c<=Math.ceil(n/t);c++)l.push(c);return(0,GS.jsx)("nav",{children:(0,GS.jsx)("ul",{className:"pagination",children:l.map((function(e){return(0,GS.jsx)("li",{className:"page-item",children:(0,GS.jsx)("a",{onClick:function(){return function(e){o(e),i(e)}(e)},className:s===e?"page-link focus":"page-link",style:{cursor:"pointer"},children:e})},e)}))})})},rE=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.userRemRecords.filter((function(t){return"Yes"===e.userData[t].IsApproved})),c=l.sort().slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Approved For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ApprovedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.userData[t].Invoice,href:e.userData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceDate})]})}),e.userData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceNo})]})}),e.userData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeConsent})]})}),e.userData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].Time})]})})]}),"Yes"===e.userData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Approved"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Approved Records Founds !"})})]})},iE=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.userRemRecords.filter((function(t){return""===e.userData[t].IsApproved})),c=l.sort().slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.userData[t].Invoice,href:e.userData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceDate})]})}),e.userData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceNo})]})}),e.userData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeConsent})]})}),e.userData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].Time})]})})]}),""===e.userData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui brown button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Awaiting Action"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Awaiting Records Founds !"})})]})},aE=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.userRemRecords.filter((function(t){return"No"===e.userData[t].IsApproved})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Rejected For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].RejectedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.userData[t].Invoice,href:e.userData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceDate})]})}),e.userData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].InvoiceNo})]})}),e.userData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].EmployeeConsent})]})}),e.userData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].Time})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Rejection Reason:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.userData[t].RejectionReason})]})})]}),"No"===e.userData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Rejected Records Founds !"})})]})},sE="https://login-reimbursement-form-default-rtdb.firebaseio.com",oE=function(e){var t=u(Ls(VS),3),n=t[0],i=t[1],a=(t[2],u((0,r.useState)(""),2)),s=a[0],o=a[1],l=u((0,r.useState)([]),2),c=l[0],d=l[1],h=u((0,r.useState)(!1),2),f=h[0],p=h[1],v=u((0,r.useState)(!0),2),m=v[0],y=v[1],g=u((0,r.useState)(!1),2),k=g[0],b=g[1],_=u((0,r.useState)(!1),2),x=_[0],w=_[1],N=u((0,r.useState)(""),2),S=N[0],E=N[1],I=F();(0,r.useEffect)((function(){if(!i){if(n){E(n.accessToken);var t=setTimeout((function(){if("user"!==e.role)return"admin"===e.role?I("/admin-panel"):"approver"===e.role?I("/approver-panel"):void 0;T()}),1e3);return function(){clearTimeout(t)}}return E(),I("/login")}}),[n,S,i,e.employeeID,e.name,e.role,e.approverMailId,e.adminMailId]);var C="".concat(sE,"/ReimbursementRecords.json?auth=").concat(S,'&orderBy="UserSpecificId"&equalTo="').concat(e.employeeID,'"'),T=function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,qS().get(C);case 3:t=e.sent,o(t.data),p(!1),(n=t.data)&&d(Object.keys(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsxs)(r.Fragment,{children:[f&&(0,GS.jsx)($S,{}),(0,GS.jsx)(tE,{employeeName:e.name,role:e.role,employeeID:e.employeeID}),(0,GS.jsx)("div",{className:"header-RemDetails",children:(0,GS.jsx)("h1",{style:{fontFamily:"Patrick Hand",fontSize:"35px",color:"Blue",textAlign:"center",fontWeight:"500"},children:"User Panel"})}),s?(0,GS.jsxs)("div",{className:"ui container",style:{position:"inherit",backgroundColor:"transparent !important",border:"none",boxShadow:" none"},children:[(0,GS.jsx)(QS,{userData:s,userRemRecords:c,employeeID:e.employeeID,account:e.account,name:e.name,approverMailId:e.approverMailId,adminMailId:e.adminMailId}),(0,GS.jsxs)("div",{className:"ui top attached tabular menu",children:[(0,GS.jsx)("a",{className:"item ".concat(!0===m?"active":""),"data-tab":"first",onClick:function(){y(!0),b(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"brown"},children:"Awaiting Action"}),(0,GS.jsx)("a",{className:"item ".concat(!0===k?"active":""),"data-tab":"second",onClick:function(){b(!0),y(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Approved Records"}),(0,GS.jsx)("a",{className:"item ".concat(!0===x?"active":""),"data-tab":"third",onClick:function(){w(!0),y(!1),b(!1)},style:{width:"33.1%",fontFamily:"Patrick Hand",fontSize:"23px",color:"red"},children:"Rejected Records"})]}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===m?"active":""),"data-tab":"first",children:(0,GS.jsx)(iE,{userRemRecords:c,userData:s})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===k?"active":""),"data-tab":"second",children:(0,GS.jsx)(rE,{userRemRecords:c,userData:s})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===x?"active":""),"data-tab":"third",children:(0,GS.jsx)(aE,{userRemRecords:c,userData:s})})]}):(0,GS.jsx)("div",{style:{maxWidth:"80%",margin:"auto"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"Sorry! No Records Available"})}),(0,GS.jsx)(KS,{})]})},uE=n.p+"static/media/35_writing.9a85d524e70275b756cd.png",lE=function(){return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("img",{src:uE,className:"header-logo"})})},cE=function(e){return(0,GS.jsxs)(r.Fragment,{children:[" ",(0,GS.jsxs)(eE,{children:[(0,GS.jsx)("div",{style:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",height:"10px",left:"-1px",position:"absolute",top:"-1px",width:"calc(100% + 2px)",backgroundColor:"rgb(125, 67, 38)",color:"rgba(255, 255, 255, 1)"}}),(0,GS.jsxs)("div",{className:"form-intro",children:[(0,GS.jsxs)("div",{className:"form-intro__info",children:[(0,GS.jsx)("h1",{className:"header",children:"Reimbursement Form"}),(0,GS.jsx)("p",{className:"para",children:"Use this form to submit reimbursments and track progress"})]}),(0,GS.jsx)("hr",{}),(0,GS.jsx)("div",{className:"form-into__email",children:(0,GS.jsxs)("p",{style:{fontWeight:"700",color:"grey",fontSize:"14px"},children:["\xa0",(0,GS.jsx)("input",{type:"email",defaultValue:e.employeeMail,name:e.name,disabled:!0,style:{fontWeight:"700",color:"grey",fontSize:"14px",backgroundColor:" #fff",border:"none",display:"block",width:"100%"}})]})}),(0,GS.jsx)("div",{children:(0,GS.jsx)("p",{style:{fontSize:"14px",color:"#5f6368"},children:"The name, email address and photo associated with your Google Account will be recorded when you upload files and submit this form"})}),(0,GS.jsx)("p",{style:{color:"red",fontSize:"14px",fontWeight:"400"},children:"*Required"})]})]})]})},dE=n(426),hE=n.n(dE),fE=function(e){return(0,GS.jsx)(eE,{error:e.dateError,children:(0,GS.jsxs)("div",{children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Expense Date",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("label",{className:"label",children:"Date"}),(0,GS.jsx)("input",{type:"date",onChange:e.handleDateChange,value:e.date,className:"expenseInput",mandatory:"true","aria-invalid":e.dateError?"true":"false",name:e.name,max:hE()().format("YYYY-MM-DD"),onKeyDown:e.disableKeyDown}),e.dateError?(0,GS.jsx)("p",{style:{fontSize:"14px",color:"red",fontFamily:"Patrick Hand",fontWeight:"500"},children:"This is a required Question"}):null]})})},pE=["IT Asset","Mobile","Lunch/Dinner Expense","Pantry Expense","TL Pantry Expense","Visa/Travel Expense","Other:"],vE=function(e){return(0,GS.jsx)(eE,{error:e.expenseItemsError,children:(0,GS.jsxs)("div",{className:"expense-category",children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Expense Catergory",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),pE.map((function(t,n){return(0,GS.jsxs)("div",{style:{marginTop:"25px",position:"relative"},className:"expenseItems-div",children:[(0,GS.jsx)("input",{type:"radio",value:t,onChange:e.handleRadioChange,checked:e.expenseItems===t,name:e.name}),(0,GS.jsx)("label",{style:{marginLeft:"20px",flexBasis:"50%"},children:t})]},t)})),(0,GS.jsx)("div",{className:"OtherInputDiv",children:(0,GS.jsx)("input",{type:"text",className:"otherInputField",onChange:e.othersInputHandler,value:e.otherExpenseValue,style:{borderBottom:"Other:"===e.expenseItems&&"2px solid red"}})}),e.expenseItemsError&&(0,GS.jsx)("p",{style:{color:"red",fontSize:"15px",fontFamily:"Patrick Hand",fontWeight:"500"},children:"This is a required Field."})]})})},mE=function(e){return(0,GS.jsx)(eE,{error:e.amountError,children:(0,GS.jsxs)("div",{children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Amount",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("input",{type:"text",onChange:e.inputAmountHandler,placeholder:"Your Answer",className:"expenseInput",value:e.amount,name:e.name}),e.amountError?(0,GS.jsx)("p",{style:{fontSize:"15px",fontWeight:"500",color:"red",fontFamily:"Patrick Hand"},children:e.amountError}):null]})})},yE=function(e){return(0,GS.jsx)(eE,{error:e.pdfFileError,children:(0,GS.jsxs)("div",{children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Attach Invoice",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("p",{className:"para",children:"Hard Copy of the Invoice should be submitted to Operations team"}),(0,GS.jsx)("input",{type:"file",onChange:e.handlePdfChange,placeholder:"Add File",id:"FileUpload",className:"custom-file-input",name:e.name,accept:".gif, .jpg, .png, .doc, application/pdf"},e.theInputKey||""),(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"15px",fontWeight:"500",color:"red"},children:e.pdfFileError})]})})},gE=function(e){return(0,GS.jsx)(eE,{children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("h3",{className:"formHeading-h3",children:"Expense Description"}),(0,GS.jsx)("textarea",{type:"text",onChange:function(t){return e.expenseDescriptionHandler(t.target.value)},placeholder:"Your Answer",className:"expenseInput",value:e.description,name:e.name,style:{resize:"none",width:"96%"}}),e.description.length<e.limit?(0,GS.jsxs)("p",{style:pe({color:"blue",fontFamily:"Patrick Hand"},"fontFamily","15px"),children:[e.description.length,"/",e.limit]}):(0,GS.jsx)("p",{style:pe({color:"red",fontFamily:"Patrick Hand"},"fontFamily","15px"),children:"You have reached the max no. of characters !"})]})})},kE=function(e){return(0,GS.jsxs)(eE,{error:e.InvoiceNoError,children:[(0,GS.jsxs)("div",{children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Invoice Number",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("input",{type:"text",onChange:e.invoiceHandler,placeholder:"Your Answer",className:"expenseInput",value:e.invoice,name:e.name})]}),e.InvoiceNoError&&(0,GS.jsx)("p",{style:{color:"red",fontSize:"15px",fontFamily:"Patrick Hand",fontWeight:"500"},children:"This is a required Field."})]})},bE=["Amazon","BigBasket","Metro","Other:"],_E=function(e){return(0,GS.jsx)(eE,{children:(0,GS.jsxs)("div",{className:"expense-category",children:[(0,GS.jsx)("h3",{className:"formHeading-h3",children:"Vendor Name"}),bE.map((function(t,n){return(0,GS.jsxs)("div",{style:{marginTop:"25px",position:"relative"},className:"expenseItems-div",children:[(0,GS.jsx)("input",{type:"radio",value:t,onChange:e.handleVendorRadioChange,checked:e.vendorItems===t,name:e.name}),(0,GS.jsx)("label",{style:{marginLeft:"20px",flexBasis:"50%"},children:t})]},t)})),(0,GS.jsxs)("div",{className:"OtherInputDiv",children:[(0,GS.jsx)("input",{type:"text",className:"otherInputField",onChange:e.othersVendorHandler,value:e.otherVendorName,style:{borderBottom:"Other:"===e.vendorItems&&"2px solid red"}}),(0,GS.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,GS.jsx)("button",{className:"clearSelect-btn",onClick:e.clearSelectionHandler,style:{opacity:""!==e.vendorItems&&"1",visibility:""!==e.vendorItems&&"visible"},children:"Clear Selection"})})]})]})})};var xE=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),wE=Math.abs,NE=String.fromCharCode,SE=Object.assign;function EE(e){return e.trim()}function IE(e,t,n){return e.replace(t,n)}function CE(e,t){return e.indexOf(t)}function TE(e,t){return 0|e.charCodeAt(t)}function DE(e,t,n){return e.slice(t,n)}function jE(e){return e.length}function RE(e){return e.length}function PE(e,t){return t.push(e),e}var AE=1,OE=1,LE=0,ME=0,FE=0,UE="";function VE(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:AE,column:OE,length:s,return:""}}function zE(e,t){return SE(VE("",null,null,"",null,null,0),e,{length:-e.length},t)}function HE(){return FE=ME>0?TE(UE,--ME):0,OE--,10===FE&&(OE=1,AE--),FE}function BE(){return FE=ME<LE?TE(UE,ME++):0,OE++,10===FE&&(OE=1,AE++),FE}function WE(){return TE(UE,ME)}function qE(){return ME}function YE(e,t){return DE(UE,e,t)}function GE(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KE(e){return AE=OE=1,LE=jE(UE=e),ME=0,[]}function QE(e){return UE="",e}function $E(e){return EE(YE(ME-1,ZE(91===e?e+2:40===e?e+1:e)))}function XE(e){for(;(FE=WE())&&FE<33;)BE();return GE(e)>2||GE(FE)>3?"":" "}function JE(e,t){for(;--t&&BE()&&!(FE<48||FE>102||FE>57&&FE<65||FE>70&&FE<97););return YE(e,qE()+(t<6&&32==WE()&&32==BE()))}function ZE(e){for(;BE();)switch(FE){case e:return ME;case 34:case 39:34!==e&&39!==e&&ZE(FE);break;case 40:41===e&&ZE(e);break;case 92:BE()}return ME}function eI(e,t){for(;BE()&&e+FE!==57&&(e+FE!==84||47!==WE()););return"/*"+YE(t,ME-1)+"*"+NE(47===e?e:BE())}function tI(e){for(;!GE(WE());)BE();return YE(e,ME)}var nI="-ms-",rI="-moz-",iI="-webkit-",aI="comm",sI="rule",oI="decl",uI="@keyframes";function lI(e,t){for(var n="",r=RE(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function cI(e,t,n,r){switch(e.type){case"@import":case oI:return e.return=e.return||e.value;case aI:return"";case uI:return e.return=e.value+"{"+lI(e.children,r)+"}";case sI:e.value=e.props.join(",")}return jE(n=lI(e.children,r))?e.return=e.value+"{"+n+"}":""}function dI(e,t){switch(function(e,t){return(((t<<2^TE(e,0))<<2^TE(e,1))<<2^TE(e,2))<<2^TE(e,3)}(e,t)){case 5103:return iI+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return iI+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return iI+e+rI+e+nI+e+e;case 6828:case 4268:return iI+e+nI+e+e;case 6165:return iI+e+nI+"flex-"+e+e;case 5187:return iI+e+IE(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return iI+e+nI+"flex-item-"+IE(e,/flex-|-self/,"")+e;case 4675:return iI+e+nI+"flex-line-pack"+IE(e,/align-content|flex-|-self/,"")+e;case 5548:return iI+e+nI+IE(e,"shrink","negative")+e;case 5292:return iI+e+nI+IE(e,"basis","preferred-size")+e;case 6060:return iI+"box-"+IE(e,"-grow","")+iI+e+nI+IE(e,"grow","positive")+e;case 4554:return iI+IE(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return IE(IE(IE(e,/(zoom-|grab)/,iI+"$1"),/(image-set)/,iI+"$1"),e,"")+e;case 5495:case 3959:return IE(e,/(image-set\([^]*)/,iI+"$1$`$1");case 4968:return IE(IE(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+iI+e+e;case 4095:case 3583:case 4068:case 2532:return IE(e,/(.+)-inline(.+)/,iI+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jE(e)-1-t>6)switch(TE(e,t+1)){case 109:if(45!==TE(e,t+4))break;case 102:return IE(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+rI+(108==TE(e,t+3)?"$3":"$2-$3"))+e;case 115:return~CE(e,"stretch")?dI(IE(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==TE(e,t+1))break;case 6444:switch(TE(e,jE(e)-3-(~CE(e,"!important")&&10))){case 107:return IE(e,":",":"+iI)+e;case 101:return IE(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+iI+(45===TE(e,14)?"inline-":"")+"box$3$1"+iI+"$2$3$1"+nI+"$2box$3")+e}break;case 5936:switch(TE(e,t+11)){case 114:return iI+e+nI+IE(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return iI+e+nI+IE(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return iI+e+nI+IE(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return iI+e+nI+e+e}return e}function hI(e){return function(t){t.root||(t=t.return)&&e(t)}}function fI(e){return QE(pI("",null,null,null,[""],e=KE(e),0,[0],e))}function pI(e,t,n,r,i,a,s,o,u){for(var l=0,c=0,d=s,h=0,f=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,_=a,x=r,w=k;m;)switch(p=g,g=BE()){case 40:if(108!=p&&58==w.charCodeAt(d-1)){-1!=CE(w+=IE($E(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:w+=$E(g);break;case 9:case 10:case 13:case 32:w+=XE(p);break;case 92:w+=JE(qE()-1,7);continue;case 47:switch(WE()){case 42:case 47:PE(mI(eI(BE(),qE()),t,n),u);break;default:w+="/"}break;case 123*v:o[l++]=jE(w)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+c:f>0&&jE(w)-d&&PE(f>32?yI(w+";",r,n,d-1):yI(IE(w," ","")+";",r,n,d-2),u);break;case 59:w+=";";default:if(PE(x=vI(w,t,n,l,c,i,o,k,b=[],_=[],d),a),123===g)if(0===c)pI(w,t,x,x,b,a,d,o,_);else switch(h){case 100:case 109:case 115:pI(e,x,x,r&&PE(vI(e,x,x,0,0,i,o,k,i,b=[],d),_),i,_,d,o,r?b:_);break;default:pI(w,x,x,x,[""],_,0,o,_)}}l=c=f=0,v=y=1,k=w="",d=s;break;case 58:d=1+jE(w),f=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==HE())continue;switch(w+=NE(g),g*v){case 38:y=c>0?1:(w+="\f",-1);break;case 44:o[l++]=(jE(w)-1)*y,y=1;break;case 64:45===WE()&&(w+=$E(BE())),h=WE(),c=d=jE(k=w+=tI(qE())),g++;break;case 45:45===p&&2==jE(w)&&(v=0)}}return a}function vI(e,t,n,r,i,a,s,o,u,l,c){for(var d=i-1,h=0===i?a:[""],f=RE(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=DE(e,d+1,d=wE(v=s[p])),k=e;y<f;++y)(k=EE(v>0?h[y]+" "+g:IE(g,/&\f/g,h[y])))&&(u[m++]=k);return VE(e,t,n,0===i?sI:o,u,l,c)}function mI(e,t,n){return VE(e,t,n,aI,NE(FE),DE(e,2,-2),0)}function yI(e,t,n,r){return VE(e,t,n,oI,DE(e,0,r),DE(e,r+1,-1),r)}var gI=function(e,t,n){for(var r=0,i=0;r=i,i=WE(),38===r&&12===i&&(t[n]=1),!GE(i);)BE();return YE(e,ME)},kI=function(e,t){return QE(function(e,t){var n=-1,r=44;do{switch(GE(r)){case 0:38===r&&12===WE()&&(t[n]=1),e[n]+=gI(ME-1,t,n);break;case 2:e[n]+=$E(r);break;case 4:if(44===r){e[++n]=58===WE()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=NE(r)}}while(r=BE());return e}(KE(e),t))},bI=new WeakMap,_I=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||bI.get(n))&&!r){bI.set(e,!0);for(var i=[],a=kI(t,i),s=n.props,o=0,u=0;o<a.length;o++)for(var l=0;l<s.length;l++,u++)e.props[u]=i[o]?a[o].replace(/&\f/g,s[l]):s[l]+" "+a[o]}}},xI=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},wI=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case oI:e.return=dI(e.value,e.length);break;case uI:return lI([zE(e,{value:IE(e.value,"@","@"+iI)})],r);case sI:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lI([zE(e,{props:[IE(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return lI([zE(e,{props:[IE(t,/:(plac\w+)/,":-webkit-input-$1")]}),zE(e,{props:[IE(t,/:(plac\w+)/,":-moz-$1")]}),zE(e,{props:[IE(t,/:(plac\w+)/,nI+"input-$1")]})],r)}return""}))}}],NI=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||wI;var i,a,s={},o=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;o.push(e)}));var u=[_I,xI];var l,c=[cI,hI((function(e){l.insert(e)}))],d=function(e){var t=RE(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}(u.concat(r,c));a=function(e,t,n,r){l=n,lI(fI(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new xE({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(o),h};function SI(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var EI=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},II=function(e,t,n){EI(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var CI=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},TI={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var DI=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},jI=/[A-Z]|^ms/g,RI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PI=function(e){return 45===e.charCodeAt(1)},AI=function(e){return null!=e&&"boolean"!==typeof e},OI=DI((function(e){return PI(e)?e:e.replace(jI,"-$&").toLowerCase()})),LI=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(RI,(function(e,t,n){return FI={name:t,styles:n,next:FI},t}))}return 1===TI[e]||PI(e)||"number"!==typeof t||0===t?t:t+"px"};function MI(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return FI={name:n.name,styles:n.styles,next:FI},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)FI={name:r.name,styles:r.styles,next:FI},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=MI(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":AI(s)&&(r+=OI(a)+":"+LI(a,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var o=MI(e,t,s);switch(a){case"animation":case"animationName":r+=OI(a)+":"+o+";";break;default:r+=a+"{"+o+"}"}}else for(var u=0;u<s.length;u++)AI(s[u])&&(r+=OI(a)+":"+LI(a,s[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=FI,a=n(e);return FI=i,MI(e,t,a)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var FI,UI=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var VI=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";FI=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=MI(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)i+=MI(n,t,e[s]),r&&(i+=a[s]);UI.lastIndex=0;for(var o,u="";null!==(o=UI.exec(i));)u+="-"+o[1];return{name:CI(i)+u,styles:i,next:FI}},zI={}.hasOwnProperty,HI=(0,r.createContext)("undefined"!==typeof HTMLElement?NI({key:"css"}):null);var BI=HI.Provider,WI=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(HI);return e(t,i,n)}))},qI=(0,r.createContext)({});var YI=i.useInsertionEffect?i.useInsertionEffect:function(e){e()};function GI(e){YI(e)}var KI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QI=function(e,t){var n={};for(var r in t)zI.call(t,r)&&(n[r]=t[r]);return n[KI]=e,n},$I=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;EI(t,n,r);GI((function(){return II(t,n,r)}));return null},XI=WI((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[KI],s=[i],o="";"string"===typeof e.className?o=SI(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var u=VI(s,void 0,(0,r.useContext)(qI));o+=t.key+"-"+u.name;var l={};for(var c in e)zI.call(e,c)&&"css"!==c&&c!==KI&&(l[c]=e[c]);return l.ref=n,l.className=o,(0,r.createElement)(r.Fragment,null,(0,r.createElement)($I,{cache:t,serialized:u,isStringTag:"string"===typeof a}),(0,r.createElement)(a,l))}));n(110);var JI=function(e,t){var n=arguments;if(null==t||!zI.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=XI,a[1]=QI(e,t);for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)};i.useInsertionEffect?i.useInsertionEffect:r.useLayoutEffect;function ZI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VI(t)}var eC=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var s=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))s=e(a);else for(var o in s="",a)a[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=a}s&&(i&&(i+=" "),i+=s)}}return i};function tC(e,t,n){var r=[],i=SI(e,r,n);return r.length<2?n:i+t(r)}var nC=function(e){var t=e.cache,n=e.serializedArr;GI((function(){for(var e=0;e<n.length;e++)II(t,n[e],!1)}));return null},rC=WI((function(e,t){var n=[],i=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=VI(r,t.registered);return n.push(a),EI(t,a,!1),t.key+"-"+a.name},a={css:i,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tC(t.registered,i,eC(n))},theme:(0,r.useContext)(qI)},s=e.children(a);return!0,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(nC,{cache:t,serializedArr:n}),s)}));function iC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var aC=n(164);function sC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oC(Object(n),!0).forEach((function(t){sC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lC(e){return lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lC(e)}function cC(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lC(e);if(t){var i=lC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cC(this,n)}}var hC=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fC=function(){};function pC(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function vC(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(pC(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var mC=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===$(e)&&null!==e?[e]:[];var t},yC=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,uC({},iC(e,hC))};function gC(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function kC(e){return gC(e)?window.pageYOffset:e.scrollTop}function bC(e,t){gC(e)?window.scrollTo(0,t):e.scrollTop=t}function _C(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function xC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fC,i=kC(e),a=t-i,s=10,o=0;function u(){var t=_C(o+=s,i,a,n);bC(e,t),o<n?window.requestAnimationFrame(u):r(e)}u()}function wC(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var NC=!1,SC={get passive(){return NC=!0}},EC="undefined"!==typeof window?window:{};EC.addEventListener&&EC.removeEventListener&&(EC.addEventListener("p",fC,SC),EC.removeEventListener("p",fC,!1));var IC=NC;function CC(e){return null!=e}function TC(e,t,n){return e?t:n}function DC(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,s=e.isFixedPosition,o=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),h=d.bottom,f=d.height,p=d.top,v=n.offsetParent.getBoundingClientRect().top,m=s?window.innerHeight:function(e){return gC(e)?window.innerHeight:e.clientHeight}(u),y=kC(u),g=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),b=v-k,_=m-p,x=b+y,w=c-y-p,N=h-m+y+g,S=y+p-k,E=160;switch(i){case"auto":case"bottom":if(_>=f)return{placement:"bottom",maxHeight:t};if(w>=f&&!s)return a&&xC(u,N,E),{placement:"bottom",maxHeight:t};if(!s&&w>=r||s&&_>=r)return a&&xC(u,N,E),{placement:"bottom",maxHeight:s?_-g:w-g};if("auto"===i||s){var I=t,C=s?b:x;return C>=r&&(I=Math.min(C-g-o.controlHeight,t)),{placement:"top",maxHeight:I}}if("bottom"===i)return a&&bC(u,N),{placement:"bottom",maxHeight:t};break;case"top":if(b>=f)return{placement:"top",maxHeight:t};if(x>=f&&!s)return a&&xC(u,S,E),{placement:"top",maxHeight:t};if(!s&&x>=r||s&&b>=r){var T=t;return(!s&&x>=r||s&&b>=r)&&(T=s?b-k:x-k),a&&xC(u,S,E),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}var jC=function(e){return"auto"===e?"bottom":e},RC=(0,r.createContext)({getPortalPlacement:null}),PC=function(e){ae(n,e);var t=dC(n);function n(){var e;ce(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,a=n.menuPlacement,s=n.menuPosition,o=n.menuShouldScrollIntoView,u=n.theme;if(t){var l="fixed"===s,c=DC({maxHeight:i,menuEl:t,minHeight:r,placement:a,shouldScroll:o&&!l,isFixedPosition:l,theme:u}),d=e.context.getPortalPlacement;d&&d(c),e.setState(c)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||jC(t);return uC(uC({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return he(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(r.Component);PC.contextType=RC;var AC=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},OC=AC,LC=AC,MC=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return JI("div",l({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};MC.defaultProps={children:"No options"};var FC=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return JI("div",l({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};FC.defaultProps={children:"Loading..."};var UC,VC=function(e){ae(n,e);var t=dC(n);function n(){var e;ce(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==jC(e.props.menuPlacement)&&e.setState({placement:n})},e}return he(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,a=e.cx,s=e.innerProps,o=e.menuPlacement,u=e.menuPosition,c=e.getStyles,d="fixed"===u;if(!t&&!d||!i)return null;var h=this.state.placement||jC(o),f=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),p=d?0:window.pageYOffset,v=f[h]+p,m=JI("div",l({css:c("menuPortal",{offset:v,position:u,rect:f}),className:a({"menu-portal":!0},r)},s),n);return JI(RC.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,aC.createPortal)(m,t):m)}}]),n}(r.Component),zC=["size"];var HC,BC,WC={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},qC=function(e){var t=e.size,n=iC(e,zC);return JI("svg",l({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:WC},n))},YC=function(e){return JI(qC,l({size:20},e),JI("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},GC=function(e){return JI(qC,l({size:20},e),JI("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},KC=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},QC=KC,$C=KC,XC=function(){var e=ZI.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(UC||(HC=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],BC||(BC=HC.slice(0)),UC=Object.freeze(Object.defineProperties(HC,{raw:{value:Object.freeze(BC)}})))),JC=function(e){var t=e.delay,n=e.offset;return JI("span",{css:ZI({animation:"".concat(XC," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ZC=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,a=e.isRtl;return JI("div",l({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),JI(JC,{delay:0,offset:a}),JI(JC,{delay:160,offset:!0}),JI(JC,{delay:320,offset:!a}))};ZC.defaultProps={size:4};var eT=["data"],tT=["innerRef","isDisabled","isHidden","inputClassName"],nT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rT={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":uC({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nT)},iT=function(e){return uC({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},nT)},aT=function(e){var t=e.children,n=e.innerProps;return JI("div",n,t)};var sT={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return JI("div",l({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},a),t||JI(YC,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,a=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,c=e.menuIsOpen;return JI("div",l({ref:o,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":c},i)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return JI("div",l({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},a),t||JI(GC,null))},DownChevron:GC,CrossIcon:YC,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.Heading,s=e.headingProps,o=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return JI("div",l({css:i("group",e),className:r({group:!0},n)},o),JI(a,l({},s,{selectProps:d,theme:c,getStyles:i,cx:r}),u),JI("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=yC(e);i.data;var a=iC(i,eT);return JI("div",l({css:t("groupHeading",e),className:n({"group-heading":!0},r)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.getStyles;return JI("div",l({css:a("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return JI("span",l({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.value,a=yC(e),s=a.innerRef,o=a.isDisabled,u=a.isHidden,c=a.inputClassName,d=iC(a,tT);return JI("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":i||""},JI("input",l({className:n({input:!0},c),ref:s,style:iT(u),disabled:o},d)))},LoadingIndicator:ZC,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerRef,s=e.innerProps;return JI("div",l({css:i("menu",e),className:r({menu:!0},n),ref:a},s),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,s=e.innerRef,o=e.isMulti;return JI("div",l({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":o},n),ref:s},a),t)},MenuPortal:VC,LoadingMessage:FC,NoOptionsMessage:MC,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,a=e.data,s=e.getStyles,o=e.innerProps,u=e.isDisabled,l=e.removeProps,c=e.selectProps,d=r.Container,h=r.Label,f=r.Remove;return JI(rC,null,(function(r){var p=r.css,v=r.cx;return JI(d,{data:a,innerProps:uC({className:v(p(s("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":u},n))},o),selectProps:c},JI(h,{data:a,innerProps:{className:v(p(s("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:c},t),JI(f,{data:a,innerProps:uC({className:v(p(s("multiValueRemove",e)),i({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},l),selectProps:c}))}))},MultiValueContainer:aT,MultiValueLabel:aT,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return JI("div",l({role:"button"},n),t||JI(YC,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,c=e.innerProps;return JI("div",l({css:i("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":o},n),ref:u,"aria-disabled":a},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return JI("div",l({css:i("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,s=e.isDisabled,o=e.isRtl;return JI("div",l({css:i("container",e),className:r({"--is-disabled":s,"--is-rtl":o},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,s=e.innerProps;return JI("div",l({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},s),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.isMulti,s=e.getStyles,o=e.hasValue;return JI("div",l({css:s("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o},n)},i),t)}},oT=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var uT=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function lT(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||uT(r)&&uT(i)))return!1;var r,i;return!0}var cT=function(e,t){var n;void 0===t&&(t=lT);var r,i=[],a=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return a&&n===this&&t(s,i)||(r=e.apply(this,s),a=!0,n=this,i=s),r}};for(var dT={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hT=function(e){return JI("span",l({css:dT},e))},fT={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,a=void 0===i?"":i,s=e.selectValue,o=e.isDisabled,u=e.isSelected,l=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(a," focused, ").concat(l(s,n),".");if("menu"===t){var c=o?" disabled":"",d="".concat(u?"selected":"focused").concat(c);return"option ".concat(a," ").concat(d,", ").concat(l(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},pT=function(e){var t=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,s=e.isFocused,o=e.selectValue,u=e.selectProps,l=e.id,c=u.ariaLiveMessages,d=u.getOptionLabel,h=u.inputValue,f=u.isMulti,p=u.isOptionDisabled,v=u.isSearchable,m=u.menuIsOpen,y=u.options,g=u.screenReaderStatus,k=u.tabSelectsValue,b=u["aria-label"],_=u["aria-live"],x=(0,r.useMemo)((function(){return uC(uC({},fT),c||{})}),[c]),w=(0,r.useMemo)((function(){var e="";if(t&&x.onChange){var n=t.option,r=t.options,i=t.removedValue,a=t.removedValues,s=t.value,u=i||n||function(e){return Array.isArray(e)?null:e}(s),l=u?d(u):"",c=r||a||void 0,h=c?c.map(d):[],f=uC({isDisabled:u&&p(u,o),label:l,labels:h},t);e=x.onChange(f)}return e}),[t,x,p,o,d]),N=(0,r.useMemo)((function(){var e="",t=n||i,r=!!(n&&o&&o.includes(n));if(t&&x.onFocus){var a={focused:t,label:d(t),isDisabled:p(t,o),isSelected:r,options:y,context:t===n?"menu":"value",selectValue:o};e=x.onFocus(a)}return e}),[n,i,d,p,x,y,o]),S=(0,r.useMemo)((function(){var e="";if(m&&y.length&&x.onFilter){var t=g({count:a.length});e=x.onFilter({inputValue:h,resultsMessage:t})}return e}),[a,h,m,x,y,g]),E=(0,r.useMemo)((function(){var e="";if(x.guidance){var t=i?"value":m?"menu":"input";e=x.guidance({"aria-label":b,context:t,isDisabled:n&&p(n,o),isMulti:f,isSearchable:v,tabSelectsValue:k})}return e}),[b,n,i,f,p,v,m,x,o,k]),I="".concat(N," ").concat(S," ").concat(E),C=JI(r.Fragment,null,JI("span",{id:"aria-selection"},w),JI("span",{id:"aria-context"},I)),T="initial-input-focus"===(null===t||void 0===t?void 0:t.action);return JI(r.Fragment,null,JI(hT,{id:l},T&&C),JI(hT,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text"},s&&!T&&C))},vT=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],mT=new RegExp("["+vT.map((function(e){return e.letters})).join("")+"]","g"),yT={},gT=0;gT<vT.length;gT++)for(var kT=vT[gT],bT=0;bT<kT.letters.length;bT++)yT[kT.letters[bT]]=kT.base;var _T=function(e){return e.replace(mT,(function(e){return yT[e]}))},xT=cT(_T),wT=function(e){return e.replace(/^\s+|\s+$/g,"")},NT=function(e){return"".concat(e.label," ").concat(e.value)},ST=["innerRef"];function ET(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=u(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(iC(e,ST),"onExited","in","enter","exit","appear");return JI("input",l({ref:t},n,{css:ZI({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var IT=["boxSizing","height","overflow","paddingRight","position"],CT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function TT(e){e.preventDefault()}function DT(e){e.stopPropagation()}function jT(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function RT(){return"ontouchstart"in window||navigator.maxTouchPoints}var PT=!("undefined"===typeof window||!window.document||!window.document.createElement),AT=0,OT={capture:!1,passive:!1};var LT=function(){return document.activeElement&&document.activeElement.blur()},MT={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function FT(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,s=e.onTopLeave,o=(0,r.useRef)(!1),u=(0,r.useRef)(!1),l=(0,r.useRef)(0),c=(0,r.useRef)(null),d=(0,r.useCallback)((function(e,t){if(null!==c.current){var r=c.current,l=r.scrollTop,d=r.scrollHeight,h=r.clientHeight,f=c.current,p=t>0,v=d-h-l,m=!1;v>t&&o.current&&(i&&i(e),o.current=!1),p&&u.current&&(s&&s(e),u.current=!1),p&&t>v?(n&&!o.current&&n(e),f.scrollTop=d,m=!0,o.current=!0):!p&&-t>l&&(a&&!u.current&&a(e),f.scrollTop=0,m=!0,u.current=!0),m&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,i,a,s]),h=(0,r.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,r.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=(0,r.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;d(e,t)}),[d]),v=(0,r.useCallback)((function(e){if(e){var t=!!IC&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,h]),m=(0,r.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,h]);return(0,r.useEffect)((function(){if(t){var e=c.current;return v(e),function(){m(e)}}}),[t,v,m]),function(e){c.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var t=e.isEnabled,n=e.accountForScrollbars,i=void 0===n||n,a=(0,r.useRef)({}),s=(0,r.useRef)(null),o=(0,r.useCallback)((function(e){if(PT){var t=document.body,n=t&&t.style;if(i&&IT.forEach((function(e){var t=n&&n[e];a.current[e]=t})),i&&AT<1){var r=parseInt(a.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,o=window.innerWidth-s+r||0;Object.keys(CT).forEach((function(e){var t=CT[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(o,"px"))}t&&RT()&&(t.addEventListener("touchmove",TT,OT),e&&(e.addEventListener("touchstart",jT,OT),e.addEventListener("touchmove",DT,OT))),AT+=1}}),[i]),u=(0,r.useCallback)((function(e){if(PT){var t=document.body,n=t&&t.style;AT=Math.max(AT-1,0),i&&AT<1&&IT.forEach((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&RT()&&(t.removeEventListener("touchmove",TT,OT),e&&(e.removeEventListener("touchstart",jT,OT),e.removeEventListener("touchmove",DT,OT)))}}),[i]);return(0,r.useEffect)((function(){if(t){var e=s.current;return o(e),function(){u(e)}}}),[t,o,u]),function(e){s.current=e}}({isEnabled:n});return JI(r.Fragment,null,n&&JI("div",{onClick:LT,css:MT}),t((function(e){a(e),s(e)})))}var UT={clearIndicator:$C,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,a=r.borderRadius,s=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:QC,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,i=r.spacing,a=r.colors;return uC({margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80,transform:n?"translateZ(0)":""},rT)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:LC,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,a=r.spacing,s=r.colors;return pe(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),pe(t,"backgroundColor",s.neutral0),pe(t,"borderRadius",i),pe(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),pe(t,"marginBottom",a.menuGutter),pe(t,"marginTop",a.menuGutter),pe(t,"position","absolute"),pe(t,"width","100%"),pe(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?i.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:OC,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,a=i.spacing,s=i.colors;return{label:"option",backgroundColor:r?s.primary:n?s.primary25:"transparent",color:t?s.neutral20:r?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?s.primary:s.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,i=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&i?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var VT,zT={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},HT={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:wC(),captureMenuScroll:!wC(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=uC({ignoreCase:!0,ignoreAccents:!0,stringify:NT,trim:!0,matchFrom:"any"},VT),r=n.ignoreCase,i=n.ignoreAccents,a=n.stringify,s=n.trim,o=n.matchFrom,u=s?wT(t):t,l=s?wT(a(e)):a(e);return r&&(u=u.toLowerCase(),l=l.toLowerCase()),i&&(u=xT(u),l=_T(l)),"start"===o?l.substr(0,u.length)===u:l.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function BT(e,t,n,r){return{type:"option",data:t,isDisabled:QT(e,t,n),isSelected:$T(e,t,n),label:GT(e,t),value:KT(e,t),index:r}}function WT(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return BT(e,n,t,r)})).filter((function(t){return YT(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=BT(e,n,t,r);return YT(e,a)?a:void 0})).filter(CC)}function qT(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,fe(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function YT(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,s=t.label,o=t.value;return(!JT(e)||!a)&&XT(e,{label:s,value:o,data:i},r)}var GT=function(e,t){return e.getOptionLabel(t)},KT=function(e,t){return e.getOptionValue(t)};function QT(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function $T(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=KT(e,t);return n.some((function(t){return KT(e,t)===r}))}function XT(e,t,n){return!e.filterOption||e.filterOption(t,n)}var JT=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ZT=1,eD=function(e){ae(n,e);var t=dC(n);function n(e){var r;return ce(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,a=n.name;t.name=a,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,a=i.closeMenuOnSelect,s=i.isMulti,o=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:o}),a&&(r.setState({inputIsHiddenAfterUpdate:!s}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,a=t.name,s=r.state.selectValue,o=i&&r.isOptionSelected(e,s),u=r.isOptionDisabled(e,s);if(o){var l=r.getOptionValue(e);r.setValue(s.filter((function(e){return r.getOptionValue(e)!==l})),"deselect-option",e)}else{if(u)return void r.ariaOnChange(e,{action:"select-option",option:e,name:a});i?r.setValue([].concat(fe(s),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),a=n.filter((function(e){return r.getOptionValue(e)!==i})),s=TC(t,a,a[0]||null);r.onChange(s,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(TC(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),a=TC(e,i,i[0]||null);r.onChange(a,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vC.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return GT(r.props,e)},r.getOptionValue=function(e){return KT(r.props,e)},r.getStyles=function(e,t){var n=UT[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,uC(uC({},sT),e.components);var e},r.buildCategorizedOptions=function(){return WT(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return qT(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:uC({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!r.props.isDisabled){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"===typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&gC(e.target)&&r.props.onMenuClose():"function"===typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),a=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||a>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return JT(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,a=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,u=t.isDisabled,l=t.menuIsOpen,c=t.onKeyDown,d=t.tabSelectsValue,h=t.openMenuOnFocus,f=r.state,p=f.focusedOption,v=f.focusedValue,m=f.selectValue;if(!u&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;r.focusValue("previous");break;case"ArrowRight":if(!n||s)return;r.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(v)r.removeValue(v);else{if(!i)return;n?r.popValue():o&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!l||!d||!p||h&&r.isOptionSelected(p,m))return;r.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(r.isComposing)return;r.selectOption(p);break}return;case"Escape":l?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:s}),r.onMenuClose()):o&&a&&r.clearValue();break;case" ":if(s)return;if(!l){r.openMenu("first");break}if(!p)return;r.selectOption(p);break;case"ArrowUp":l?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":l?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!l)return;r.focusOption("pageup");break;case"PageDown":if(!l)return;r.focusOption("pagedown");break;case"Home":if(!l)return;r.focusOption("first");break;case"End":if(!l)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++ZT),r.state.selectValue=mC(e.value),r}return he(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?bC(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&bC(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),s="first"===e?0:a.length-1;if(!this.props.isMulti){var o=a.indexOf(r[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[s]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(zT):uC(uC({},zT),this.props.theme):zT}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,a=this.setValue,s=this.props,o=s.isMulti,u=s.isRtl,l=s.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:o,isRtl:u,options:l,selectOption:i,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return QT(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return $T(this.props,e,t)}},{key:"filterOption",value:function(e,t){return XT(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,a=e.inputValue,s=e.tabIndex,o=e.form,u=e.menuIsOpen,c=this.getComponents().Input,d=this.state,h=d.inputIsHidden,f=d.ariaSelection,p=this.commonProps,v=i||this.getElementId("input"),m=uC(uC(uC({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},u&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,l({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:t,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:o,type:"text",value:a},m)):r.createElement(ET,l({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fC,onFocus:this.onInputFocus,disabled:t,tabIndex:s,inputMode:"none",form:o,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,i=t.MultiValueContainer,a=t.MultiValueLabel,s=t.MultiValueRemove,o=t.SingleValue,u=t.Placeholder,c=this.commonProps,d=this.props,h=d.controlShouldRenderValue,f=d.isDisabled,p=d.isMulti,v=d.inputValue,m=d.placeholder,y=this.state,g=y.selectValue,k=y.focusedValue,b=y.isFocused;if(!this.hasValue()||!h)return v?null:r.createElement(u,l({},c,{key:"placeholder",isDisabled:f,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return g.map((function(t,o){var u=t===k,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,l({},c,{components:{Container:i,Label:a,Remove:s},isFocused:u,isDisabled:f,key:d,index:o,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(v)return null;var _=g[0];return r.createElement(o,l({},c,{data:_,isDisabled:f}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,l({},t,{innerProps:o,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,s=this.state.isFocused;if(!e||!a)return null;return r.createElement(e,l({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,a=this.props.isDisabled,s=this.state.isFocused;return r.createElement(n,l({},i,{isDisabled:a,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,l({},t,{innerProps:a,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,a=t.Menu,s=t.MenuList,o=t.MenuPortal,u=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,h=this.commonProps,f=this.state.focusedOption,p=this.props,v=p.captureMenuScroll,m=p.inputValue,y=p.isLoading,g=p.loadingMessage,k=p.minMenuHeight,b=p.maxMenuHeight,_=p.menuIsOpen,x=p.menuPlacement,w=p.menuPosition,N=p.menuPortalTarget,S=p.menuShouldBlockScroll,E=p.menuShouldScrollIntoView,I=p.noOptionsMessage,C=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!_)return null;var D,j=function(t,n){var i=t.type,a=t.data,s=t.isDisabled,o=t.isSelected,u=t.label,c=t.value,p=f===a,v=s?void 0:function(){return e.onOptionHover(a)},m=s?void 0:function(){return e.selectOption(a)},y="".concat(e.getElementId("option"),"-").concat(n),g={id:y,onClick:m,onMouseMove:v,onMouseOver:v,tabIndex:-1};return r.createElement(d,l({},h,{innerProps:g,data:a,isDisabled:s,isSelected:o,key:y,label:u,type:i,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())D=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,s=t.options,o=t.index,u="".concat(e.getElementId("group"),"-").concat(o),c="".concat(u,"-heading");return r.createElement(n,l({},h,{key:u,data:a,options:s,Heading:i,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return j(e,"".concat(o,"-").concat(e.index))})))}if("option"===t.type)return j(t,"".concat(t.index))}));else if(y){var R=g({inputValue:m});if(null===R)return null;D=r.createElement(u,h,R)}else{var P=I({inputValue:m});if(null===P)return null;D=r.createElement(c,h,P)}var A={minMenuHeight:k,maxMenuHeight:b,menuPlacement:x,menuPosition:w,menuShouldScrollIntoView:E},O=r.createElement(PC,l({},h,A),(function(t){var n=t.ref,i=t.placerProps,o=i.placement,u=i.maxHeight;return r.createElement(a,l({},h,A,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:y,placement:o}),r.createElement(FT,{captureEnabled:v,onTopArrive:C,onBottomArrive:T,lockEnabled:S},(function(t){return r.createElement(s,l({},h,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:y,maxHeight:u,focusedOption:f}),D)})))}));return N||"fixed"===w?r.createElement(o,l({},h,{appendTo:N,controlElement:this.controlRef,menuPlacement:x,menuPosition:w}),O):O}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,a=t.isMulti,s=t.name,o=this.state.selectValue;if(s&&!i){if(a){if(n){var u=o.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:s,type:"hidden",value:u})}var l=o.length>0?o.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:s,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:s,type:"hidden"});return r.createElement("div",null,l)}var c=o[0]?this.getOptionValue(o[0]):"";return r.createElement("input",{name:s,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,s=t.isFocused,o=t.selectValue,u=this.getFocusableOptions();return r.createElement(pT,l({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:i,focusedValue:a,isFocused:s,selectValue:o,focusableOptions:u}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,s=this.props,o=s.className,u=s.id,c=s.isDisabled,d=s.menuIsOpen,h=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.createElement(i,l({},f,{className:o,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),r.createElement(t,l({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:d}),r.createElement(a,l({},f,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,l({},f,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,s=t.isFocused,o=t.prevWasFocused,u=e.options,l=e.value,c=e.menuIsOpen,d=e.inputValue,h=e.isMulti,f=mC(l),p={};if(n&&(l!==n.value||u!==n.options||c!==n.menuIsOpen||d!==n.inputValue)){var v=c?function(e,t){return qT(WT(e,t))}(e,f):[],m=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,f):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);p={selectValue:f,focusedOption:y,focusedValue:m,clearFocusValueOnUpdate:!1}}var g=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},k=a,b=s&&o;return s&&!b&&(k={value:TC(h,f,f[0]||null),options:f,action:"initial-input-focus"},b=!o),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(k=null),uC(uC(uC({},p),g),{},{prevProps:e,ariaSelection:k,prevWasFocused:b})}}]),n}(r.Component);eD.defaultProps=HT;var tD=(0,r.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,i=e.defaultMenuIsOpen,a=void 0!==i&&i,s=e.defaultValue,o=void 0===s?null:s,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,h=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,v=e.value,m=iC(e,oT),y=u((0,r.useState)(void 0!==l?l:n),2),g=y[0],k=y[1],b=u((0,r.useState)(void 0!==c?c:a),2),_=b[0],x=b[1],w=u((0,r.useState)(void 0!==v?v:o),2),N=w[0],S=w[1],E=(0,r.useCallback)((function(e,t){"function"===typeof d&&d(e,t),S(e)}),[d]),I=(0,r.useCallback)((function(e,t){var n;"function"===typeof h&&(n=h(e,t)),k(void 0!==n?n:e)}),[h]),C=(0,r.useCallback)((function(){"function"===typeof p&&p(),x(!0)}),[p]),T=(0,r.useCallback)((function(){"function"===typeof f&&f(),x(!1)}),[f]),D=void 0!==l?l:g,j=void 0!==c?c:_,R=void 0!==v?v:N;return uC(uC({},m),{},{inputValue:D,menuIsOpen:j,onChange:E,onInputChange:I,onMenuClose:T,onMenuOpen:C,value:R})}(e);return r.createElement(eD,l({ref:t},n))})),nD=(r.Component,tD),rD=[{value:"",label:"Choose"},{value:"yes",label:"Yes"},{value:"no",label:"No"}],iD=function(e){return(0,GS.jsxs)(eE,{error:e.consentError,children:[(0,GS.jsxs)("div",{className:"expense-category",children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Employee Concent",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("p",{className:"para",style:{fontSize:"12px"},children:"I Agree that the expense submitted by me are approved by policy or explicit approval was obtained before the expense was made for official purpose. Information Submitted herewith is correct to best of my knowledge. I have also ensured that this is not duplicate submission for reimbursement."}),(0,GS.jsx)(nD,{options:rD,value:e.consent,onChange:e.handleConsent,placeholder:"Choose"})]}),e.consentError?(0,GS.jsx)("p",{style:{fontSize:"15px",color:"red",fontFamily:"Patrick Hand",fontWeight:"500"},children:"This is a required Question"}):null]})},aD=function(e){return(0,GS.jsx)(eE,{error:e.emailError,children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("h3",{className:"formHeading-h3",children:"Paid By/To (Email Id)"}),(0,GS.jsx)("p",{className:"para",style:{fontSize:"12px"},children:"Enter the email id of the person to whom the amount to be reimbursed (use this if you are filling the form on someone's behalf otherwise leave it empty)"}),(0,GS.jsx)("input",{type:"text",onChange:e.handleEmail,placeholder:"Your Answer",className:"expenseInput",value:e.emailId,name:e.name}),e.emailError&&(0,GS.jsx)("p",{style:{color:"red",fontSize:"15px",fontFamily:"Patrick Hand",fontWeight:"500"},children:e.emailError})]})})},sD=function(e){return(0,GS.jsx)(eE,{error:e.invoiceDateError,children:(0,GS.jsxs)("div",{children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Invoice Date",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("label",{className:"label",children:"Date"}),(0,GS.jsxs)("div",{className:"invoiceDateDiv",children:[(0,GS.jsx)("input",{type:"date",onChange:e.handleInvoiceDateChange,value:e.invoiceDate,className:"expenseInput",max:hE()().format("YYYY-MM-DD"),onKeyDown:e.disableKeyDown,name:e.name}),(0,GS.jsx)("button",{onClick:e.sameExpenseDateHandler,className:"sameAsExpenseButton",children:"Same as Expense"})]}),e.invoiceDateError?(0,GS.jsx)("p",{style:{fontSize:"14px",color:"red",fontFamily:"Patrick Hand",fontWeight:"500"},children:"This is a required Question"}):null]})})},oD=function(e){return(0,GS.jsx)("div",{children:(0,GS.jsx)("input",{type:"text",name:"fireUrl",defaultValue:e.docUrl,disabled:!0,hidden:!0})})};function uD(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=uD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var lD=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=uD(e))&&(r&&(r+=" "),r+=t);return r},cD=["theme","type"],dD=["delay","staleId"];function hD(e){return"number"===typeof e&&!isNaN(e)}function fD(e){return"boolean"===typeof e}function pD(e){return"string"===typeof e}function vD(e){return"function"===typeof e}function mD(e){return pD(e)||vD(e)?e:null}function yD(e){return null!=e}function gD(e){return(0,r.isValidElement)(e)||pD(e)||vD(e)||hD(e)}var kD={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},bD={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function _D(e){var t=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,s=e.collapse,o=void 0===s||s,u=e.collapseDuration,l=void 0===u?300:u;return function(e){var i=e.children,s=e.position,u=e.preventExitTransition,c=e.done,d=e.nodeRef,h=e.isIn,f=a?t+"--"+s:t,p=a?n+"--"+s:n,v=(0,r.useRef)(0);return(0,r.useLayoutEffect)((function(){var e=d.current,t=f.split(" "),n=function n(r){var i;r.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===v.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,fe(t)))};!function(){var r;(r=e.classList).add.apply(r,fe(t)),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}()}),[]),(0,r.useEffect)((function(){var e=d.current,t=function t(){e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,l):c()};h||(u?t():(v.current=1,e.className+=" "+p,e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,i)}}function xD(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var wD={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,fe([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},ND=function(e){var t=e.theme,n=e.type,i=iC(e,cD);return r.createElement("svg",xt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},i))};var SD={info:function(e){return r.createElement(ND,xt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(ND,xt({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(ND,xt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(ND,xt({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function ED(e){var t=e.theme,n=e.type,i=e.isLoading,a=e.icon,s=null,o={theme:t,type:n};return!1===a||(vD(a)?s=a(o):(0,r.isValidElement)(a)?s=(0,r.cloneElement)(a,o):pD(a)||hD(a)?s=a:i?s=SD.spinner():function(e){return e in SD}(n)&&(s=SD[n](o))),s}function ID(e){var t=(0,r.useReducer)((function(e){return e+1}),0),n=u(t,2)[1],i=u((0,r.useState)([]),2),a=i[0],s=i[1],o=(0,r.useRef)(null),l=(0,r.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},d=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return l.get(e)}}).current;function h(e){var t=e.containerId;!d.props.limit||t&&d.containerId!==t||(d.count-=d.queue.length,d.queue=[])}function f(e){s((function(t){return yD(e)?t.filter((function(t){return t!==e})):[]}))}function p(){var e=d.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function v(e,t){var i=t.delay,a=t.staleId,s=iC(t,dD);if(gD(e)&&!function(e){return!o.current||d.props.enableMultiContainer&&e.containerId!==d.props.containerId||l.has(e.toastId)&&null==e.updateId}(s)){var u=s.toastId,c=s.updateId,h=s.data,v=d.props,y=function(){return f(u)},g=null==c;g&&d.count++;var k,b,_={toastId:u,updateId:c,data:h,containerId:s.containerId,isLoading:s.isLoading,theme:s.theme||v.theme,icon:null!=s.icon?s.icon:v.icon,isIn:!1,key:s.key||d.toastKey++,type:s.type,closeToast:y,closeButton:s.closeButton,rtl:v.rtl,position:s.position||v.position,transition:s.transition||v.transition,className:mD(s.className||v.toastClassName),bodyClassName:mD(s.bodyClassName||v.bodyClassName),style:s.style||v.toastStyle,bodyStyle:s.bodyStyle||v.bodyStyle,onClick:s.onClick||v.onClick,pauseOnHover:fD(s.pauseOnHover)?s.pauseOnHover:v.pauseOnHover,pauseOnFocusLoss:fD(s.pauseOnFocusLoss)?s.pauseOnFocusLoss:v.pauseOnFocusLoss,draggable:fD(s.draggable)?s.draggable:v.draggable,draggablePercent:s.draggablePercent||v.draggablePercent,draggableDirection:s.draggableDirection||v.draggableDirection,closeOnClick:fD(s.closeOnClick)?s.closeOnClick:v.closeOnClick,progressClassName:mD(s.progressClassName||v.progressClassName),progressStyle:s.progressStyle||v.progressStyle,autoClose:!s.isLoading&&(k=s.autoClose,b=v.autoClose,!1===k||hD(k)&&k>0?k:b),hideProgressBar:fD(s.hideProgressBar)?s.hideProgressBar:v.hideProgressBar,progress:s.progress,role:s.role||v.role,deleteToast:function(){var e=xD(l.get(u),"removed");l.delete(u),wD.emit(4,e);var t=d.queue.length;if(d.count=yD(u)?d.count-1:d.count-d.displayedToast,d.count<0&&(d.count=0),t>0){var r=yD(u)?1:d.props.limit;if(1===t||1===r)d.displayedToast++,p();else{var i=r>t?t:r;d.displayedToast=i;for(var a=0;a<i;a++)p()}}else n()}};_.iconOut=ED(_),vD(s.onOpen)&&(_.onOpen=s.onOpen),vD(s.onClose)&&(_.onClose=s.onClose),_.closeButton=v.closeButton,!1===s.closeButton||gD(s.closeButton)?_.closeButton=s.closeButton:!0===s.closeButton&&(_.closeButton=!gD(v.closeButton)||v.closeButton);var x=e;(0,r.isValidElement)(e)&&!pD(e.type)?x=(0,r.cloneElement)(e,{closeToast:y,toastProps:_,data:h}):vD(e)&&(x=e({closeToast:y,toastProps:_,data:h})),v.limit&&v.limit>0&&d.count>v.limit&&g?d.queue.push({toastContent:x,toastProps:_,staleId:a}):hD(i)?setTimeout((function(){m(x,_,a)}),i):m(x,_,a)}}function m(e,t,n){var r=t.toastId;n&&l.delete(n);var i={content:e,props:t};l.set(r,i),s((function(e){return[].concat(fe(e),[r]).filter((function(e){return e!==n}))})),wD.emit(4,xD(i,null==i.props.updateId?"added":"updated"))}return(0,r.useEffect)((function(){return d.containerId=e.containerId,wD.cancelEmit(3).on(0,v).on(1,(function(e){return o.current&&f(e)})).on(5,h).emit(2,d),function(){l.clear(),wD.emit(3,d)}}),[]),(0,r.useEffect)((function(){d.props=e,d.isToastActive=c,d.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(l.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:o,isToastActive:c}}function CD(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function TD(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function DD(e){var t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=u((0,r.useState)(!1),2),s=a[0],o=a[1],l=(0,r.useRef)(null),c=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=(0,r.useRef)(e),h=e.autoClose,f=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",x),document.addEventListener("touchmove",_),document.addEventListener("touchend",x);var n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=CD(t.nativeEvent),c.y=TD(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?b():k()}}function k(){i(!0)}function b(){i(!1)}function _(t){var r=l.current;c.canDrag&&r&&(c.didMove=!0,n&&b(),c.x=CD(t),c.y=TD(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function x(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",x);var t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,r.useEffect)((function(){d.current=e})),(0,r.useEffect)((function(){return l.current&&l.current.addEventListener("d",k,{once:!0}),vD(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){var e=d.current;vD(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}}),[]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",k),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var w={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return h&&f&&(w.onMouseEnter=b,w.onMouseLeave=k),m&&(w.onClick=function(e){v&&v(e),c.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:n,preventExitTransition:s,toastRef:l,eventHandlers:w}}function jD(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function RD(e){var t=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,s=e.hide,o=e.className,u=e.style,l=e.controlledProgress,c=e.progress,d=e.rtl,h=e.isIn,f=e.theme,p=xt(xt({},u),{},{animationDuration:t+"ms",animationPlayState:n?"running":"paused",opacity:s?0:1});l&&(p.transform="scaleX("+c+")");var v=lD("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+f,"Toastify__progress-bar--"+a,pe({},"Toastify__progress-bar--rtl",d)),m=vD(o)?o({rtl:d,type:a,defaultClassName:v}):lD(v,o),y=pe({},l&&c>=1?"onTransitionEnd":"onAnimationEnd",l&&c<1?null:function(){h&&i()});return r.createElement("div",xt({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:m,style:p},y))}RD.defaultProps={type:bD.DEFAULT,hide:!1};var PD=function(e){var t=DD(e),n=t.isRunning,i=t.preventExitTransition,a=t.toastRef,s=t.eventHandlers,o=e.closeButton,u=e.children,l=e.autoClose,c=e.onClick,d=e.type,h=e.hideProgressBar,f=e.closeToast,p=e.transition,v=e.position,m=e.className,y=e.style,g=e.bodyClassName,k=e.bodyStyle,b=e.progressClassName,_=e.progressStyle,x=e.updateId,w=e.role,N=e.progress,S=e.rtl,E=e.toastId,I=e.deleteToast,C=e.isIn,T=e.isLoading,D=e.iconOut,j=e.theme,R=lD("Toastify__toast","Toastify__toast-theme--"+j,"Toastify__toast--"+d,pe({},"Toastify__toast--rtl",S)),P=vD(m)?m({rtl:S,position:v,type:d,defaultClassName:R}):lD(R,m),A=!!N,O={closeToast:f,type:d,theme:j},L=null;return!1===o||(L=vD(o)?o(O):r.isValidElement(o)?r.cloneElement(o,O):jD(O)),r.createElement(p,{isIn:C,done:I,position:v,preventExitTransition:i,nodeRef:a},r.createElement("div",xt(xt({id:E,onClick:c,className:P},s),{},{style:y,ref:a}),r.createElement("div",xt(xt({},C&&{role:w}),{},{className:vD(g)?g({type:d}):lD("Toastify__toast-body",g),style:k}),null!=D&&r.createElement("div",{className:lD("Toastify__toast-icon",pe({},"Toastify--animate-icon Toastify__zoom-enter",!T))},D),r.createElement("div",null,u)),L,(l||A)&&r.createElement(RD,xt(xt({},x&&!A?{key:"pb-"+x}:{}),{},{rtl:S,theme:j,delay:l,isRunning:n,isIn:C,closeToast:f,hide:h,type:d,style:_,className:b,controlledProgress:A,progress:N}))))},AD=_D({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),OD=(_D({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),_D({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),_D({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,r.forwardRef)((function(e,t){var n=ID(e),i=n.getToastToRender,a=n.containerRef,s=n.isToastActive,o=e.className,u=e.style,l=e.rtl,c=e.containerId;function d(e){var t=lD("Toastify__toast-container","Toastify__toast-container--"+e,pe({},"Toastify__toast-container--rtl",l));return vD(o)?o({position:e,rtl:l,defaultClassName:t}):lD(t,mD(o))}return(0,r.useEffect)((function(){t&&(t.current=a.current)}),[]),r.createElement("div",{ref:a,className:"Toastify",id:c},i((function(e,t){var n=t.length?xt({},u):xt(xt({},u),{},{pointerEvents:"none"});return r.createElement("div",{className:d(e),style:n,key:"container-"+e},t.map((function(e,n){var i=e.content,a=e.props;return r.createElement(PD,xt(xt({},a),{},{isIn:s(a.toastId),style:xt(xt({},a.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-"+a.key}),i)})))})))})));OD.displayName="ToastContainer",OD.defaultProps={position:kD.TOP_RIGHT,transition:AD,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:jD,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var LD,MD=new Map,FD=[];function UD(){return Math.random().toString(36).substring(2,9)}function VD(e){return e&&(pD(e.toastId)||hD(e.toastId))?e.toastId:UD()}function zD(e,t){return MD.size>0?wD.emit(0,e,t):FD.push({content:e,options:t}),t.toastId}function HD(e,t){return xt(xt({},t),{},{type:t&&t.type||e,toastId:VD(t)})}function BD(e){return function(t,n){return zD(t,HD(e,n))}}function WD(e,t){return zD(e,HD(bD.DEFAULT,t))}WD.loading=function(e,t){return zD(e,HD(bD.DEFAULT,xt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},WD.promise=function(e,t,n){var r,i=t.pending,a=t.error,s=t.success;i&&(r=pD(i)?WD.loading(i,n):WD.loading(i.render,xt(xt({},n),i)));var o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var a=xt(xt(xt({type:e},o),n),{},{data:i}),s=pD(t)?{render:t}:t;return r?WD.update(r,xt(xt({},a),s)):WD(s.render,xt(xt({},a),s)),i}WD.dismiss(r)},l=vD(e)?e():e;return l.then((function(e){return u("success",s,e)})).catch((function(e){return u("error",a,e)})),l},WD.success=BD(bD.SUCCESS),WD.info=BD(bD.INFO),WD.error=BD(bD.ERROR),WD.warning=BD(bD.WARNING),WD.warn=WD.warning,WD.dark=function(e,t){return zD(e,HD(bD.DEFAULT,xt({theme:"dark"},t)))},WD.dismiss=function(e){MD.size>0?wD.emit(1,e):FD=FD.filter((function(t){return yD(e)&&t.options.toastId!==e}))},WD.clearWaitingQueue=function(e){return void 0===e&&(e={}),wD.emit(5,e)},WD.isActive=function(e){var t=!1;return MD.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},WD.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=MD.get(n||LD);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=xt(xt(xt({},r),t),{},{toastId:t.toastId||e,updateId:UD()});a.toastId!==e&&(a.staleId=e);var s=a.render||i;delete a.render,zD(s,a)}}),0)},WD.done=function(e){WD.update(e,{progress:1})},WD.onChange=function(e){return wD.on(4,e),function(){wD.off(4,e)}},WD.POSITION=kD,WD.TYPE=bD,wD.on(2,(function(e){LD=e.containerId||e,MD.set(LD,e),FD.forEach((function(e){wD.emit(0,e.content,e.options)})),FD=[]})).on(3,(function(e){MD.delete(e.containerId||e),0===MD.size&&wD.off(0).off(1).off(5)}));var qD=function(e){var t=u(Ls(VS),3),n=t[0],r=(t[1],t[2],F());return(0,GS.jsxs)("div",{className:"formHeader-div",children:[(0,GS.jsx)("button",{className:"logOutBtn",onClick:HS,children:"Logout"}),"tv5YnP8GH0hgL9OeBtowaIrnvxV2"===(null===n||void 0===n?void 0:n.uid)&&(0,GS.jsx)(Q,{to:"/rem-data",style:{fontFamily:"Patrick Hand",fontSize:"15px",fontWeight:"500",display:"block",textAlign:"right"},children:"Reimbursement Records"}),(0,GS.jsx)(ZS,{}),(0,GS.jsxs)(eE,{children:[(0,GS.jsx)("div",{style:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",height:"10px",left:"-1px",position:"absolute",top:"-1px",width:"calc(100% + 2px)",backgroundColor:"rgb(125, 67, 38)",color:"rgba(255, 255, 255, 1)"}}),(0,GS.jsxs)("div",{className:"form-intro",children:[(0,GS.jsx)("div",{className:"form-intro__info",children:(0,GS.jsx)("h1",{className:"header",children:"Reimbursement Form"})}),(0,GS.jsx)("div",{className:"form-into__email",children:(0,GS.jsxs)("p",{style:{fontWeight:"700",color:"grey",fontSize:"14px"},children:["\xa0",(0,GS.jsx)("input",{type:"email",defaultValue:e.employeeMail,name:e.name,disabled:!0,style:{fontWeight:"700",color:"grey",fontSize:"14px",backgroundColor:" #fff",border:"none",display:"block",width:"100%"}})]})}),(0,GS.jsxs)("div",{style:{marginTop:"15px"},children:[(0,GS.jsx)("p",{style:{fontSize:"14px",color:"000000"},children:"Your response has been recorded."}),(0,GS.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("clicked"),r("/form",{replace:!0})},style:{textDecoration:"underline",cursor:"pointer"},children:"Submit another response."})]})]})]})]})},YD=function(e){return e.show?(0,GS.jsxs)("div",{className:"modal",onClick:e.onClose,children:[console.log(e.show),(0,GS.jsxs)("div",{className:"modal-content ".concat(e.show?"show":""),onClick:function(e){return e.stopPropagation()},children:[(0,GS.jsx)("div",{className:"modal-header",children:(0,GS.jsx)("h4",{className:"modal-title",children:e.title})}),(0,GS.jsxs)("div",{className:"modal-body",children:[(0,GS.jsx)("p",{className:"modal-para",children:e.content})," "]}),(0,GS.jsxs)("div",{className:"modal-footer",children:[(0,GS.jsx)("button",{className:"cancelButton",onClick:e.onClose,children:"Cancel"}),(0,GS.jsx)("button",{className:"clearButton",onClick:e.clearFormHandler,children:"Clear Form"})]})]})]}):null},GD=function(e){Ts().currentUser;var t,n,i,a,s=u(Ls(VS),3),o=s[0],l=s[1],c=(s[2],u((0,r.useState)(""),2)),d=(c[0],c[1],u((0,r.useState)(""),2)),h=d[0],f=d[1],p=u((0,r.useState)(""),2),v=p[0],m=p[1],y=u((0,r.useState)(""),2),g=y[0],k=y[1],b=u((0,r.useState)([]),2),_=b[0],x=b[1],w=u((0,r.useState)(""),2),N=w[0],S=w[1],E=u((0,r.useState)(!1),2),I=E[0],C=E[1],T=u((0,r.useState)("Submit"),2),D=T[0],j=T[1],R=u((0,r.useState)([]),2),P=(R[0],R[1],u((0,r.useState)(""),2)),A=P[0],O=P[1],L=u((0,r.useState)(!1),2),M=L[0],U=L[1],V=u((0,r.useState)(""),2),z=V[0],H=V[1],B=u((0,r.useState)(""),2),W=B[0],q=B[1],Y=u((0,r.useState)(!1),2),G=Y[0],K=Y[1],Q=u((0,r.useState)(!1),2),$=(Q[0],Q[1],u((0,r.useState)(!1),2)),J=($[0],$[1],u((0,r.useState)(!1),2)),ee=(J[0],J[1]),te=u((0,r.useState)(!1),2),ne=te[0],re=te[1],ie=u((0,r.useState)(!1),2),ae=ie[0],se=ie[1],oe=u((0,r.useState)(!1),2),ue=(oe[0],oe[1],u((0,r.useState)(""),2)),le=ue[0],ce=ue[1],de=u((0,r.useState)(0),2),he=de[0],fe=(de[1],u((0,r.useState)(!1),2)),pe=fe[0],ve=fe[1],me=u((0,r.useState)(),2),ye=me[0],ge=me[1],ke=u((0,r.useState)(e.isSubmitValid),2),be=(ke[0],ke[1],u((0,r.useState)(),2)),_e=be[0],xe=be[1],we=u((0,r.useState)(!1),2),Ne=we[0],Se=we[1],Ee=F(),Ie=u((0,r.useState)((function(){var e=localStorage.getItem("date");return e?JSON.parse(e):{date:""}})),2),Ce=Ie[0],Te=Ie[1];(0,r.useEffect)((function(){if(!l){if(o){xe(o.accessToken);var t=setTimeout((function(){f(null===o||void 0===o?void 0:o.email),O(e.employeeName),ge(e.userRole),k(e.adminMailId),m(e.approverMailId),x(e.account),localStorage.setItem("date",JSON.stringify(Ce))}),1e3);return function(){clearTimeout(t)}}return Ee("/login")}}),[o,_e,l,Ce,e.userRole]);var De=Math.random().toString(36),je=u((0,r.useState)(""),2),Re=je[0],Pe=je[1],Ae=u((0,r.useState)(""),2),Oe=Ae[0],Le=Ae[1],Me=function(e){return/\S+@\S+\.\S+/.test(e)},Fe=u((0,r.useState)(""),2),Ue=Fe[0],Ve=Fe[1],ze=u((0,r.useState)(""),2),He=ze[0],Be=ze[1],We=100,qe=u((0,r.useState)("".slice(0,We)),2),Ye=qe[0],Ge=qe[1],Ke=r.useCallback((function(e){Ge(e.slice(0,We))}),[We,Ge]),Qe=u((0,r.useState)([]),2),$e=(Qe[0],Qe[1]),Xe=u((0,r.useState)([]),2),Je=Xe[0],Ze=Xe[1],et=u((0,r.useState)(""),2),tt=et[0],nt=et[1],rt=u((0,r.useState)(""),2),it=(rt[0],rt[1]),at=u((0,r.useState)(""),2),st=at[0],ot=at[1],ut=u((0,r.useState)([]),2),lt=ut[0],ct=ut[1],dt=u((0,r.useState)(""),2),ht=dt[0],ft=dt[1],pt=u((0,r.useState)(""),2),vt=pt[0],mt=pt[1],yt=u((0,r.useState)(""),2),gt=yt[0],kt=yt[1],bt=u((0,r.useState)(""),2),_t=bt[0],xt=bt[1],wt=u((0,r.useState)(""),2),Nt=wt[0],St=wt[1];return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)(tE,{role:e.userRole,employeeName:e.employeeName}),(0,GS.jsxs)("div",{className:"form-main__div",children:[(0,GS.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),""!==Ce)if(U(!1),""!==ht)if(se(!1),"Other:"!==ht||""!==vt)if(se(!1),""!==Re)if(isNaN(Re))q("Please enter a numeric value");else if(q(""),""!==tt&&null!==tt&&void 0!==tt)if(ce(""),""!==Nt)if(Se(!1),""!==Ue)if(K(!1),void 0!==lt.value&&""!==lt.value)if(re(!1),""===Oe||Me(Oe))if(H(""),v||g)if(g)if(v)if(_){t=e.employeeID,h,Ce,n="Other:"!==ht?ht:"".concat(ht).concat(vt),"Other:"!==gt?i=gt:n="".concat(gt).concat(_t),Re,Ye,Ue,a=lt.value,Oe;var s={employeeTitle:A,Time:(new Date).toLocaleString(),employeeMail:h,id:t,date:Ce,expenseCategory:n,amount:Re,invoiceDate:Nt,description:Ye,invoice:Ue,vendorCategory:i,employee_consent:a,emailId:Oe,pdfFile:tt,approverMailId:v},o=function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),j("Submitting ..."),e.next=4,fetch("".concat(sE,"/ReimbursementRecords.json?auth=").concat(_e),{method:"POST",Headers:{"Content-Type":"application/json"},body:JSON.stringify({Time:(new Date).toLocaleString(),UserSpecificId:t,EmployeeMail:h,EmployeeName:A,EmployeeAccount:"string"===typeof _?[_]:_,ExpenseDate:Ce,ExpenseCategory:"Other:"===ht?[ht,vt]:ht,AmountToBeRefunded:Re,ExpenseDescription:Ye,InvoiceNo:Ue,VendorName:"Other:"===gt?[gt,_t]:gt,EmployeeConsent:lt.value,PaidTo:Oe,Invoice:tt,InvoiceDate:Nt,EmployeeRole:ye,AdminMailId:g,ApproverMailId:v,IsApproved:"",ApprovedAccount:"",RejectedAccount:"",RejectionReason:"",IsFundsProcessed:"",FundsRejectionReason:""})});case 4:if(200!==e.sent.status){e.next=37;break}return e.next=8,qS().post("/mail",s,{headers:{"Content-type":"application/json"}}).then((function(e){WD("Copy of the Response successfully sent to ".concat(h))})).catch((function(e){WD("There is an issue with the mailing service")}));case 8:WD.dark("Your Form is Submitted!"),C(!1),j("Submit"),Te(""),U(""),Pe(""),q(""),ft(""),se(!1),nt(null),Le(""),H(""),Ve(""),K(""),ct(""),re(""),$e(""),ee(""),St(""),Ge(""),Ze(""),Be(""),ce(""),ot(De),kt(""),xt(""),mt(""),e.next=40;break;case 37:alert("There is some problem with the DB connection"),C(!1),j("Submit");case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o(),console.log("Date: ".concat(Ce),"Amount:".concat(Re),"Email:".concat(Oe),"Invoice:".concat(Ue),"Reference No: ".concat(He),"Descriptiom: ".concat(Ye),"Invoice Date:".concat(Nt),"Status:".concat(Je),"Consent:".concat(lt),"Expense Items: ".concat(ht),"Vendor Items:".concat(gt)),e.setSubmitValid(!0)}else WD("You dont have an Account assigned !");else WD("You dont have an Approver assigned !");else WD("You dont have an Admin assigned !");else WD("You dont have an approver and admin assigned.Please contact the admin !");else H("Please enter a valid email");else re(!0);else K(!0);else Se(!0);else ce("This is a required Question");else q("This is a required Field.");else se(!0);else se(!0);else U(!0)},id:"form",method:"post",children:[(0,GS.jsx)(lE,{}),(0,GS.jsx)(cE,{name:"employeemail",employeeMail:h}),(0,GS.jsx)(fE,{handleDateChange:function(e){""===e.target.value?U(!0):U(!1),Te(e.target.value)},date:Ce,dateError:M,name:"date",disableKeyDown:function(e){return e.preventDefault(),!1}}),(0,GS.jsx)(vE,{handleRadioChange:function(e){""===e.target.value?se(!0):se(!1),ft(e.target.value)},othersInputHandler:function(e){""===e.target.value?se(!0):se(!1),ft("Other:"),mt(e.target.value)},expenseItems:ht,expenseItemsError:ae,otherExpenseValue:vt,name:"expensecategory"}),(0,GS.jsx)(mE,{inputAmountHandler:function(e){""===e.target.value?q("This is a required Field."):isNaN(e.target.value)?q("Please enter a numeric value !"):q(""),Pe(e.target.value)},amount:Re,amountError:W,name:"amount"}),(0,GS.jsx)(yE,{pdfFile:tt,pdfFileError:le,handlePdfChange:function(e){if(e.target.files[0]?ce(""):ce("This is a required Question"),e.target.files[0]){var t=e.target.files[0].size;t&&t>1e6&&(alert("The filesize has exceeded size"),e.target.value=null,ce("Please upload a file with size less than 300Kb."))}it(e.target.files[0]);var n=e.target.files[0];if(e.target.files[0],n){var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(e){nt(e.target.result),ce("")}}else ce("This is a required Question");n||(nt(null),ce("This is a required question"))},theInputKey:st,percent:he,name:"invoiceProof"}),(0,GS.jsx)(sD,{handleInvoiceDateChange:function(e){""===e.target.value?Se(!0):Se(!1),St(e.target.value)},invoiceDate:Nt,invoiceDateError:Ne,sameExpenseDateHandler:function(e){e.preventDefault(),""!==Nt&&Se(!1),Se(!1),St(Ce)}}),(0,GS.jsx)(gE,{expenseDescriptionHandler:Ke,description:Ye,name:"description",limit:We}),(0,GS.jsx)(kE,{invoiceHandler:function(e){""===e.target.value?K(!0):K(!1),Ve(e.target.value)},invoice:Ue,InvoiceNoError:G,name:"invoiceNo"}),(0,GS.jsx)(_E,{handleVendorRadioChange:function(e){console.log(e.target.value),kt(e.target.value)},othersVendorHandler:function(e){kt("Other:"),xt(e.target.value)},clearSelectionHandler:function(e){e.preventDefault(),kt(""),xt("")},otherVendorName:_t,vendorItems:gt}),(0,GS.jsx)(iD,{handleConsent:function(e){void 0===e.value||""===e.value?(re(!0),ct(e[0])):re(!1),ct(e)},consent:lt,consentError:ne,name:"employeeconsent"}),(0,GS.jsx)(aD,{handleEmail:function(e){""===e.target.value||Me(e.target.value)?H(""):H("Please enter a vaild email"),Le(e.target.value)},emailId:Oe,emailError:z,name:"paidToEmail"}),(0,GS.jsx)(oD,{docUrl:N}),(0,GS.jsx)("div",{className:"btnDiv",children:(0,GS.jsx)("button",{className:"submitBtn",disabled:I,style:{width:I&&"170px",fontSize:I&&"16px"},children:D})})]}),(0,GS.jsxs)("div",{className:"clearFormBtn-div",children:[(0,GS.jsx)("button",{className:"clearBtn",onClick:function(){return ve(!0)},children:"Clear Form"}),(0,GS.jsx)(YD,{show:pe,onClose:function(){return ve(!1)},title:"Clear Form?",content:"This will remove your answers from all questions and cannot be undone.",clearFormHandler:function(e){e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"}),ve(!1),Te(""),U(""),Pe(""),q(""),ft(""),se(!1),nt(null),Le(""),H(""),Ve(""),K(""),ct(""),re(""),$e(""),ee(""),St(""),Se(!1),Ge(""),Ze(""),Be(""),ce(""),kt(""),ot(De),mt(""),S("")}})]})]}),(0,GS.jsx)(OD,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},KD=function(e){var t=u((0,r.useState)(""),2),n=t[0],i=t[1],a=u((0,r.useState)(""),2),s=a[0],o=a[1],l=u((0,r.useState)(""),2),c=(l[0],l[1],u((0,r.useState)(""),2)),d=(c[0],c[1],u((0,r.useState)(""),2)),h=(d[0],d[1],u(Ls(VS),3)),f=h[0],p=h[1],v=(h[2],u((0,r.useState)(""),2)),m=(v[0],v[1],u((0,r.useState)(!1),2)),y=m[0],g=m[1],k=u((0,r.useState)(!1),2),b=k[0],_=k[1],x=F();(0,r.useEffect)((function(){if(!p&&f){var t=setTimeout((function(){"approver"!==e.role?("admin"===e.role&&x("/admin-panel"),"user"===e.role&&x("/"),void 0===e.role&&g(!1)):x("/approver-panel")}),500);return function(){clearTimeout(t)}}}),[f,p,e.role]);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsxs)("div",{className:"headerImageholder-div",children:[(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:XS,style:{height:"80px",marginBottom:"20px",objectFit:"cover"}})}),(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:JS,style:{height:"50px",width:"auto",marginBottom:"30px"}})})]}),(0,GS.jsx)("div",{className:"login",children:(0,GS.jsxs)("div",{className:"login__container",children:[(0,GS.jsx)("h4",{style:{fontFamily:"Patrick Hand",fontSize:"15px",color:"Black"},children:"Login For the Reimbursement Form"}),(0,GS.jsx)("input",{type:"text",className:"login__textBox",value:n,onChange:function(e){return i(e.target.value)},placeholder:"E-mail Address"}),(0,GS.jsx)("input",{type:b?"text":"password",className:"login__textBox",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Password"}),(0,GS.jsxs)("div",{className:"passswordShowBox",children:[(0,GS.jsx)("input",{type:"checkbox",id:"passwordShow",onClick:function(e){_(!b)},className:"inputPasswordShow"}),(0,GS.jsx)("label",{htmlFor:"passwordShow",className:"labelPasswordShow",children:"Show Password"})]}),(0,GS.jsx)("button",{className:y?"ui secondary loading button login__btn":"ui secondary button login__btn",onClick:function(){""!==n&&""!==s?(g(!0),function(e,t,n){return zi(ot(e),Ni.credential(t,n))}(VS,n,s).catch((function(e){switch(e.code){case"auth/Invalid-email":WD.error("Invalid Email-Id"),g(!1);case"auth/user-disabled":WD.error("User credentials are disabled. Please contact the administrator."),g(!1);case"auth/user-not-found":WD.error("User Credentials are not Found"),g(!1);break;case"auth/wrong-password":WD.error("Please enter the corrrect password."),g(!1);break;default:WD.error("Please enter correct credentials to login."),g(!1)}}))):""===n&&""===s?(WD.error("Please enter your email & password"),g(!1)):""===n?(WD.error("Please enter your email"),g(!1)):""===s&&(WD.error("Please enter your password."),g(!1))},style:{fontSize:"1.3rem"},children:"Login"}),(0,GS.jsx)("div",{children:(0,GS.jsx)(Q,{to:"/reset",children:"Forgot Password"})})]})}),(0,GS.jsx)(OD,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},QD=function(e){var t=e.remRecords.filter((function(t){return"approver"!==e.data[t].EmployeeRole&&e.data[t].ApproverMailId===e.employeeMailId})),n=e.remRecords.filter((function(t){return""===e.data[t].IsApproved&&"approver"!==e.data[t].EmployeeRole&&e.data[t].ApproverMailId===e.employeeMailId})),i=e.remRecords.filter((function(t){return"Yes"===e.data[t].IsApproved&&"approver"!==e.data[t].EmployeeRole&&e.data[t].ApproverMailId===e.employeeMailId})),a=e.remRecords.filter((function(t){return"No"===e.data[t].IsApproved&&"approver"!==e.data[t].EmployeeRole&&e.data[t].ApproverMailId===e.employeeMailId}));return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"ui segment",style:{width:"300px"},children:(0,GS.jsx)("div",{className:"analyticsMain-div",children:(0,GS.jsxs)("div",{className:"analytics-div",children:[(0,GS.jsx)("h4",{className:"railCard-heading",children:"Reimbursement Record Details-"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Total Records: ",t.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"blue"},children:["Approved Records: ",i.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"red"},children:["Rejected Records: ",a.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action:",n.length]})]})})})})},$D=function(e){var t=u((0,r.useState)(6),1)[0],n=u((0,r.useState)(1),2),i=n[0],a=n[1],s=u((0,r.useState)(""),2),o=s[0],l=s[1],c=u((0,r.useState)(""),2),d=c[0],h=c[1],f=u((0,r.useState)(e.remRecords),2),p=f[0],v=f[1],m=u((0,r.useState)(!1),2),y=m[0],g=m[1],k=u((0,r.useState)(!1),2),b=k[0],_=k[1],x=i*t,w=x-t,N=p.filter((function(t){return""===e.data[t].IsApproved&&e.data[t].ApproverMailId===e.employeeMailId})),S=N.sort(),E=S.slice(w,x);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID & Expense Date"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){h(e.target.value.trim())},value:d}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("input",{type:"date",onChange:function(e){console.log(e.target.value),l(e.target.value)},value:o,className:"expenseApproverInput",mandatory:"true",max:hE()().format("YYYY-MM-DD"),onKeyDown:e.disableKeyDown}),(0,GS.jsx)("button",{className:y?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.approverAccessToken,'&orderBy="UserSpecificId"&equalTo="').concat(d.toLocaleUpperCase(),'"'),n="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.approverAccessToken,'&orderBy="ExpenseDate"&equalTo="').concat(o,'"'),r=function(){var r=Z(X().mark((function r(){var i,s,u,l;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return g(!0),r.next=3,qS().get(t);case 3:return i=r.sent,r.next=6,qS().get(n);case 6:s=r.sent,u=i.data,l=s.data,""===d&&""===o?(v(e.remRecords),g(!1)):""!==d&&""===o?(a(1),v(Object.keys(u)),g(!1)):""!==d&&""!==o?(a(1),v(Object.keys(u).filter((function(t){return e.data[t].ExpenseDate===o}))),g(!1)):(a(1),v(Object.keys(l)),g(!1));case 10:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()},style:{marginLeft:"10px"},children:"Search"}),(0,GS.jsx)("button",{className:b?"ui loading secondary button":"ui secondary button",onClick:function(t){_(!0),h(""),l(""),v(e.remRecords),_(!1)},style:{marginLeft:"10px"},children:"Reset"}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Total Records:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:S.length})]})}),0!==E.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:E.map((function(t,n){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement Id:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.data[t].Invoice,href:e.data[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceDate})]})}),e.data[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceNo})]})}),e.data[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeConsent})]})}),e.data[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].Time})]})})]}),""===e.data[t].IsApproved&&(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[e.rejectResponse!==n?(0,GS.jsx)("button",{style:{cursor:"pointer"},className:"ui basic green button",onClick:function(){return e.approvalHandler(t,n)},disabled:e.approveResponse===n&&"disabled",children:e.approveResponse===n?"Approving ...":"Approve"}):null,e.approveResponse!==n?(0,GS.jsx)("button",{style:{cursor:"pointer"},className:"ui basic red button",onClick:function(){return e.declineHandler(t,n)},disabled:e.rejectResponse===n&&"disabled",children:e.rejectResponse===n?"Rejecting ...":"Reject"}):null]})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:t,totalPosts:N.length,paginate:function(e){return a(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Data Found!"})})]})},XD=function(e){var t=u((0,r.useState)(""),2),n=t[0],i=t[1],a=u((0,r.useState)(""),2),s=a[0],o=a[1],l=u((0,r.useState)(!1),2),c=l[0],d=l[1],h=u((0,r.useState)(!1),2),f=h[0],p=h[1],v=u((0,r.useState)(e.remRecords),2),m=v[0],y=v[1],g=u((0,r.useState)(1),2),k=g[0],b=g[1],_=u((0,r.useState)(6),1)[0],x=k*_,w=x-_,N=m.filter((function(t){return"Yes"===e.data[t].IsApproved&&e.data[t].ApproverMailId===e.employeeMailId})),S=N.slice(w,x);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID & Expense Date"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){i(e.target.value.trim())},value:n}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("input",{type:"date",onChange:function(e){console.log(e.target.value),o(e.target.value)},value:s,className:"expenseApproverInput",mandatory:"true",max:hE()().format("YYYY-MM-DD"),onKeyDown:e.disableKeyDown}),(0,GS.jsx)("button",{className:c?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.approverAccessToken,'&orderBy="UserSpecificId"&equalTo="').concat(n.toLocaleUpperCase(),'"'),r="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.approverAccessToken,'&orderBy="ExpenseDate"&equalTo="').concat(s,'"'),i=function(){var i=Z(X().mark((function i(){var a,o,u,l;return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return d(!0),i.next=3,qS().get(t);case 3:return a=i.sent,i.next=6,qS().get(r);case 6:o=i.sent,u=a.data,l=o.data,""===n&&""===s?(y(e.remRecords),d(!1)):""!==n&&""===s?(b(1),y(Object.keys(u)),d(!1)):""!==n&&""!==s?(b(1),y(Object.keys(u).filter((function(t){return e.data[t].ExpenseDate===s}))),d(!1)):(b(1),y(Object.keys(l)),d(!1));case 10:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();i()},style:{marginLeft:"10px"},children:"Search"}),(0,GS.jsx)("button",{className:f?"ui loading secondary button":"ui secondary button",onClick:function(t){p(!0),i(""),o(""),y(e.remRecords),p(!1)},style:{marginLeft:"10px"},children:"Reset"}),0!==S.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:S.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Account:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ApprovedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.data[t].Invoice,href:e.data[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceDate})]})}),e.data[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceNo})]})}),e.data[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeConsent})]})}),e.data[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].Time})]})})]}),"Yes"===e.data[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Approved"})}),"No"===e.data[t].IsApproved&&(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})]})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:_,totalPosts:N.length,paginate:function(e){return b(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Data Found !"})})]})},JD=function(e){var t=u((0,r.useState)(""),2),n=t[0],i=t[1],a=u((0,r.useState)(!1),2),s=a[0],o=a[1],l=u((0,r.useState)(e.remRecords),2),c=l[0],d=l[1],h=u((0,r.useState)(1),2),f=h[0],p=h[1],v=u((0,r.useState)(6),1)[0],m=f*v,y=m-v,g=c.filter((function(t){return"No"===e.data[t].IsApproved&&e.data[t].ApproverMailId===e.employeeMailId})),k=g.slice(y,m);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){i(e.target.value.trim())},value:n}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("button",{className:s?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.approverAccessToken,'orderBy="UserSpecificId"&equalTo="').concat(n.toLocaleUpperCase(),'"'),r=function(){var r=Z(X().mark((function r(){var i,a;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(!0),r.next=3,qS().get(t);case 3:i=r.sent,a=i.data,""===n?(d(e.remRecords),o(!1)):(p(1),d(Object.keys(a)),o(!1));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()},style:{marginLeft:"10px"},children:"Search"}),0!==k.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:k.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Account:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].RejectedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.data[t].Invoice,href:e.data[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceDate})]})}),e.data[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].InvoiceNo})]})}),e.data[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].EmployeeConsent})]})}),e.data[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].Time})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Rejection Reason:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[t].RejectionReason})]})})]}),"Yes"===e.data[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Approved"})}),"No"===e.data[t].IsApproved&&(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})]})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:v,totalPosts:g.length,paginate:function(e){return p(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Data Found !"})})]})},ZD=function(e){if(!e.show)return null;var t=["Choose"].concat(fe(e.rejectionAccountsList));return(0,GS.jsx)("div",{className:"modal",children:(0,GS.jsxs)("div",{className:"modal-content ".concat(e.show?"show":""),onClick:function(e){return e.stopPropagation()},children:[(0,GS.jsx)("div",{className:"modal-header",children:(0,GS.jsx)("h4",{className:"modal-title",children:"Rejection "})}),(0,GS.jsxs)("div",{className:"modal-body",children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Enter Rejection Reason",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("div",{className:"detailCardNew",children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.remId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.data[e.remId].Invoice,href:e.data[e.remId].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].InvoiceDate})]})}),e.data[e.remId].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].InvoiceNo})]})}),e.data[e.remId].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].EmployeeConsent})]})}),e.data[e.remId].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.remId].Time})]})})]})}),(0,GS.jsxs)("form",{onSubmit:e.rejectionSubmitHandler,children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Please select an Account",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)(nD,{options:t.map((function(e){return{value:e,label:e}})),value:e.rejectAccount,defaultValue:"null",onChange:e.rejectAccountHandler,placeholder:"Choose",maxMenuHeight:100,isDisabled:e.isDisabled}),e.rejectAccountError&&(0,GS.jsx)("p",{style:{fontSize:"15px",fontWeight:"500",color:"red",fontFamily:"Patrick Hand"},children:"Please select an Account !"}),(0,GS.jsx)("input",{type:"text",onChange:e.rejectionInputHandler,placeholder:"Reason",className:"modalInput",value:e.rejectReason}),""!==e.rejectError?(0,GS.jsx)("p",{style:{fontSize:"15px",fontWeight:"500",color:"red",fontFamily:"Patrick Hand"},children:e.rejectError}):null,e.isDisabled?(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:e.rejectModalContent})]}):(0,GS.jsx)("button",{className:"ui red button",style:{marginTop:"15px"},children:"Reject"})]})]}),(0,GS.jsx)("div",{className:"modal-footer",children:!e.isDisabled&&(0,GS.jsxs)("button",{className:"clearButton",onClick:e.onClearModalHandler,disabled:e.isDisabled,children:["Cancel"," "]})})]})})},ej=function(e){if(!e.appShow)return null;var t=["Choose"].concat(fe(e.approvalAccountsList));return(0,GS.jsx)("div",{className:"modal",children:(0,GS.jsxs)("div",{className:"modal-content ".concat(e.appShow?"show":""),onClick:function(e){return e.stopPropagation()},children:[(0,GS.jsx)("div",{className:"modal-header",children:(0,GS.jsx)("h4",{className:"modal-title",children:"Approval "})}),(0,GS.jsxs)("div",{className:"modal-body",children:[(0,GS.jsx)("div",{className:"detailCardNew",children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approveId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.data[e.approveId].Invoice,href:e.data[e.approveId].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].InvoiceDate})]})}),e.data[e.approveId].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].ExpenseDescription})]})}):null,e.data[e.approveId].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].InvoiceNo})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].EmployeeConsent})]})}),e.data[e.approveId].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.data[e.approveId].Time})]})})]})}),(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Please select an Account",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsxs)("form",{onSubmit:e.approvalSubmitHandler,children:[(0,GS.jsx)(nD,{options:t.map((function(e){return{value:e,label:e}})),value:e.account,defaultValue:"null",onChange:e.selectAccountHandler,placeholder:"Choose",maxMenuHeight:100,isDisabled:e.isApproveDisabled}),e.accountError&&(0,GS.jsx)("p",{style:{fontSize:"15px",fontWeight:"500",color:"red",fontFamily:"Patrick Hand"},children:"Please select an Account !"}),e.isApproveDisabled?(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:e.approveModalContent})]}):(0,GS.jsx)("button",{className:"ui green button",style:{marginTop:"15px"},children:"Approve"})]})]}),(0,GS.jsx)("div",{className:"modal-footer",children:!e.isApproveDisabled&&(0,GS.jsxs)("button",{className:"clearButton",onClick:e.onClearApproveModalHandler,disabled:e.isApproveDisabled,children:["Cancel"," "]})})]})})},tj=function(e){Ts().currentUser;var t=u(Ls(VS),3),n=t[0],i=t[1],a=(t[2],u((0,r.useState)(""),2)),s=a[0],o=a[1],l=u((0,r.useState)([]),2),c=l[0],d=l[1],h=u((0,r.useState)(!1),2),f=h[0],p=h[1],v=u((0,r.useState)(!0),2),m=v[0],y=v[1],g=u((0,r.useState)(!1),2),k=g[0],b=g[1],_=u((0,r.useState)(!1),2),x=_[0],w=_[1],N=u((0,r.useState)(),2),S=N[0],E=N[1],I=u((0,r.useState)(),2),C=I[0],T=I[1],D=u((0,r.useState)(),2),j=D[0],R=D[1],P=u((0,r.useState)(!1),2),A=P[0],O=P[1],L=u((0,r.useState)([]),2),M=L[0],U=L[1],V=u((0,r.useState)(!1),2),z=V[0],H=V[1],B=u((0,r.useState)([]),2),W=B[0],q=B[1],Y=u((0,r.useState)(""),2),G=Y[0],K=Y[1],Q=u((0,r.useState)(""),2),$=Q[0],J=Q[1],ee=u((0,r.useState)("Rejecting..."),2),te=ee[0],ne=ee[1],re=u((0,r.useState)(!1),2),ie=re[0],ae=re[1],se=u((0,r.useState)(),2),oe=se[0],ue=se[1],le=u((0,r.useState)(!1),2),ce=le[0],de=le[1],he=u((0,r.useState)([]),2),fe=he[0],pe=he[1],ve=u((0,r.useState)([]),2),me=ve[0],ye=ve[1],ge=u((0,r.useState)(!1),2),ke=ge[0],be=ge[1],_e=u((0,r.useState)(),2),xe=_e[0],we=_e[1],Ne=u((0,r.useState)(!1),2),Se=Ne[0],Ee=Ne[1],Ie=u((0,r.useState)("Approving..."),2),Ce=Ie[0],Te=Ie[1],De=F();if((0,r.useEffect)((function(){if(!i){if(n){E(n.accessToken);var t=setTimeout((function(){if("approver"!==e.role)return"user"===e.role?De("/"):"admin"===e.role?De("/admin-panel"):void 0;Ae()}),1e3);return function(){clearTimeout(t)}}return E(),De("/login")}}),[n,S,e.role,i,e.employeeMailId]),ce){var je=function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=DS(JN(zS,"UserAuth"),RS("employeeId","==",s[xe].UserSpecificId)),e.next=4,FS(t);case 4:n=e.sent,r=n.docs[0].data(),ye(r.account),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();je()}if(A){var Re=function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=DS(JN(zS,"UserAuth"),RS("employeeId","==",s[oe].UserSpecificId)),e.next=4,FS(t);case 4:n=e.sent,r=n.docs[0].data(),q(r.account),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Re()}var Pe="".concat(sE,"/ReimbursementRecords.json?auth=").concat(S),Ae=function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,qS().get(Pe);case 3:t=e.sent,o(t.data),p(!1),(n=t.data)&&d(Object.keys(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsxs)(r.Fragment,{children:[f&&(0,GS.jsx)($S,{}),(0,GS.jsx)(tE,{role:e.role,employeeName:e.employeeName}),(0,GS.jsx)("div",{className:"header-RemDetails",children:(0,GS.jsx)("h1",{style:{fontFamily:"Patrick Hand",fontSize:"35px",color:"Blue",textAlign:"center",fontWeight:"500"},children:"Approver Panel"})}),s?(0,GS.jsxs)("div",{className:"ui container",style:{position:"inherit",backgroundColor:"transparent !important",border:"none",boxShadow:" none"},children:[(0,GS.jsx)(QD,{remRecords:c,data:s,employeeMailId:e.employeeMailId}),(0,GS.jsxs)("div",{className:"ui top attached tabular menu",children:[(0,GS.jsx)("a",{className:"item ".concat(!0===m?"active":""),"data-tab":"first",onClick:function(){console.log("First Tab Clicked"),y(!0),b(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"red"},children:"Requires Action"}),(0,GS.jsx)("a",{className:"item ".concat(!0===k?"active":""),"data-tab":"second",onClick:function(){console.log("Second Tab Clicked"),b(!0),y(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Approved Response"}),(0,GS.jsx)("a",{className:"item ".concat(!0===x?"active":""),"data-tab":"third",onClick:function(){console.log("Third Tab Clicked"),w(!0),y(!1),b(!1)},style:{width:"33.1%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Rejected Response"})]}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===m?"active":""),"data-tab":"first",children:(0,GS.jsx)($D,{remRecords:c,data:s,rejectResponse:j,approveResponse:C,approvalHandler:function(e,t){console.log(e),window.confirm("Are you sure you want to approve this record?")&&(we(e),T(t),de(!0))},declineHandler:function(e,t){window.confirm("Are you sure want to decline this record")&&(ue(e),R(t),O(!0))},employeeMailId:e.employeeMailId,approverAccessToken:S})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===k?"active":""),"data-tab":"second",children:(0,GS.jsx)(XD,{remRecords:c,data:s,employeeMailId:e.employeeMailId,approverAccessToken:S})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===x?"active":""),"data-tab":"third",children:(0,GS.jsx)(JD,{remRecords:c,data:s,employeeMailId:e.employeeMailId,approverAccessToken:S})})]}):(0,GS.jsx)("div",{style:{maxWidth:"80%",margin:"auto"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"Sorry! No Records Available"})}),(0,GS.jsx)(KS,{}),(0,GS.jsx)(ej,{appShow:ce,approveId:xe,isApproveDisabled:Se,approvalSubmitHandler:function(e){e.preventDefault();var t={approverMailId:s[xe].ApproverMailId,adminMailId:s[xe].AdminMailId,approvedEmailAddress:s[xe].EmployeeMail,approvedEmployeeName:s[xe].EmployeeName,approvedEmployeeId:s[xe].UserSpecificId,approvedAccount:fe.value,approvedAmount:s[xe].AmountToBeRefunded,approvedInvoiceDate:s[xe].InvoiceDate,approvedDescription:s[xe].ExpenseDescription,approvedConsent:s[xe].EmployeeConsent,approvedDate:s[xe].ExpenseDate,approvedInvoiceNo:s[xe].InvoiceNo,approvedVendor:s[xe].VendorName,approvedExpenseCategory:s[xe].ExpenseCategory,approvedPaidTo:s[xe].PaidTo,approvedFileLink:s[xe].Invoice};void 0===fe.value||""===fe.value||"Choose"===fe.value?be(!0):(Ee(!0),be(!1),BS.child("ReimbursementRecords/".concat(xe)).update({IsApproved:"Yes",ApprovedAccount:fe.value}).then((function(){Te("Approving..."),qS().post("/approvalMail",t,{headers:{"Content-type":"application/json"}}).then((function(e){Te("Approval Mail Sent!"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)})).catch((function(e){Te("There is an issue with the mailing service but the form is approved"),setTimeout((function(){window.location.reload(!0)}),2e3),console.log(e)}))})).catch((function(e){Ee(!1),console.log(e),alert("There is an error with the db connection")})))},onClearApproveModalHandler:function(e){de(!1),T(),pe([]),be(""),ye([])},approveModalContent:Ce,data:s,selectAccountHandler:function(e){void 0===e.value||""===e.value||"Choose"===e.value?(be(!0),pe(e[0])):be(!1),pe(e),console.log("Change Detected",e.value)},accountError:ke,approvalAccountsList:me}),(0,GS.jsx)(ZD,{show:A,onClearModalHandler:function(e){O(!1),R(),U([]),K(""),H(!1),J(""),q([])},rejectionInputHandler:function(e){console.log(e.target.value),K(e.target.value)},rejectionSubmitHandler:function(e){e.preventDefault();var t=s[oe].ApproverMailId,n={adminMailId:s[oe].AdminMailId,approverMailId:t,rejectedEmailAddress:s[oe].EmployeeMail,rejectedEmployeeName:s[oe].EmployeeName,rejectedEmployeeId:s[oe].UserSpecificId,rejectedAccount:M.value,rejectedAmount:s[oe].AmountToBeRefunded,rejectedInvoiceDate:s[oe].InvoiceDate,rejectedDescription:s[oe].ExpenseDescription,rejectedConsent:s[oe].EmployeeConsent,rejectedDate:s[oe].ExpenseDate,rejectedInvoiceNo:s[oe].InvoiceNo,rejectedVendor:s[oe].VendorName,rejectedExpenseCategory:s[oe].ExpenseCategory,rejectedPaidTo:s[oe].PaidTo,rejectedFileLink:s[oe].Invoice,rejectedReason:G};void 0!==M.value&&""!==M.value&&"Choose"!==M.value?(H(!1),""!==G?(J(""),J(""),H(!1),ae(!0),BS.child("ReimbursementRecords/".concat(oe)).update({IsApproved:"No",RejectionReason:G,RejectedAccount:M.value}).then((function(){ne("Rejecting..."),qS().post("/rejectionMail",n,{headers:{"Content-type":"application/json"}}).then((function(e){ne("Rejection Mail Sent"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)})).catch((function(e){ne("There is an issue with the mailing service but the form is rejected"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)}))})).catch((function(e){ae(!1),console.log(e),alert("There is an error with the db connection please try again after sometime."),K("")}))):J("Please Enter a Reason")):H(!0)},remId:oe,data:s,rejectReason:G,rejectError:$,isDisabled:ie,rejectModalContent:te,rejectAccountHandler:function(e){void 0===e.value||""===e.value||"Choose"===e.value?(H(!0),U(e[0])):H(!1),U(e),console.log("Change Detected",e.value)},rejectAccount:M,rejectAccountError:z,rejectionAccountsList:W})]})},nj=function(e){var t=e.approverRemRecords.filter((function(t){return e.approverData[t].UserSpecificId===e.employeeID})),n=e.approverRemRecords.filter((function(t){return""===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID})),i=e.approverRemRecords.filter((function(t){return"Yes"===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID})),a=e.approverRemRecords.filter((function(t){return"No"===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID}));return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"ui segment",style:{width:"300px"},children:(0,GS.jsx)("div",{className:"analyticsMain-div",children:(0,GS.jsxs)("div",{className:"analytics-div",children:[(0,GS.jsx)("h4",{className:"railCard-heading",children:"Approver Record Details-"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Name: ",e.name]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Employee Id: ",e.employeeID]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Total Records: ",t.length]}),e.adminMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Admin Mail Id: ",e.adminMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Admin Mail Id: Not Assigned"}),e.approverMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Approver Mail Id: ",e.approverMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Approver Mail Id: Not Assigned"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"blue"},children:["Approved Records: ",i.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"red"},children:["Rejected Records: ",a.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action:",n.length]})]})})})})},rj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.approverRemRecords.filter((function(t){return"Yes"===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.approverData[t].Invoice,href:e.approverData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),e.approverData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].InvoiceNo})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeConsent})]})}),e.approverData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].Time})]})})]}),"Yes"===e.approverData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Approved"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Approved Records Founds !"})})]})},ij=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.approverRemRecords.filter((function(t){return""===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.approverData[t].Invoice,href:e.approverData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),e.approverData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].InvoiceNo})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeConsent})]})}),e.approverData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].Time})]})})]}),""===e.approverData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui brown button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Awaiting Action"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Awaiting Records Founds !"})})]})},aj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.approverRemRecords.filter((function(t){return"No"===e.approverData[t].IsApproved&&e.approverData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.approverData[t].Invoice,href:e.approverData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),e.approverData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].InvoiceNo})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].EmployeeConsent})]})}),e.approverData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approverData[t].Time})]})})]}),"No"===e.approverData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Rejected Records Founds !"})})]})},sj=function(e){var t=u(Ls(VS),3),n=t[0],i=t[1],a=(t[2],u((0,r.useState)(""),2)),s=a[0],o=a[1],l=u((0,r.useState)([]),2),c=l[0],d=l[1],h=u((0,r.useState)(!1),2),f=h[0],p=h[1],v=u((0,r.useState)(!0),2),m=v[0],y=v[1],g=u((0,r.useState)(!1),2),k=g[0],b=g[1],_=u((0,r.useState)(!1),2),x=_[0],w=_[1],N=u((0,r.useState)(),2),S=N[0],E=N[1],I=F();(0,r.useEffect)((function(){if(!i){if(n){E(n.accessToken);var t=setTimeout((function(){if("approver"!==e.role)return"user"===e.role?I("/"):"admin"===e.role?I("/admin-panel"):void 0;T()}),1e3);return function(){clearTimeout(t)}}return E(),I("/login")}}),[n,S,i,e.employeeID,e.name,e.role]);var C="".concat(sE,"/ReimbursementRecords.json?auth=").concat(S,'&orderBy="EmployeeRole"&equalTo="approver"'),T=function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,qS().get(C);case 3:t=e.sent,o(t.data),p(!1),(n=t.data)&&d(Object.keys(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsxs)(r.Fragment,{children:[f&&(0,GS.jsx)($S,{}),(0,GS.jsx)(tE,{employeeName:e.employeeName,role:e.role,employeeID:e.employeeID}),(0,GS.jsx)("div",{className:"header-RemDetails",children:(0,GS.jsx)("h1",{style:{fontFamily:"Patrick Hand",fontSize:"35px",color:"Blue",textAlign:"center",fontWeight:"500"},children:"Approver Records"})}),s?(0,GS.jsxs)("div",{className:"ui container",style:{position:"inherit",backgroundColor:"transparent !important",border:"none",boxShadow:" none"},children:[(0,GS.jsx)(nj,{approverData:s,approverRemRecords:c,employeeID:e.employeeID,name:e.employeeName,adminMailId:e.adminMailId,approverMailId:e.approverMailId}),(0,GS.jsxs)("div",{className:"ui top attached tabular menu",children:[(0,GS.jsx)("a",{className:"item ".concat(!0===m?"active":""),"data-tab":"first",onClick:function(){y(!0),b(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"brown"},children:"Awaiting Action"}),(0,GS.jsx)("a",{className:"item ".concat(!0===k?"active":""),"data-tab":"second",onClick:function(){b(!0),y(!1),w(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Approved Records"}),(0,GS.jsx)("a",{className:"item ".concat(!0===x?"active":""),"data-tab":"third",onClick:function(){w(!0),y(!1),b(!1)},style:{width:"33.1%",fontFamily:"Patrick Hand",fontSize:"23px",color:"red"},children:"Rejected Records"})]}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===m?"active":""),"data-tab":"first",children:(0,GS.jsx)(ij,{approverRemRecords:c,approverData:s,employeeID:e.employeeID})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===k?"active":""),"data-tab":"second",children:(0,GS.jsx)(rj,{approverRemRecords:c,approverData:s,employeeID:e.employeeID})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===x?"active":""),"data-tab":"third",children:(0,GS.jsx)(aj,{approverRemRecords:c,approverData:s,employeeID:e.employeeID})})]}):(0,GS.jsx)("div",{style:{maxWidth:"80%",margin:"auto"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"Sorry! No Records Available"})}),(0,GS.jsx)(KS,{})]})},oj=function(){var e;return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("div",{className:"headerImage-div",children:(0,GS.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,GS.jsx)("img",{src:XS,style:{height:"80px",marginBottom:"20px",objectFit:"cover"}})})}),(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:JS,style:{height:"50px",width:"auto",marginBottom:"30px"}})}),(0,GS.jsxs)("div",{style:{margin:"20px auto",maxWidth:"90vw",width:"640px"},children:[(0,GS.jsx)("h1",{style:{textAlign:"center",fontSize:"100px",fontFamily:"Patrick Hand",fontWeight:"200",color:"blueviolet"},children:"404"}),(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"21px",textAlign:"center"},children:"Uh-oh, we can\u2019t find the page you\u2019re looking for. But don\u2019t worry! Click on the link below and we\u2019ll take you safely back to our homepage."}),(0,GS.jsx)("div",{style:{textAlign:"center",marginTop:"45px"},children:(0,GS.jsx)("a",{href:"/login",style:(e={fontSize:"24px",fontFamily:"Patrick Hand",display:"inline-block",color:"blueviolet",border:"1px solid #ccc ",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"50px",width:"200px",lineHeight:"47px"},pe(e,"display","inline-block"),pe(e,"borderRadius","10px"),e),children:"Home"})})]}),(0,GS.jsx)(KS,{})]})};var uj=function(){var e=u((0,r.useState)(""),2),t=e[0],n=e[1],i=u(Ls(VS),3),a=i[0],s=i[1],o=(i[2],F());return(0,r.useEffect)((function(){s||a&&o("/form")}),[a,s]),(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsxs)("div",{className:"headerImageholder-div",children:[(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:XS,style:{height:"80px",marginBottom:"20px",objectFit:"cover"}})}),(0,GS.jsx)("div",{style:{textAlign:"center"},children:(0,GS.jsx)("img",{src:JS,style:{height:"50px",width:"auto",marginBottom:"30px"}})})]}),(0,GS.jsx)("div",{className:"reset",children:(0,GS.jsxs)("div",{className:"reset__container",children:[(0,GS.jsx)("h4",{style:{fontFamily:"Patrick Hand",fontsize:"15px",color:"black"},children:"Reset Your Password"}),(0,GS.jsx)("input",{type:"text",className:"reset__textBox",value:t,onChange:function(e){return n(e.target.value.trim())},placeholder:"E-mail Address"}),(0,GS.jsx)("button",{className:"reset__btn",onClick:function(){""!==t?function(e,t,n){return Wi.apply(this,arguments)}(VS,t).then((function(){WD.success("Mail is sent to ".concat(t," for resetting. Please Check !")),n("")})).catch((function(e){WD.info("Email-id is not associated with the portal"),n("")})):WD.error("Please enter your Mail ID")},children:"Send password reset email"}),(0,GS.jsx)("div",{children:(0,GS.jsx)(Q,{to:"/",children:"Login"})})]})}),(0,GS.jsx)(OD,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},lj=function(e){var t=e.adminRemRecords.filter((function(t){return e.adminData[t].UserSpecificId===e.employeeID})),n=e.adminRemRecords.filter((function(t){return""===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID})),i=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID})),a=e.adminRemRecords.filter((function(t){return"No"===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID}));return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"ui segment",style:{width:"300px"},children:(0,GS.jsx)("div",{className:"analyticsMain-div",children:(0,GS.jsxs)("div",{className:"analytics-div",children:[(0,GS.jsx)("h4",{className:"railCard-heading",children:"Approver Record Details-"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Name: ",e.name]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Employee Id: ",e.employeeID]}),e.adminMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Admin Mail Id: ",e.adminMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Admin Mail Id: Not Assigned"}),e.approverMailId?(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Approver Mail Id: ",e.approverMailId]}):(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:"Approver Mail Id: Not Assigned"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Total Records: ",t.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"blue"},children:["Approved Records: ",i.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"red"},children:["Rejected Records: ",a.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action:",n.length]})]})})})})},cj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Account:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})})]}),"Yes"===e.adminData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Approved"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Approved Records Founds !"})})]})},dj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.adminRemRecords.filter((function(t){return""===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Account:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})})]}),""===e.adminData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui brown button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Awaiting Action"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Awaiting Records Founds !"})})]})},hj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=n*a,o=s-a,l=e.adminRemRecords.filter((function(t){return"No"===e.adminData[t].IsApproved&&e.adminData[t].UserSpecificId===e.employeeID})),c=l.slice(o,s);return(0,GS.jsxs)(r.Fragment,{children:[" ",0!==c.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:c.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Account:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})})]}),"No"===e.adminData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:l.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Rejected Records Founds !"})})]})},fj=function(e){var t=u(Ls(VS),3),n=t[0],i=t[1],a=(t[2],u((0,r.useState)(""),2)),s=a[0],o=a[1],l=u((0,r.useState)([]),2),c=l[0],d=l[1],h=u((0,r.useState)(!1),2),f=h[0],p=h[1],v=u((0,r.useState)(),2),m=v[0],y=v[1],g=u((0,r.useState)(!0),2),k=g[0],b=g[1],_=u((0,r.useState)(!1),2),x=_[0],w=_[1],N=u((0,r.useState)(!1),2),S=N[0],E=N[1],I=F();(0,r.useEffect)((function(){if(!i){if(n){y(n.accessToken);var t=setTimeout((function(){if("admin"!==e.role)return"user"===e.role?I("/"):"approver"===e.role?I("/approver-panel"):void 0;T()}),1e3);return function(){clearTimeout(t)}}return y(),I("/login")}}),[n,m,i,e.employeeID,e.name,e.role]);var C="".concat(sE,"/ReimbursementRecords.json?auth=").concat(m,'&orderBy="EmployeeRole"&equalTo="admin"'),T=function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,qS().get(C);case 3:t=e.sent,o(t.data),p(!1),(n=t.data)&&d(Object.keys(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsxs)(r.Fragment,{children:[f&&(0,GS.jsx)($S,{}),(0,GS.jsx)(tE,{employeeName:e.employeeName,role:e.role,employeeID:e.employeeID}),(0,GS.jsx)("div",{className:"header-RemDetails",children:(0,GS.jsx)("h1",{style:{fontFamily:"Patrick Hand",fontSize:"35px",color:"Blue",textAlign:"center",fontWeight:"500"},children:"Admin Reimbursement Records"})}),s?(0,GS.jsxs)("div",{className:"ui container",style:{position:"inherit",backgroundColor:"transparent !important",border:"none",boxShadow:" none"},children:[(0,GS.jsx)(lj,{adminData:s,adminRemRecords:c,employeeID:e.employeeID,name:e.employeeName,adminMailId:e.adminMailId,approverMailId:e.approverMailId}),(0,GS.jsxs)("div",{className:"ui top attached tabular menu",children:[(0,GS.jsx)("a",{className:"item ".concat(!0===k?"active":""),"data-tab":"first",onClick:function(){b(!0),w(!1),E(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"brown"},children:"Awaiting Action"}),(0,GS.jsx)("a",{className:"item ".concat(!0===x?"active":""),"data-tab":"second",onClick:function(){w(!0),b(!1),E(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Approved Records"}),(0,GS.jsx)("a",{className:"item ".concat(!0===S?"active":""),"data-tab":"third",onClick:function(){E(!0),b(!1),w(!1)},style:{width:"33.1%",fontFamily:"Patrick Hand",fontSize:"23px",color:"red"},children:"Rejected Records"})]}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===k?"active":""),"data-tab":"first",children:(0,GS.jsx)(dj,{adminRemRecords:c,adminData:s,employeeID:e.employeeID})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===x?"active":""),"data-tab":"second",children:(0,GS.jsx)(cj,{adminRemRecords:c,adminData:s,employeeID:e.employeeID})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===S?"active":""),"data-tab":"third",children:(0,GS.jsx)(hj,{adminRemRecords:c,adminData:s,employeeID:e.employeeID})})]}):(0,GS.jsx)("div",{style:{maxWidth:"80%",margin:"auto"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"Sorry! No Records Available"})}),(0,GS.jsx)(KS,{})]})},pj=function(e){var t=e.adminRemRecords.filter((function(t){return""===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),n=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&""===e.adminData[t].IsFundsProcessed&&e.adminData[t].AdminMailId===e.employeeMailId})),i=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&"Yes"===e.adminData[t].IsFundsProcessed&&e.adminData[t].AdminMailId===e.employeeMailId})),a=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&"No"===e.adminData[t].IsFundsProcessed&&e.adminData[t].AdminMailId===e.employeeMailId})),s=e.adminRemRecords.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),o=e.adminRemRecords.filter((function(t){return"No"===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),u=e.adminRemRecords.filter((function(t){return e.adminData[t].AdminMailId===e.employeeMailId}));return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"ui segment",style:{width:"300px"},children:(0,GS.jsx)("div",{className:"analyticsMain-div",children:(0,GS.jsxs)("div",{className:"analytics-div",children:[(0,GS.jsx)("h4",{className:"railCard-heading",children:"Reimbursement Record Details-"}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"darkslategrey"},children:["Total Records: ",u.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"blue"},children:["Approved By Approver: ",s.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"red"},children:["Rejected By Approver: ",o.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action By Approver:",t.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Require Action By Admin:",n.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Funds Processed:",i.length]}),(0,GS.jsxs)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",color:"brown"},children:["Funds Declined:",a.length]})]})})})})},vj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=u((0,r.useState)(""),2),o=s[0],l=s[1],c=u((0,r.useState)(!1),2),d=c[0],h=c[1],f=u((0,r.useState)(e.adminRemRecords),2),p=f[0],v=f[1],m=n*a,y=m-a,g=p.filter((function(t){return""===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),k=g.sort().slice(y,m);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){l(e.target.value.trim())},value:o}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("button",{className:d?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.adminAccessToken,'&orderBy="UserSpecificId"&equalTo="').concat(o.toLocaleUpperCase(),'"'),n=function(){var n=Z(X().mark((function n(){var r,a;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,qS().get(t);case 3:r=n.sent,a=r.data,""===o?(v(e.adminRemRecords),h(!1)):(i(1),v(Object.keys(a)),h(!1));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()},style:{marginLeft:"10px"},children:"Search"}),0!==k.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:k.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})})]}),""===e.adminData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui brown button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Awaiting Action"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:g.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Awaiting Records Founds !"})})]})},mj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=u((0,r.useState)(""),2),o=s[0],l=s[1],c=u((0,r.useState)(!1),2),d=c[0],h=c[1],f=u((0,r.useState)(e.adminRemRecords),2),p=f[0],v=f[1],m=n*a,y=m-a,g=p.filter((function(t){return"Yes"===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),k=g.slice(y,m);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){l(e.target.value.trim())},value:o}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("button",{className:d?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.adminAccessToken,'&orderBy="UserSpecificId"&equalTo="').concat(o.toLocaleUpperCase(),'"'),n=function(){var n=Z(X().mark((function n(){var r,a;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,qS().get(t);case 3:r=n.sent,a=r.data,""===o?(v(e.adminRemRecords),h(!1)):(i(1),v(Object.keys(a)),h(!1));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()},style:{marginLeft:"10px"},children:"Search"}),0!==k.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:k.map((function(t,n){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Approved For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ApprovedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})})]}),""!==e.adminData[t].IsFundsProcessed?(0,GS.jsx)("div",{style:{paddingTop:"12px"},children:(0,GS.jsx)("p",{className:"",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500",color:"green"},children:"Reimbursement Process is Completed."})}):(0,GS.jsx)("div",{style:{paddingTop:"12px"},children:(0,GS.jsx)("p",{className:"",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500",color:"green"},children:"Approved For Reimbursement"})}),""===e.adminData[t].IsFundsProcessed&&(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[e.rejectResponse!==n?(0,GS.jsx)("button",{style:{cursor:"pointer"},className:"ui basic green button",onClick:function(){return e.approvalHandler(t,n)},disabled:e.approveResponse===n&&"disabled",children:e.approveResponse===n?"Funds Processing ...":"Funds Processed"}):null,e.approveResponse!==n?(0,GS.jsx)("button",{style:{cursor:"pointer"},className:"ui basic red button",onClick:function(){return e.declineHandler(t,n)},disabled:e.rejectResponse===n&&"disabled",children:e.rejectResponse===n?"Funds Rejecting ...":"Funds Rejected"}):null]}),"Yes"===e.adminData[t].IsFundsProcessed&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Funds are processed."})}),"No"===e.adminData[t].IsFundsProcessed&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Funds are not processed."})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:g.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Approved Records Founds !"})})]})},yj=function(e){var t=u((0,r.useState)(1),2),n=t[0],i=t[1],a=u((0,r.useState)(6),1)[0],s=u((0,r.useState)(""),2),o=s[0],l=s[1],c=u((0,r.useState)(!1),2),d=c[0],h=c[1],f=u((0,r.useState)(e.adminRemRecords),2),p=f[0],v=f[1],m=n*a,y=m-a,g=p.filter((function(t){return"No"===e.adminData[t].IsApproved&&e.adminData[t].AdminMailId===e.employeeMailId})),k=g.slice(y,m);return(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)("label",{style:{display:"block",width:"100%",marginBottom:"10px"},children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"18px",fontWeight:"500"},children:"Search By Employee ID"})}),(0,GS.jsx)("div",{className:"ui category search",style:{display:"inline-block"},children:(0,GS.jsxs)("div",{className:"ui icon input",children:[(0,GS.jsx)("input",{className:"prompt",type:"text",placeholder:"Employee-ID",onChange:function(e){l(e.target.value.trim())},value:o}),(0,GS.jsx)("i",{className:"search icon"})]})}),(0,GS.jsx)("button",{className:d?"ui loading button":"ui button",onClick:function(){var t="".concat(sE,"/ReimbursementRecords.json?auth=").concat(e.adminAccessToken,'&orderBy="UserSpecificId"&equalTo="').concat(o.toLocaleUpperCase(),'"'),n=function(){var n=Z(X().mark((function n(){var r,a;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,qS().get(t);case 3:r=n.sent,a=r.data,""===o?(v(e.adminRemRecords),h(!1)):(i(1),v(Object.keys(a)),h(!1));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()},style:{marginLeft:"10px"},children:"Search"}),0!==k.length?(0,GS.jsxs)("div",{className:"detailsMaindiv",children:[(0,GS.jsx)("div",{className:"flexdetails",children:(0,GS.jsx)("div",{className:"flex-individual",children:k.map((function(t){return(0,GS.jsxs)("div",{className:"detailCardNew",children:[(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:t})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Rejected For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].RejectedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[t].Invoice,href:e.adminData[t].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceDate})]})}),e.adminData[t].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].ExpenseDescription})]})}):null,e.adminData[t].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].InvoiceNo})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].EmployeeConsent})]})}),e.adminData[t].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].Time})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Rejection Reason:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[t].RejectionReason})]})})]}),"No"===e.adminData[t].IsApproved&&(0,GS.jsx)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:"Rejected"})})]},t)}))})}),(0,GS.jsx)("div",{style:{margin:"auto",maxWidth:"80%",paddingTop:"20px"},children:(0,GS.jsx)(nE,{postsPerPage:a,totalPosts:g.length,paginate:function(e){return i(e)}})})]}):(0,GS.jsx)("div",{style:{margin:"auto",marginTop:"20px"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"No Rejected Records Founds !"})})]})},gj=function(e){return e.appShow?(0,GS.jsx)("div",{className:"modal",children:(0,GS.jsxs)("div",{className:"modal-content ".concat(e.appShow?"show":""),onClick:function(e){return e.stopPropagation()},children:[(0,GS.jsx)("div",{className:"modal-header",children:(0,GS.jsx)("h4",{className:"modal-title",children:"Funds Approval "})}),(0,GS.jsxs)("div",{className:"modal-body",children:[(0,GS.jsx)("div",{className:"detailCardNew",children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.approveId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Approved For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].ApprovedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[e.approveId].Invoice,href:e.adminData[e.approveId].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].InvoiceDate})]})}),e.adminData[e.approveId].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].InvoiceNo})]})}),e.adminData[e.approveId].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].EmployeeConsent})]})}),e.adminData[e.approveId].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.approveId].Time})]})})]})}),e.isApproveDisabled?(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui green button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:e.approveModalContent})]}):(0,GS.jsx)("button",{className:"ui green button",style:{marginTop:"15px"},onClick:e.approvalSubmitHandler,children:"Approve Funds"})]}),(0,GS.jsx)("div",{className:"modal-footer",children:!e.isApproveDisabled&&(0,GS.jsxs)("button",{className:"clearButton",onClick:e.onClearApproveModalHandler,disabled:e.isApproveDisabled,children:["Cancel"," "]})})]})}):null},kj=function(e){return e.show?(0,GS.jsx)("div",{className:"modal",children:(0,GS.jsxs)("div",{className:"modal-content ".concat(e.show?"show":""),onClick:function(e){return e.stopPropagation()},children:[(0,GS.jsx)("div",{className:"modal-header",children:(0,GS.jsx)("h4",{className:"modal-title",children:"Funds Rejection "})}),(0,GS.jsxs)("div",{className:"modal-body",children:[(0,GS.jsxs)("h3",{className:"formHeading-h3",children:["Enter Rejection Reason",(0,GS.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,GS.jsx)("div",{className:"detailCardNew",children:(0,GS.jsxs)("div",{children:[(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Reimbursement ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.remId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee ID:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].UserSpecificId})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Approved For:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].ApprovedAccount})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Mail:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].EmployeeMail})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].ExpenseDate})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Category:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].ExpenseCategory})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Amount To Be Refunded:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].AmountToBeRefunded})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Attachment:"," ",(0,GS.jsx)("a",{download:e.adminData[e.remId].Invoice,href:e.adminData[e.remId].Invoice,title:"Download pdf document",children:"Link"})]})}),(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Date:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].InvoiceDate})]})}),e.adminData[e.remId].ExpenseDescription?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Expense Description:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].ExpenseDescription})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Invoice Number:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].InvoiceNo})]})}),e.adminData[e.remId].VendorName?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Vendor Name:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].VendorName})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Employee Consent:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].EmployeeConsent})]})}),e.adminData[e.remId].PaidTo?(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Paid To:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].PaidTo})]})}):null,(0,GS.jsx)("div",{className:"remList-single",children:(0,GS.jsxs)("h3",{className:"h3Field-class",children:["Time:"," ",(0,GS.jsx)("span",{className:"spanDta-field",children:e.adminData[e.remId].Time})]})})]})}),(0,GS.jsxs)("form",{onSubmit:e.rejectionSubmitHandler,children:[(0,GS.jsx)("input",{type:"text",onChange:e.rejectionInputHandler,placeholder:"Reason",className:"modalInput",value:e.rejectReason}),""!==e.rejectError?(0,GS.jsx)("p",{style:{fontSize:"15px",fontWeight:"500",color:"red",fontFamily:"Patrick Hand"},children:e.rejectError}):null,e.isDisabled?(0,GS.jsxs)("div",{className:"ui two buttons",style:{paddingTop:"12px"},children:[" ",(0,GS.jsx)("button",{className:"ui red button",style:{fontSize:"18px",cursor:"default",fontFamily:"Patrick Hand",fontWeight:"500"},children:e.rejectModalContent})]}):(0,GS.jsx)("button",{className:"ui red button",style:{marginTop:"15px"},children:"Reject"})]})]}),(0,GS.jsx)("div",{className:"modal-footer",children:!e.isDisabled&&(0,GS.jsxs)("button",{className:"clearButton",onClick:e.onClearModalHandler,disabled:e.isDisabled,children:["Cancel"," "]})})]})}):null},bj=function(e){var t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=u((0,r.useState)(""),2),s=a[0],o=a[1],l=u((0,r.useState)([]),2),c=l[0],d=l[1],h=u((0,r.useState)(!0),2),f=h[0],p=h[1],v=u((0,r.useState)(!1),2),m=v[0],y=v[1],g=u((0,r.useState)(!1),2),k=g[0],b=g[1],_=u(Ls(VS),3),x=_[0],w=_[1],N=(_[2],u((0,r.useState)(),2)),S=N[0],E=N[1],I=u((0,r.useState)(),2),C=I[0],T=I[1],D=u((0,r.useState)(),2),j=D[0],R=D[1],P=u((0,r.useState)(!1),2),A=P[0],O=P[1],L=u((0,r.useState)(""),2),M=L[0],U=L[1],V=u((0,r.useState)(""),2),z=V[0],H=V[1],B=u((0,r.useState)("Funds Rejecting..."),2),W=B[0],q=B[1],Y=u((0,r.useState)(!1),2),G=Y[0],K=Y[1],Q=u((0,r.useState)(),2),$=Q[0],J=Q[1],ee=u((0,r.useState)(!1),2),te=ee[0],ne=ee[1],re=u((0,r.useState)(),2),ie=re[0],ae=re[1],se=u((0,r.useState)(!1),2),oe=se[0],ue=se[1],le=u((0,r.useState)("Funds Approving..."),2),ce=le[0],de=le[1],he=F();(0,r.useEffect)((function(){if(!w){if(x){E(x.accessToken);var t=setTimeout((function(){if("admin"!==e.role)return"approver"===e.role?he("/approver-panel"):"user"===e.role?he("/"):void 0;pe()}),500);return function(){clearTimeout(t)}}return E(),he("/login")}}),[x,S,e.role,w,e.employeeMailId]);var fe="".concat(sE,"/ReimbursementRecords.json?auth=").concat(S),pe=function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,qS().get(fe);case 3:t=e.sent,o(t.data),i(!1),(n=t.data)&&d(Object.keys(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsxs)(r.Fragment,{children:[n&&(0,GS.jsx)($S,{}),(0,GS.jsx)(tE,{role:e.role,employeeName:e.employeeName}),(0,GS.jsx)("div",{className:"header-RemDetails",children:(0,GS.jsx)("h1",{style:{fontFamily:"Patrick Hand",fontSize:"35px",color:"Blue",textAlign:"center",fontWeight:"500"},children:"Admin Panel"})}),s?(0,GS.jsxs)("div",{className:"ui container",style:{position:"inherit",backgroundColor:"transparent !important",border:"none",boxShadow:" none"},children:[(0,GS.jsx)(pj,{adminRemRecords:c,adminData:s,employeeMailId:e.employeeMailId}),(0,GS.jsxs)("div",{className:"ui top attached tabular menu",children:[(0,GS.jsx)("a",{className:"item ".concat(!0===f?"active":""),"data-tab":"first",onClick:function(){console.log("First Tab Clicked"),p(!0),y(!1),b(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"red"},children:"Require Action By Admin"}),(0,GS.jsx)("a",{className:"item ".concat(!0===m?"active":""),"data-tab":"second",onClick:function(){console.log("Second Tab Clicked"),y(!0),p(!1),b(!1)},style:{width:"33.5%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Awaiting Action By Approver"}),(0,GS.jsx)("a",{className:"item ".concat(!0===k?"active":""),"data-tab":"third",onClick:function(){console.log("Third Tab Clicked"),b(!0),p(!1),y(!1)},style:{width:"33.1%",fontFamily:"Patrick Hand",fontSize:"23px",color:"green"},children:"Rejected By Approver"})]}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===f?"active":""),"data-tab":"first",children:(0,GS.jsx)(mj,{adminRemRecords:c,adminData:s,isApproveDisabled:oe,rejectResponse:j,approveResponse:C,approvalHandler:function(e,t){console.log(e),window.confirm("Are Funds processed for this record?")&&(ae(e),T(t),ne(!0))},declineHandler:function(e,t){window.confirm("Are Funds unavailable for this record?")&&(J(e),R(t),O(!0))},employeeMailId:e.employeeMailId,adminAccessToken:S})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===m?"active":""),"data-tab":"second",children:(0,GS.jsx)(vj,{adminRemRecords:c,adminData:s,employeeMailId:e.employeeMailId,adminAccessToken:S})}),(0,GS.jsx)("div",{className:"ui bottom attached tab segment ".concat(!0===k?"active":""),"data-tab":"third",children:(0,GS.jsx)(yj,{adminRemRecords:c,adminData:s,employeeMailId:e.employeeMailId,adminAccessToken:S})})]}):(0,GS.jsx)("div",{style:{maxWidth:"80%",margin:"auto"},className:"noRecords-div",children:(0,GS.jsx)("p",{style:{fontFamily:"Patrick Hand",fontSize:"22px",color:"black",fontWeight:"500",textAlign:"center"},children:"Sorry! No Records Available"})}),(0,GS.jsx)(KS,{}),(0,GS.jsx)(gj,{appShow:te,approveId:ie,isApproveDisabled:oe,approvalSubmitHandler:function(){var e={adminMailId:s[ie].AdminMailId,approverMailId:s[ie].ApproverMailId,fundProcessedEmailAddress:s[ie].EmployeeMail,fundProcessedEmployeeName:s[ie].EmployeeName,fundProcessedEmployeeId:s[ie].UserSpecificId,fundProcessedApprovedAccount:s[ie].ApprovedAccount,fundProcessedAmount:s[ie].AmountToBeRefunded,fundProcessedInvoiceDate:s[ie].InvoiceDate,fundProcessedDescription:s[ie].ExpenseDescription,fundProcessedConsent:s[ie].EmployeeConsent,fundProcessedDate:s[ie].ExpenseDate,fundProcessedInvoiceNo:s[ie].InvoiceNo,fundProcessedVendorName:s[ie].VendorName,fundProcessedExpenseCategory:s[ie].ExpenseCategory,fundProcessedPaidTo:s[ie].PaidTo,fundProcessedFileLink:s[ie].Invoice};ue(!0),BS.child("ReimbursementRecords/".concat(ie)).update({IsFundsProcessed:"Yes"}).then((function(){de("Approving Funds ..."),qS().post("/fundsProcessedMail",e,{headers:{"Content-type":"application/json"}}).then((function(e){de("Funds Approval Mail Sent!"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)})).catch((function(e){de("There is an issue with the mailing service Funds are appproved."),setTimeout((function(){window.location.reload(!0)}),2e3),console.log(e)}))})).catch((function(e){ue(!1),console.log(e),alert("There is an error with the db connection")}))},onClearApproveModalHandler:function(e){ne(!1),T()},approveModalContent:ce,adminData:s}),(0,GS.jsx)(kj,{show:A,onClearModalHandler:function(e){O(!1),R(),U(""),H("")},rejectionInputHandler:function(e){console.log(e.target.value),U(e.target.value)},rejectionSubmitHandler:function(e){e.preventDefault();var t={adminMailId:s[$].AdminMailId,approverMailId:s[$].ApproverMailId,fundRejectedEmailAddress:s[$].EmployeeMail,fundRejectedEmployeeName:s[$].EmployeeName,fundRejectedEmployeeId:s[$].UserSpecificId,fundRejectedAccount:s[$].ApprovedAccount,fundRejectedAmount:s[$].AmountToBeRefunded,fundRejectedInvoiceDate:s[$].InvoiceDate,fundRejectedDescription:s[$].ExpenseDescription,fundRejectedConsent:s[$].EmployeeConsent,fundRejectedDate:s[$].ExpenseDate,fundRejectedInvoiceNo:s[$].InvoiceNo,fundRejectedVendorName:s[$].VendorName,fundRejectedExpenseCategory:s[$].ExpenseCategory,fundRejectedPaidTo:s[$].PaidTo,fundRejectedFileLink:s[$].Invoice,fundRejectedReason:M};""===M?H("Please Enter a Reason"):(K(!0),BS.child("ReimbursementRecords/".concat($)).update({IsFundsProcessed:"No",FundsRejectionReason:M}).then((function(){q("Rejecting..."),qS().post("/fundsRejectedMail",t,{headers:{"Content-type":"application/json"}}).then((function(e){q("Rejection Mail Sent"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)})).catch((function(e){q("There is an issue with the mailing service but the form is rejected"),console.log(e),setTimeout((function(){window.location.reload(!0)}),2e3)}))})).catch((function(e){K(!1),console.log(e),alert("There is an error with the db connection please try again after sometime."),U("")})))},remId:$,adminData:s,rejectReason:M,rejectError:z,isDisabled:G,rejectModalContent:W})]})},_j=function(){var e=u(Ls(VS),3),t=e[0],n=(e[1],e[2],u((0,r.useState)(""),2)),i=n[0],a=n[1],s=u((0,r.useState)(),2),o=s[0],l=s[1],c=u((0,r.useState)([]),2),d=(c[0],c[1],u((0,r.useState)(),2)),h=d[0],f=d[1],p=u((0,r.useState)(""),2),v=p[0],m=p[1],y=u((0,r.useState)(""),2),g=y[0],k=y[1],b=u((0,r.useState)(""),2),_=b[0],x=b[1],w=u((0,r.useState)([]),2),N=(w[0],w[1],u((0,r.useState)(!0),2)),S=N[0],E=(N[1],u((0,r.useState)(""),2)),I=E[0],C=E[1],T=u((0,r.useState)(""),2),D=(T[0],T[1],u((0,r.useState)(""),2)),j=D[0],R=D[1],P=u((0,r.useState)([]),2),A=P[0],O=P[1],L=u((0,r.useState)(""),2);L[0],L[1],Ts().currentUser,F();(0,r.useEffect)((function(){return t&&(a(null===t||void 0===t?void 0:t.email),M()),function(){f(),R(),O(),C(),m(),k(),R()}}),[t]);var M=function(){var e=Z(X().mark((function e(){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=DS(JN(zS,"UserAuth"),RS("uid","==",null===t||void 0===t?void 0:t.uid)),e.next=4,FS(n);case 4:r=e.sent,i=r.docs[0].data(),f(i.role),R(i.employeeId),O(i.account),C(i.name),m(i.approverMailId),k(i.adminMailId),x(i.emailID),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("Your Data has not been updated on the database"),HS();case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,GS.jsx)(r.Fragment,{children:(0,GS.jsxs)(B,{children:[(0,GS.jsx)(z,{exact:!0,path:"/login",element:(0,GS.jsx)(KD,{role:h})}),(0,GS.jsx)(z,{exact:!0,path:"/approver-panel",element:(0,GS.jsx)(tj,{role:h,employeeName:I,employeeMailId:_,employeeID:j})}),(0,GS.jsx)(z,{exact:!0,path:"/approver-records",element:(0,GS.jsx)(sj,{role:h,employeeName:I,employeeID:j,approverMailId:v,adminMailId:g})}),(0,GS.jsx)(z,{exact:!0,path:"/admin-panel",element:(0,GS.jsx)(bj,{role:h,employeeName:I,employeeMailId:_,employeeID:j})}),(0,GS.jsx)(z,{exact:!0,path:"/admin-records",element:(0,GS.jsx)(fj,{role:h,employeeName:I,employeeMailId:_,employeeID:j,approverMailId:v,adminMailId:g})}),(0,GS.jsx)(z,{exact:!0,path:"/",element:(0,GS.jsxs)(r.Fragment,{children:[(0,GS.jsx)(GD,{setSubmitValid:l,employeeID:j,userRole:h,approver:S,employeeName:I,approverMailId:v,adminMailId:g,account:A}),(0,GS.jsx)(KS,{})]})}),o?(0,GS.jsx)(z,{exact:!0,path:"/form-Submitted",element:(0,GS.jsx)(r.Fragment,{children:(0,GS.jsx)("div",{className:"form-main_div",style:{margin:"20px auto",maxWidth:"90vw",width:"640px"},children:(0,GS.jsx)(qD,{employeeMail:i})})})}):null,(0,GS.jsx)(z,{exact:!0,path:"/user-records",element:(0,GS.jsx)(oE,{employeeID:j,name:I,role:h,approverMailId:v,adminMailId:g,account:A})}),(0,GS.jsx)(z,{exact:!0,path:"/reset",element:(0,GS.jsx)(uj,{})}),(0,GS.jsx)(z,{path:"*",element:(0,GS.jsx)(oj,{})})]})})};a.createRoot(document.getElementById("root")).render((0,GS.jsx)(r.StrictMode,{children:(0,GS.jsx)(K,{children:(0,GS.jsx)(_j,{})})}))}()}();
//# sourceMappingURL=main.82106ce5.js.map